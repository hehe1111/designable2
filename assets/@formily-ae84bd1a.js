import{r as E,R as d,h as xo,D as zu,S as Gu,a as Hu,C as qu,b as Wu,K as Ku}from"./react-vendor-0173689f.js";import{l as Kr,p as Xu,d as C,R as Yu}from"./vendor-b653a490.js";import{C as va,t as Ju,B as In,a as Ei,E as Qu,b as Ga,S as Oo,T as Zu,c as Tn,P as es,d as ha,A as ts,e as So,f as Eo,g as wo,h as wi,i as Pi,j as rs,I as Ha,k as ns,R as Po,l as as,m as Io,n as is,o as os,p as To}from"./antd-f53b6477.js";import{C as ls,D as us,a as ss,U as cs,P as fs,M as ds,L as Cn,Q as vs,b as hs,c as ps,E as ms,d as Co,e as Ao,f as gs,I as bs,g as Ii}from"./@ant-design/icons-920be548.js";import{d as Xr}from"./dayjs-06c10f2c.js";var ys=Object.prototype.toString,Fo=function(e){return e&&e instanceof Map},No=function(e){return e&&e instanceof Set},Ro=function(e){return e&&e instanceof WeakMap},jo=function(e){return e&&e instanceof WeakSet},q=function(e){return typeof e=="function"},qa=Array.isArray,Wa=function(e){return ys.call(e)==="[object Object]"},_s=function(e){return e!=null},Mo=function(e){return Fo(e)||Ro(e)||No(e)||jo(e)},ko=function(e){return Wa(e)||qa(e)},Do=function(e){return Array.isArray(e)?e:e!=null?[e]:[]},et=function(){function e(t){t===void 0&&(t=[]),this.forEachIndex=0,this.value=t}return e.prototype.add=function(t){this.has(t)||this.value.push(t)},e.prototype.has=function(t){return this.value.indexOf(t)>-1},e.prototype.delete=function(t){var r=this.value.length;if(r!==0){if(r===1&&this.value[0]===t){this.value=[];return}var n=this.value.indexOf(t);n>-1&&(this.value.splice(n,1),n<=this.forEachIndex&&(this.forEachIndex-=1))}},e.prototype.forEach=function(t){if(this.value.length!==0)for(this.forEachIndex=0;this.forEachIndex<this.value.length;this.forEachIndex++)t(this.value[this.forEachIndex])},e.prototype.batchDelete=function(t){if(this.value.length!==0)for(this.forEachIndex=0;this.forEachIndex<this.value.length;this.forEachIndex++){var r=this.value[this.forEachIndex];this.value.splice(this.forEachIndex,1),this.forEachIndex--,t(r)}},e.prototype.clear=function(){this.value.length=0},e}(),K=new WeakMap,hr=new WeakMap,Ka=new WeakMap,Vo=new WeakMap,pa=new WeakMap,H=[],sr={value:0},Se={value:0},Xa={value:!1},ma={value:!1},Ya=new et,Ja=new et,Lo=new et,ga=new et,De=Symbol("MakeObModelSymbol"),ht=Symbol("ObModelSymbol"),ba=Symbol("ObModelNodeSymbol"),$o=Symbol("iteration key"),xs=function(e,t,r){var n=pa.get(e);if(n){var a=n.get(t);return a?a.add(r):n.set(t,new et([r])),n}else{var i=new Map([[t,new et([r])]]);return pa.set(e,i),i}},Os=function(e,t){var r=e._reactionsSet;return r?r.add(t):e._reactionsSet=new et([t]),r},Bo=function(e,t){var r=pa.get(e),n=[];if(r){var a=r.get(t);a&&a.forEach(function(i){n.indexOf(i)===-1&&n.push(i)})}return n},Wn=function(e,t){var r=Bo(e,t),n=Se.value;Se.value=0;for(var a=0,i=r.length;a<i;a++){var o=r[a];o._isComputed?o._scheduler(o):Ts()?Ja.add(o):Is()?Ya.add(o):q(o._scheduler)?o._scheduler(o):o()}Se.value=n},Ss=function(e){ga.forEach(function(t){return t(e)})},re=function(e){var t=e.key,r=e.type,n=e.target;r==="iterate"&&(t=$o);var a=H.length;if(a!==0){var i=H[a-1];Go()||i&&(ma.value=!0,Os(i,xs(n,t,i)))}},Es=function(e){if(q(e)){var t=H[H.length-1];if(t){var r=t._computesSet;r?r.add(e):t._computesSet=new et([e])}}},be=function(e){var t=e.key,r=e.type,n=e.target,a=e.oldTarget;if(at(),Ss(e),r==="clear"?a.forEach(function(o,l){Wn(n,l)}):Wn(n,t),r==="add"||r==="delete"||r==="clear"){var i=Array.isArray(n)?"length":$o;Wn(n,i)}it()},ws=function(){return H.length>0},pr=function(e){var t;(t=e._reactionsSet)===null||t===void 0||t.forEach(function(r){r.forEach(function(n){n.delete(e)})}),Ya.delete(e),Ja.delete(e),delete e._reactionsSet},Ps=function(e){var t;(t=e._computesSet)===null||t===void 0||t.forEach(function(r){var n=Bo(r._context,r._property);n.length===0&&(An(r),r._dirty=!0)})},An=function(e){e._disposed=!0,pr(e),Ps(e)},at=function(){sr.value++},it=function(){if(sr.value--,sr.value===0){var e=Se.value;Se.value=0,Cs(),As(),Se.value=e}},Uo=function(){Xa.value=!0},zo=function(){var e=Se.value;Xa.value=!1,Se.value=0,Ja.batchDelete(function(t){q(t._scheduler)?t._scheduler(t):t()}),Se.value=e},Qa=function(){Se.value++},Za=function(){Se.value--},Is=function(){return sr.value>0},Ts=function(){return Xa.value},Go=function(){return Se.value>0},Cs=function(){Ya.batchDelete(function(e){q(e._scheduler)?e._scheduler(e):e()})},As=function(){Lo.batchDelete(function(e){e()})},Ho=function(e,t){return e===t?!1:!!(e.length!==t.length||e.some(function(r,n){return r!==t[n]}))},Fs=function(e){if(e._effects)try{at(),e._effects.queue.forEach(function(t){!t||!t.dispose||t.dispose()})}finally{it()}},Ti=function(){function e(t,r){this.node=r,this.key=t.key,this.type=t.type,this.object=t.target,this.value=t.value,this.oldValue=t.oldValue}return Object.defineProperty(e.prototype,"path",{get:function(){return this.node.path.concat(this.key)},enumerable:!1,configurable:!0}),e}(),Ns=function(){function e(t,r,n){this.target=t,this.key=r,this.value=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.parent?this.parent.path.concat(this.key):this.key?[this.key]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetRaw",{get:function(){return Lt(this.target)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){if(this.target)return pt(this.targetRaw)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.key?t.targetRaw===this.targetRaw&&t.key===this.key:t.value===this.value},e.prototype.contains=function(t){if(t===this)return!0;for(var r=t.parent;r;){if(this.isEqual(r))return!0;r=r.parent}return!1},e}(),pt=function(e){return e!=null&&e[ba]?e[ba]:Vo.get(e)},Rs=function(e,t){if(e!=null&&e[ht]){e[ba]=t;return}Vo.set(e,t)},mr=function(e,t,r){var n=Lt(r),a=pt(n);if(a)return a;Rs(n,new Ns(e,t,r))},Yr=Symbol("RAW_TYPE"),js=Symbol("OBSERVABLE_TYPE"),Ms=Object.prototype.hasOwnProperty,mt=function(e){return K.has(e)||!!(e!=null&&e[ht])},ks=function(e){return e&&!!e[De]},Fn=function(e){return _s(e)?qa(e)?!0:Wa(e)?e[Yr]?!1:e[js]?!0:!("$$typeof"in e&&"_owner"in e||e._isAMomentObject||e._isJSONSchemaObject||q(e.toJS)||q(e.toJSON)):!!(Fo(e)||Ro(e)||No(e)||jo(e)):!1},Nn=function(e){if(e)return q(e)?e.prototype[Yr]=!0:e[Yr]=!0,e},Lt=function(e){return e!=null&&e[ht]?e[ht]:K.get(e)||e},Be=function(e){var t=new WeakSet,r=function(n){if(t.has(n)||n&&n[Yr])return n;if(qa(n)){if(mt(n)){t.add(n);var a=[];return n.forEach(function(l){a.push(r(l))}),t.delete(n),a}}else if(Wa(n)&&mt(n)){t.add(n);var i={};for(var o in n)Ms.call(n,o)&&(i[o]=r(n[o]));return t.delete(n),i}return n};return r(e)},qo=function(e,t){var r=Lt(e),n=Lt(t);if(r===n)return!0;var a=pt(r),i=pt(n);return!a||!i?!1:a.contains(i)},Ds=function(e){return ma.value=!1,e==null||e(),ma.value},Ci=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Ai=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},jr,Vs=new Set(Object.getOwnPropertyNames(Symbol).map(function(e){return Symbol[e]}).filter(function(e){return typeof e=="symbol"})),Wo=Object.prototype.hasOwnProperty;function Jr(e,t,r){var n=hr.get(r);return n||(!mt(r)&&Fn(r)?tt(e,t,r):r)}function Kn(e,t,r,n){var a=r.next;return r.next=function(){var i=a.call(r),o=i.done,l=i.value;return o||(n?l[1]=Jr(e,t,l[1]):l=Jr(e,t,l)),{done:o,value:l}},r}var Fi=(jr={has:function(e){var t=K.get(this),r=Reflect.getPrototypeOf(this);return re({target:t,key:e,type:"has"}),r.has.apply(t,arguments)},get:function(e){var t=K.get(this),r=Reflect.getPrototypeOf(this);return re({target:t,key:e,type:"get"}),Jr(t,e,r.get.apply(t,arguments))},add:function(e){var t=K.get(this),r=Reflect.getPrototypeOf(this),n=r.has.call(t,e),a=r.add.apply(t,arguments);return n||be({target:t,key:e,value:e,type:"add"}),a},set:function(e,t){var r=K.get(this),n=Reflect.getPrototypeOf(this),a=n.has.call(r,e),i=n.get.call(r,e),o=n.set.apply(r,arguments);return a?t!==i&&be({target:r,key:e,value:t,oldValue:i,type:"set"}):be({target:r,key:e,value:t,type:"add"}),o},delete:function(e){var t=K.get(this),r=Reflect.getPrototypeOf(this),n=r.has.call(t,e),a=r.get?r.get.call(t,e):void 0,i=r.delete.apply(t,arguments);return n&&be({target:t,key:e,oldValue:a,type:"delete"}),i},clear:function(){var e=K.get(this),t=Reflect.getPrototypeOf(this),r=e.size!==0,n=e instanceof Map?new Map(e):new Set(e),a=t.clear.apply(e,arguments);return r&&be({target:e,oldTarget:n,type:"clear"}),a},forEach:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=K.get(this),i=Reflect.getPrototypeOf(this);re({target:a,type:"iterate"});var o=function(l,s){for(var u=[],c=2;c<arguments.length;c++)u[c-2]=arguments[c];return e.apply(void 0,Ai([Jr(a,s,l),s],Ci(u),!1))};return(t=i.forEach).call.apply(t,Ai([a,o],Ci(r),!1))},keys:function(){var e=K.get(this),t=Reflect.getPrototypeOf(this);return re({target:e,type:"iterate"}),t.keys.apply(e,arguments)},values:function(){var e=K.get(this),t=Reflect.getPrototypeOf(this);re({target:e,type:"iterate"});var r=t.values.apply(e,arguments);return Kn(e,"",r,!1)},entries:function(){var e=K.get(this),t=Reflect.getPrototypeOf(this);re({target:e,type:"iterate"});var r=t.entries.apply(e,arguments);return Kn(e,"",r,!0)}},jr[Symbol.iterator]=function(){var e=K.get(this),t=Reflect.getPrototypeOf(this);re({target:e,type:"iterate"});var r=t[Symbol.iterator].apply(e,arguments);return Kn(e,"",r,e instanceof Map)},Object.defineProperty(jr,"size",{get:function(){var e=K.get(this),t=Reflect.getPrototypeOf(this);return re({target:e,type:"iterate"}),Reflect.get(t,"size",e)},enumerable:!1,configurable:!0}),jr),Ls={get:function(e,t,r){return e=Wo.call(Fi,t)?Fi:e,Reflect.get(e,t,r)}},$s={get:function(e,t,r){if(t){var n=e[t];if(typeof t=="symbol"&&Vs.has(t))return n;re({target:e,key:t,receiver:r,type:"get"});var a=hr.get(n);if(a)return a;if(!mt(n)&&Fn(n)){var i=Reflect.getOwnPropertyDescriptor(e,t);if(!i||!(i.writable===!1&&i.configurable===!1))return tt(e,t,n)}return n}},has:function(e,t){var r=Reflect.has(e,t);return re({target:e,key:t,type:"has"}),r},ownKeys:function(e){var t=Reflect.ownKeys(e);return re({target:e,type:"iterate"}),t},set:function(e,t,r,n){var a=Wo.call(e,t),i=tt(e,t,r),o=e[t];return e[t]=i,a?r!==o&&be({target:e,key:t,value:i,oldValue:o,receiver:n,type:"set"}):be({target:e,key:t,value:i,oldValue:o,receiver:n,type:"add"}),!0},deleteProperty:function(e,t){var r=e[t];return delete e[t],be({target:e,key:t,oldValue:r,type:"delete"}),!0}},Ko=function(e,t){var r=new Proxy(e,$s);return K.set(r,e),t?Ka.set(e,r):hr.set(e,r),r},Xo=function(e,t){var r=new Proxy(e,Ls);return K.set(r,e),t?Ka.set(e,r):hr.set(e,r),r},Bs=function(e){return ko(e)?Ko(e,!0):Mo(e)?Xo(e,!0):e},tt=function(e,t,r,n){if(typeof r!="object")return r;var a=K.get(r);if(a){var i=pt(a);return i.target||(i.target=e),i.key=t,r}if(!Fn(r))return r;if(e){var o=K.get(e)||e,l=Ka.get(o);if(l)return r}return mr(e,t,r),n?Bs(r):ko(r)?Ko(r):Mo(r)?Xo(r):r},Ht=function(e){var t=function(r){return e({value:r})};return q(e)&&(t[De]=e),t},Yo=function(e){if(e[De])return e[De][De]?Yo(e[De]):e[De]},Jo=function(e,t){function r(n){var a;try{e(),q(n)&&(a=n())}finally{t()}return a}return r.bound=Us(r),r},Us=function(e){function t(r,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(function(){return r.apply(n,a)})}}return t},Rn=function(e,t){var r=Jo(e,t),n=Ht(function(a){var i=a.target,o=a.key;return i[o]=r.bound(i[o],i),i});return r[De]=n,r.bound[De]=n,r},j=Rn(at,it);j.scope=Rn(Uo,zo);j.endpoint=function(e){q(e)&&(sr.value===0?e():Lo.add(e))};var P=Rn(function(){at(),Qa()},function(){Za(),it()});P.scope=Rn(function(){Uo(),Qa()},function(){Za(),zo()});var jn=Jo(Qa,Za),Qo=Ht(function(e){var t=e.target,r=e.key,n=e.value,a={value:tt(t,r,t?t[r]:n)};function i(){return re({target:t,key:r,type:"get"}),a.value}function o(l){var s=a.value;l=tt(t,r,l),a.value=l,s!==l&&be({target:t,key:r,type:"set",oldValue:s,value:l})}return t?(Object.defineProperty(t,r,{set:o,get:i,enumerable:!0,configurable:!1}),t):a.value}),zs=Ht(function(e){var t=e.target,r=e.key,n=e.value,a={value:t?t[r]:n},i={set:l,get:o};K.set(i,a),hr.set(a,i),mr(t,r,a);function o(){return re({target:a,key:r,type:"get"}),a.value}function l(s){var u=a.value;a.value=s,u!==s&&be({target:a,key:r,type:"set",oldValue:u,value:s})}return t?(Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!1,writable:!1}),t):i}),Gs=Ht(function(e){var t=e.target,r=e.key,n=e.value,a={value:t?t[r]:n},i={},o=t||a,l=t?r:"value";function s(){return re({target:o,key:l,type:"get"}),a.value}function u(c){var f=a.value;a.value=c,f!==c&&be({target:o,key:l,type:"set",oldValue:f,value:c})}return t?(Object.defineProperty(t,r,{get:s,set:u,enumerable:!0}),t):(Object.defineProperty(i,"value",{set:u,get:s}),mr(t,r,a),i[ht]=a,i)}),Hs=Ht(function(e){var t=e.target,r=e.key,n=e.value,a={value:tt(t,r,t?t[r]:n,!0)};function i(){return re({target:t,key:r,type:"get"}),a.value}function o(l){var s=a.value;l=tt(t,r,l,!0),a.value=l,s!==l&&be({target:t,key:r,type:"set",oldValue:s,value:l})}return t?(Object.defineProperty(t,r,{set:o,get:i,enumerable:!0,configurable:!1}),t):a.value}),qs=Object.getOwnPropertyDescriptor,Ws=Object.getPrototypeOf,Ni=Symbol("ClassDescriptorSymbol");function ya(e,t){if(e)return qs(e,t)||ya(Ws(e),t)}function Ks(e,t){var r=e.constructor;if(r===Object||r===Array)return ya(e,t);var n=r[Ni]||{},a=n[t];if(a)return a;var i=ya(e,t);return r[Ni]=n,n[t]=i,i}function Xs(e,t,r){if(!e)return r?q(r)?{get:r}:r:{};var n=Ks(e,t);return n||{}}var Ys=Ht(function(e){var t=e.target,r=e.key,n=e.value,a={},i={},o=t||a,l=t?r:"value",s=Xs(t,l,n);function u(){var v;a.value=(v=s.get)===null||v===void 0?void 0:v.call(o)}function c(){if(H.indexOf(c)===-1){pr(c);try{H.push(c),u()}finally{H.pop()}}}c._name="ComputedReaction",c._scheduler=function(){c._dirty=!0,be({target:o,key:l,value:a.value,type:"set"})},c._isComputed=!0,c._dirty=!0,c._context=o,c._property=l;function f(){return ws()&&Es(c),Go()?u():c._dirty&&(c(),c._dirty=!1),re({target:o,key:l,type:"get"}),a.value}function h(v){var p;try{at(),(p=s.set)===null||p===void 0||p.call(o,v)}finally{it()}}return t?(Object.defineProperty(t,r,{get:f,set:h,enumerable:!0}),t):(Object.defineProperty(i,"value",{set:h,get:f}),mr(t,r,a),i[ht]=a,i)});function _(e){return tt(null,null,e)}_.box=zs;_.ref=Gs;_.deep=Qo;_.shallow=Hs;_.computed=Ys;_[De]=Qo;function qt(e,t){if(mt(e)||!Fn(e))return e;e[ht]=e,mr(void 0,void 0,e);for(var r in t){var n=t[r];ks(n)&&Yo(n)({target:e,key:r})}return e}function Zo(e){var t=Object.keys(e||{}).reduce(function(r,n){var a=Object.getOwnPropertyDescriptor(e,n);return a&&a.get?r[n]=_.computed:q(e[n])?r[n]=P:r[n]=_,r},{});return qt(e,t)}var _a=globalThis&&globalThis.__assign||function(){return _a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_a.apply(this,arguments)},Ze=function(e,t){t===void 0&&(t="AutoRun");var r=function(){if(q(e)&&!(r._boundary>0)&&H.indexOf(r)===-1){pr(r);try{at(),H.push(r),e()}finally{H.pop(),r._boundary++,it(),r._boundary=0,r._memos.cursor=0,r._effects.cursor=0}}},n=function(){r._memos={queue:[],cursor:0},r._effects={queue:[],cursor:0}};return r._boundary=0,r._name=t,n(),r(),function(){An(r),Fs(r),n()}};Ze.memo=function(e,t){if(q(e)){var r=H[H.length-1];if(!r||!r._memos)throw new Error("autorun.memo must used in autorun function body.");var n=Do(t||[]),a=r._memos.cursor++,i=r._memos.queue[a];if(!i||Ho(n,i.deps)){var o=e();return r._memos.queue[a]={value:o,deps:n},o}return i.value}};Ze.effect=function(e,t){if(q(e)){var r=H[H.length-1];if(!r||!r._effects)throw new Error("autorun.effect must used in autorun function body.");var n=r._effects,a=Do(t||[{}]),i=n.cursor++,o=n.queue[i];(!o||Ho(a,o.deps))&&(Promise.resolve(0).then(function(){if(!r._disposed){var l=e();q(l)&&(n.queue[i].dispose=l)}}),n.queue[i]={deps:a})}};var gr=function(e,t,r){var n=_a({name:"Reaction"},r),a={},i=function(){return q(n.equals)?!n.equals(a.oldValue,a.currentValue):a.oldValue!==a.currentValue},o=function(){try{at(),q(t)&&t(a.currentValue,a.oldValue)}finally{it()}},l=function(){if(H.indexOf(l)===-1){pr(l);try{H.push(l),a.currentValue=e()}finally{H.pop()}}};return l._scheduler=function(s){s(),i()&&o(),a.oldValue=a.currentValue},l._name=n.name,l(),a.oldValue=a.currentValue,n.fireImmediately&&o(),function(){An(l)}},Js=function(){function e(t,r){r===void 0&&(r="TrackerReaction");var n=this;this.track=function(a){if(!q(a))return n.results;if(!(n.track._boundary>0)){if(H.indexOf(n.track)===-1){pr(n.track);try{at(),H.push(n.track),n.results=a()}finally{H.pop(),n.track._boundary++,it(),n.track._boundary=0}}return n.results}},this.dispose=function(){An(n.track)},this.track._scheduler=function(a){n.track._boundary===0&&n.dispose(),q(a)&&t(a)},this.track._name=r,this.track._boundary=0}return e}(),Qs=function(e,t,r){r===void 0&&(r=!0);var n=function(a){var i=Lt(a),o=pt(i),l=function(s){var u=Lt(s.target),c=pt(u);if(r&&o.contains(c)){t(new Ti(s,c));return}(o===c||o.targetRaw===u&&o.key===s.key)&&t(new Ti(s,c))};return o&&q(t)&&ga.add(l),function(){ga.delete(l)}};if(e&&typeof e!="object")throw Error("Can not observe ".concat(typeof e," type."));return n(e)},xa=globalThis&&globalThis.__assign||function(){return xa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xa.apply(this,arguments)},Wt=function(e,t){return xa({flag:e},t)},el=Wt("[]"),Oa=Wt("[\\d]"),Qr=Wt("[[]]"),tl=Wt("()"),rl=Wt("{}"),Oe=Wt("{x}"),Sa=globalThis&&globalThis.__assign||function(){return Sa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Sa.apply(this,arguments)},Z=function(e,t){return Sa({flag:e},t)},ae=Z("name",{expectNext:function(e){return this.includesContext(Oe)?e===ae||e===ie||e===se||e===rt||e===He:e===ve||e===ie||e===ee||e===se||e===Ke||e===He||e===Mn||e===ne}}),$t=Z("*",{expectNext:function(e){return e===ve||e===br||e===ne||e===ee||e===ie||e===Ke}}),Zr=Z("**",{expectNext:function(e){return e===ve||e===ne||e===ee||e===ie||e===Ke}}),ve=Z(".",{expectNext:function(e){return e===ve||e===ae||e===We||e===$t||e===Zr||e===ne||e===Ue||e===ee},expectPrev:function(e){return e===ve||e===ae||e===ti||e===$t||e===Ke||e===se||e===Mn||e===rt}}),ei=Z("!",{expectNext:function(e){return e===ae||e===We}}),He=Z(":",{expectNext:function(e){return this.includesContext(Oe)?e===ae||e===Ue||e===ne:e===ae||e===We||e===se}}),Ue=Z("{",{expectNext:function(e){return e===ae},expectPrev:function(e){return this.includesContext(Oe)?e===He||e===ie||e===ne:e===ve||e===He||e===br},updateContext:function(){this.state.context.push(rl)}}),rt=Z("}",{expectNext:function(e){return this.includesContext(Oe)?e===ie||e===rt||e===ee||e===se:e===ve||e===ee||e===ie},expectPrev:function(e){return e===ae||e===rt||e===se},updateContext:function(){this.state.context.pop(rl)}}),ne=Z("[",{expectNext:function(e){return this.includesContext(Oe)?e===ae||e===ne||e===Ue||e===se:e===ae||e===We||e===He||e===ne||e===nl||e===se},expectPrev:function(e){return this.includesContext(Oe)?e===He||e===ie||e===ne:e===$t||e===ne||e===ve||e===ae||e===br||e==ie},updateContext:function(){this.state.context.push(el)}}),se=Z("]",{expectNext:function(e){return this.includesContext(Oe)?e===ie||e===rt||e===se||e===ee:e===ve||e===ee||e===ie||e===Ke||e===se},updateContext:function(){if(!this.includesContext(Oa)){if(!this.includesContext(el))throw this.unexpect();this.state.context.pop()}}}),We=Z("[[",{updateContext:function(){this.state.context.push(Qr)}}),ti=Z("]]",{updateContext:function(){if(this.curContext()!==Qr)throw this.unexpect();this.state.context.pop()}}),br=Z("(",{expectNext:function(e){return e===ae||e===We||e===Ue||e===ei||e===ne},expectPrev:function(e){return e===$t},updateContext:function(){this.state.context.push(tl)}}),Ke=Z(")",{expectNext:function(e){return e===ve||e===ee||e===ie||e===Ke},updateContext:function(){if(this.curContext()!==tl)throw this.unexpect();this.state.context.pop()}}),ie=Z(",",{expectNext:function(e){return e===ae||e===We||e===ne||e===Ue}}),nl=Z("ignore",{expectNext:function(e){return e===ti},expectPrev:function(e){return e==We}}),Mn=Z("expandTok",{expectNext:function(e){return e===ve||e===ee||e===ie||e===Ke}}),ee=Z("eof"),Ri=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Zs=function(e,t){if(String.fromCharCode)return e.codePointAt(t);var r=e.charCodeAt(t);if(r<=55295||r>=57344)return r;var n=e.charCodeAt(t+1);return(r<<10)+n-56613888},ec=function(e){return e===42||e===46||e===33||e===91||e===93||e===40||e===41||e===44||e===58||e===126||e===123||e===125},Xn=function(e,t){var r=new Error(e);return Object.assign(r,t),r},Zt=function(e,t,r){for(var n="",a=t;a<r;a++){var i=e.charAt(a);i!=="\\"&&(n+=i)}return n},tc=function(){function e(t){this.input=t,this.state={context:[],type:null,pos:0},this.type_=null}return e.prototype.curContext=function(){return this.state.context[this.state.context.length-1]},e.prototype.includesContext=function(t){for(var r=this.state.context.length-1;r>=0;r--)if(this.state.context[r]===t)return!0;return!1},e.prototype.unexpect=function(t){return t=t||this.state.type,Xn('Unexpect token "'.concat(t.flag,'" in ').concat(this.state.pos," char."),{pos:this.state.pos})},e.prototype.expectNext=function(t,r){if(t&&t.expectNext&&r&&!t.expectNext.call(this,r))throw Xn('Unexpect token "'.concat(r.flag,'" token should not be behind "').concat(t.flag,'" token.(').concat(this.state.pos,"th char)"),{pos:this.state.pos})},e.prototype.expectPrev=function(t,r){if(t&&t.expectPrev&&r&&!t.expectPrev.call(this,r))throw Xn('Unexpect token "'.concat(t.flag,'" should not be behind "').concat(r.flag,'"(').concat(this.state.pos,"th char)."),{pos:this.state.pos})},e.prototype.match=function(t){return this.state.type===t},e.prototype.skipSpace=function(){if(this.curContext()===Qr)return;e:for(;this.state.pos<this.input.length;){var t=this.input.charCodeAt(this.state.pos);switch(t){case 32:case 160:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos;break;default:if(t>8&&t<14||t>=5760&&Ri.test(String.fromCharCode(t)))++this.state.pos;else break e}}},e.prototype.next=function(){if(this.type_=this.state.type,this.input.length<=this.state.pos)return this.finishToken(ee);this.skipSpace(),this.readToken(this.getCode(),this.state.pos>0?this.getCode(this.state.pos-1):-1/0)},e.prototype.getCode=function(t){return t===void 0&&(t=this.state.pos),Zs(this.input,t)},e.prototype.eat=function(t){return this.match(t)?(this.next(),!0):!1},e.prototype.readKeyWord=function(){for(var t=this.state.pos,r="";;){var n=this.getCode(),a=this.getCode(this.state.pos-1);if(this.input.length===this.state.pos){r=Zt(this.input,t,this.state.pos+1);break}if(!ec(n)||a===92){if(n===32||n===160||n===10||n===8232||n===8233){r=Zt(this.input,t,this.state.pos);break}if(n===13&&this.input.charCodeAt(this.state.pos+1)===10){r=Zt(this.input,t,this.state.pos);break}if(n>8&&n<14||n>=5760&&Ri.test(String.fromCharCode(n))){r=Zt(this.input,t,this.state.pos);break}this.state.pos++}else{r=Zt(this.input,t,this.state.pos);break}}this.finishToken(ae,r)},e.prototype.readIgnoreString=function(){for(var t=this.state.pos,r,n="";;){var a=this.getCode();if(this.state.pos>=this.input.length)break;if((a===91||a===93)&&r===92)this.state.pos++,r="";else if(a==93&&r===93){n=this.input.slice(t,this.state.pos-1).replace(/\\([\[\]])/g,"$1"),this.state.pos++;break}else this.state.pos++,r=a}this.finishToken(nl,n),this.finishToken(ti)},e.prototype.finishToken=function(t,r){var n=this.state.type;this.state.type=t,r!==void 0&&(this.state.value=r),this.expectNext(n,t),this.expectPrev(t,n),t.updateContext&&t.updateContext.call(this,n)},e.prototype.readToken=function(t,r){if(r===92)return this.readKeyWord();if(this.input.length<=this.state.pos)this.finishToken(ee);else if(this.curContext()===Qr)this.readIgnoreString();else if(t===123)this.state.pos++,this.finishToken(Ue);else if(t===125)this.state.pos++,this.finishToken(rt);else if(t===42){if(this.state.pos++,this.getCode()===42)return this.state.pos++,this.finishToken(Zr);this.finishToken($t)}else if(t===33)this.state.pos++,this.finishToken(ei);else if(t===46)this.state.pos++,this.finishToken(ve);else if(t===91){if(this.state.pos++,this.getCode()===91)return this.state.pos++,this.finishToken(We);this.finishToken(ne)}else t===126?(this.state.pos++,this.finishToken(Mn)):t===93?(this.state.pos++,this.finishToken(se)):t===40?(this.state.pos++,this.finishToken(br)):t===41?(this.state.pos++,this.finishToken(Ke)):t===44?(this.state.pos++,this.finishToken(ie)):t===58?(this.state.pos++,this.finishToken(He)):this.readKeyWord()},e}(),Ve=function(e){return function(t){return t&&t.type===e}},Ea=Ve("Identifier"),rc=Ve("IgnoreExpression"),nc=Ve("DotOperator"),ji=Ve("WildcardOperator"),Mi=Ve("ExpandOperator"),ac=Ve("GroupExpression"),ic=Ve("RangeExpression"),al=Ve("DestructorExpression"),oc=Ve("ObjectPattern"),lc=Ve("ArrayPattern"),uc=Object.prototype.toString,yr=function(e){return function(t){return uc.call(t)==="[object ".concat(e,"]")}},wa=yr("Function"),kn=Array.isArray||yr("Array"),Dn=yr("String"),Vn=yr("Number"),il=function(e){return typeof e=="object"},ol=yr("RegExp"),ki=function(e){return Vn(e)||/^(\d+)(\.\d+)?$/.test(e)},Di=kn,Vi=Object.keys,sc=Object.prototype.hasOwnProperty,cc=function(e){return Array.isArray(e)?e:e!==void 0?[e]:[]},cr=function(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Di(e),n=Di(t),a=void 0,i=void 0,o=void 0;if(r&&n){if(i=e.length,i!==t.length)return!1;for(a=i;a--!==0;)if(!cr(e[a],t[a]))return!1;return!0}if(r!==n)return!1;var l=Vi(e);if(i=l.length,i!==Vi(t).length)return!1;for(a=i;a--!==0;)if(!sc.call(t,l[a]))return!1;for(a=i;a--!==0;)if(o=l[a],!cr(e[o],t[o]))return!1;return!0}return e!==e&&t!==t},fc=function(e,t){return e=typeof e=="symbol"?e:"".concat(e),t=typeof t=="symbol"?t:"".concat(t),e===t},ll=new Map,dc=function(e){return e!=null},Ln=function(e){return ll.get(e)},vc=function(e,t){ll.set(e,t)},Hr=function(e){var t=[];if(oc(e)){var r=0;return e.properties.forEach(function(a){t[r]={path:[]},t[r].key=a.key.value,t[r].path.push(a.key.value),Ea(a.value)&&(t[r].key=a.value.value);var i=t[r].path,o=Hr(a.value),l=r;o.forEach(function(s){t[l]?(t[l].key=s.key,t[l].path=i.concat(s.path)):t[l]={key:s.key,path:i.concat(s.path)},l++}),l>r?r=l:r++}),t}else if(lc(e)){var n=0;return e.elements.forEach(function(a,i){t[n]={path:[]},t[n].key=i,t[n].path.push(i),Ea(a)&&(t[n].key=a.value);var o=t[n].path,l=Hr(a),s=n;l.forEach(function(u){t[s]?(t[s].key=u.key,t[s].path=o.concat(u.path)):t[s]={key:u.key,path:o.concat(u.path)},s++}),s>n?n=s:n++}),t}return al(e)?Hr(e.value):t},hc=function(e,t,r,n){t.forEach(function(a){var i=a.key,o=a.path;n.setIn([i],e,n.getIn(o,r))})},pc=function(e,t,r){var n={};return t.length&&Vn(t[0].path[0])&&(n=[]),e=dc(e)?e:{},t.forEach(function(a){var i=a.key,o=a.path;r.setIn(o,n,e[i])}),n},mc=function(e,t,r){t.forEach(function(n){var a=n.key;r.deleteIn([a],e)})},gc=function(e,t,r,n){return t.every(function(a){var i=a.key;return n.existIn([i],e,r)})},bc=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yc=function(e,t){e===void 0&&(e=[]);var r=e.length,n=function(a){a===void 0&&(a=0);var i=a<r-1?n(a+1):t,o=i&&{type:"DotOperator",after:i};return{type:"Identifier",value:e[a],after:o}};return n()},Yn=function(e,t,r){if(ki(e)&&ki(t)){if(r==="+")return String(Number(e)+Number(t));if(r==="-")return String(Number(e)-Number(t));if(r==="*")return String(Number(e)*Number(t));if(r==="/")return String(Number(e)/Number(t))}else{if(r==="+")return String(e)+String(t);if(r==="-"||r==="*"||r==="/")return"NaN"}return String(Number(t))},_c=function(e){bc(t,e);function t(r,n){var a=e.call(this,r)||this;return a.isMatchPattern=!1,a.isWildMatchPattern=!1,a.haveExcludePattern=!1,a.haveRelativePattern=!1,a.base=n,a}return t.prototype.parse=function(){var r;return this.data={segments:[]},this.eat(ee)||(this.next(),r=this.parseAtom(this.state.type)),this.data.tree=r,r},t.prototype.append=function(r,n){r&&n&&(r.after=n)},t.prototype.parseAtom=function(r){switch(r){case Ue:case ne:return this.includesContext(Oe)?r===Ue?this.parseObjectPattern():this.parseArrayPattern():this.parseDestructorExpression();case ae:return this.parseIdentifier();case Mn:return this.parseExpandOperator();case Zr:case $t:return this.parseWildcardOperator();case We:return this.parseIgnoreExpression();case ve:return this.parseDotOperator()}},t.prototype.pushSegments=function(r){this.data.segments.push(r)},t.prototype.parseIdentifier=function(){var r={type:"Identifier",value:this.state.value},n=!this.includesContext(Oe)&&!this.isMatchPattern&&!this.isWildMatchPattern;if(this.next(),this.includesContext(Oa)){if(this.state.type!==se)throw this.unexpect();this.state.context.pop(),this.next()}else n&&this.pushSegments(r.value);if(this.state.type===ne){if(this.next(),this.state.type!==ae)throw this.unexpect();this.state.context.push(Oa);var a=!1;/^\d+$/.test(this.state.value)&&(a=!0);var i=this.state.value;this.pushSegments(a?Number(i):i);var o=this.parseAtom(this.state.type);a&&(o.arrayIndex=!0),this.append(r,o)}else this.append(r,this.parseAtom(this.state.type));return r},t.prototype.parseExpandOperator=function(){var r={type:"ExpandOperator"};return this.isMatchPattern=!0,this.isWildMatchPattern=!0,this.data.segments=[],this.next(),this.append(r,this.parseAtom(this.state.type)),r},t.prototype.parseWildcardOperator=function(){var r={type:"WildcardOperator"};return this.state.type===Zr&&(r.optional=!0),this.isMatchPattern=!0,this.isWildMatchPattern=!0,this.data.segments=[],this.next(),this.state.type===br?r.filter=this.parseGroupExpression(r):this.state.type===ne&&(r.filter=this.parseRangeExpression(r)),this.append(r,this.parseAtom(this.state.type)),r},t.prototype.parseDestructorExpression=function(){var r=this,n={type:"DestructorExpression"};this.state.context.push(Oe);var a=this.state.pos-1;n.value=this.state.type===Ue?this.parseObjectPattern():this.parseArrayPattern();var i=this.state.pos;return this.state.context.pop(),n.source=this.input.substring(a,i).replace(/\[\s*([\+\-\*\/])?\s*([^,\]\s]*)\s*\]/,function(o,l,s){return r.relative!==void 0?l?s?Yn(r.relative,s,l):Yn(r.relative,1,l):s?Yn(r.relative,s,"+"):String(r.relative):o}).replace(/\s*\.\s*/g,"").replace(/\s*/g,""),this.relative===void 0&&vc(n.source,Hr(n)),this.relative=void 0,this.pushSegments(n.source),this.next(),this.append(n,this.parseAtom(this.state.type)),n},t.prototype.parseArrayPattern=function(){var r={type:"ArrayPattern",elements:[]};return this.next(),r.elements=this.parseArrayPatternElements(),r},t.prototype.parseArrayPatternElements=function(){for(var r=[];this.state.type!==se&&this.state.type!==ee;){if(r.push(this.parseAtom(this.state.type)),this.state.type===se)return this.includesContext(Oe)&&this.next(),r;this.next()}return r},t.prototype.parseObjectPattern=function(){var r={type:"ObjectPattern",properties:[]};return this.next(),r.properties=this.parseObjectProperties(),r},t.prototype.parseObjectProperties=function(){for(var r=[];this.state.type!==rt&&this.state.type!==ee;){var n={type:"ObjectPatternProperty",key:this.parseAtom(this.state.type)};if(r.push(n),this.state.type===He&&(this.next(),n.value=this.parseAtom(this.state.type)),this.state.type===rt)return this.includesContext(Oe)&&this.next(),r;this.next()}return r},t.prototype.parseDotOperator=function(){var r={type:"DotOperator"},n=this.type_;if(!n&&this.base){if(this.base.isMatchPattern)throw new Error("Base path must be an absolute path.");for(this.data.segments=this.base.toArr();this.state.type===ve;)this.relative=this.data.segments.pop(),this.haveRelativePattern=!0,this.next();return yc(this.data.segments.slice(),this.parseAtom(this.state.type))}else this.next();return this.append(r,this.parseAtom(this.state.type)),r},t.prototype.parseIgnoreExpression=function(){this.next();var r=String(this.state.value).replace(/\s*/g,""),n={type:"IgnoreExpression",value:r};return this.pushSegments(r),this.next(),this.append(n,this.parseAtom(this.state.type)),this.next(),n},t.prototype.parseGroupExpression=function(r){var n={type:"GroupExpression",value:[]};this.isMatchPattern=!0,this.data.segments=[],this.next();e:for(;;)switch(this.state.type){case ie:this.next();break;case ei:n.isExclude=!0,this.haveExcludePattern=!0,this.next();break;case ee:break e;case Ke:break e;default:n.value.push(this.parseAtom(this.state.type))}return this.next(),this.append(r,this.parseAtom(this.state.type)),n},t.prototype.parseRangeExpression=function(r){var n={type:"RangeExpression"};this.next(),this.isMatchPattern=!0,this.data.segments=[];var a=!1,i=!1;e:for(;;)switch(this.state.type){case He:i=!0,a=!0,this.next();break;case se:!i&&!n.end&&(n.end=n.start);break e;case ie:throw this.unexpect();case ee:break e;default:a?n.end=this.parseAtom(this.state.type):n.start=this.parseAtom(this.state.type)}return this.next(),this.append(r,this.parseAtom(this.state.type)),n},t}(tc),Li=function(){function e(t,r){this.tree=t,this.stack=[],this.excluding=!1,this.wildcards=[],this.record=r}return e.prototype.next=function(t,r){if(t.after)return this.matchNode(t.after,r);if(ji(t)&&!t.filter)return this.excluding?!1:r===0||t.optional?!0:!!this.take(r);var n=r===this.path.length-1;if(n)return!!this.take(r);var a=this.wildcards.pop();return a&&a.after?this.next(a,r):!1},e.prototype.shot=function(){var t;((t=this.record)===null||t===void 0?void 0:t.score)>=0&&this.record.score++},e.prototype.take=function(t){var r;return String((r=this.path[t])!==null&&r!==void 0?r:"")},e.prototype.matchExcludeIdentifier=function(t,r,n){var a=n===this.path.length-1,i=n<this.path.length;if(r.after||(this.excluding=!1),t){if(r.after)return this.next(r,n);if(a)return!1}return a?!0:i},e.prototype.matchIdentifier=function(t,r){var n=this.take(r),a=!1;return Mi(t.after)?(n.indexOf(t.value)===0&&(this.shot(),a=!0),this.excluding?this.matchExcludeIdentifier(a,t.after,r):a&&this.next(t.after,r)):(n===t.value&&(this.shot(),a=!0),this.excluding?this.matchExcludeIdentifier(a,t,r):a&&this.next(t,r))},e.prototype.matchIgnoreExpression=function(t,r){return cr(t.value,this.take(r))&&this.next(t,r)},e.prototype.matchDestructorExpression=function(t,r){return cr(t.source,this.take(r))&&this.next(t,r)},e.prototype.matchExpandOperator=function(t,r){return this.next(t,r)},e.prototype.matchWildcardOperator=function(t,r){var n=!1;return t.filter?(this.stack.push(t),n=this.matchNode(t.filter,r),this.stack.pop()):n=this.next(t,r),n},e.prototype.matchGroupExpression=function(t,r){var n=this,a=!1;return t.isExclude&&(a=!this.excluding),cc(t.value)[a?"every":"some"](function(i){return n.wildcards=n.stack.slice(),n.excluding=a,n.matchNode(i,r)})},e.prototype.matchRangeExpression=function(t,r){var n=Number(this.take(r));return t.start?t.end?n>=Number(t.start.value)&&n<=Number(t.end.value):n>=Number(t.start.value):t.end?n<=Number(t.end.value):(this.wildcards=this.stack.slice(),this.next(t,r))},e.prototype.matchNode=function(t,r){return r===void 0&&(r=0),nc(t)?this.next(t,r+1):Ea(t)?this.matchIdentifier(t,r):rc(t)?this.matchIgnoreExpression(t,r):al(t)?this.matchDestructorExpression(t,r):Mi(t)?this.matchExpandOperator(t,r):ji(t)?this.matchWildcardOperator(t,r):ac(t)?this.matchGroupExpression(t,r):ic(t)?this.matchRangeExpression(t,r):!1},e.prototype.match=function(t){return this.path=t,{matched:this.matchNode(this.tree),record:this.record}},e.matchSegments=function(t,r,n){if(t.length!==r.length)return{matched:!1,record:n};var a=function(i){i===void 0&&(i=0);var o=fc(t[i],r[i]);return(n==null?void 0:n.score)>=0&&n.score++,o&&(i<t.length-1?a(i+1):!0)};return{matched:a(),record:n}},e}(),Mr=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},kr=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Dr=new Map,qr=Symbol("PATH_MATCHER"),Bt=function(e){return e!=null},xc=function(e){return e.indexOf("*")===-1&&e.indexOf("~")===-1&&e.indexOf("[")===-1&&e.indexOf("]")===-1&&e.indexOf(",")===-1&&e.indexOf(":")===-1&&e.indexOf(" ")===-1&&e[0]!=="."},ri=function(e){return typeof e=="object"||typeof e=="function"},Oc=function(e){return Dn(e)?/^\d+$/.test(e):Vn(e)},_r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=Ln(n);if(a){t=pc(t,a,{setIn:xr,getIn:_r});break}else{if(!Bt(t))return;t=t[n]}}return t},xr=function(e,t,r){for(var n=0;n<e.length;n++){var a=e[n],i=Ln(a);if(i){hc(t,i,r,{setIn:xr,getIn:_r});break}else{if(!Bt(t)||!ri(t)||kn(t)&&!Oc(a))return;if(!Bt(t[a])){if(r===void 0){t[a]===null&&(t[a]=r);return}n<e.length-1&&(t[a]=Vn(e[n+1])?[]:{})}n===e.length-1&&(t[a]=r),t=t[a]}}},ni=function(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=Ln(n);if(a){mc(t,a,{setIn:xr,getIn:_r,deleteIn:ni});break}else{if(r===e.length-1&&Bt(t)){delete t[n];return}if(!Bt(t)||!ri(t)||(t=t[n],!il(t)))return}}},Sc=Object.prototype.hasOwnProperty,ul=function(e,t,r){r instanceof A&&(r=r.length);for(var n=r;n<e.length;n++){var a=e[n],i=Ln(a);if(i)return gc(t,i,r,{setIn:xr,getIn:_r,deleteIn:ni,existIn:ul});if(n===e.length-1)return Sc.call(t,a);if(!Bt(t)||!ri(t)||(t=t[a],!il(t)))return!1}},ai=function(e,t){if(e instanceof A)return{entire:e.entire,segments:e.segments.slice(),isRegExp:!1,haveRelativePattern:e.haveRelativePattern,isWildMatchPattern:e.isWildMatchPattern,isMatchPattern:e.isMatchPattern,haveExcludePattern:e.haveExcludePattern,tree:e.tree};if(Dn(e)){if(!e)return{entire:"",segments:[],isRegExp:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1};if(xc(e))return{entire:e,segments:e.split("."),isRegExp:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1};var r=new _c(e,A.parse(t)),n=r.parse();if(r.isMatchPattern)return{entire:e,segments:[],isRegExp:!1,haveRelativePattern:!1,isWildMatchPattern:r.isWildMatchPattern,haveExcludePattern:r.haveExcludePattern,isMatchPattern:!0,tree:n};var a=r.data.segments;return{entire:a.join("."),segments:a,tree:n,isRegExp:!1,haveRelativePattern:r.haveRelativePattern,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1}}else return wa(e)&&e[qr]?ai(e.path):kn(e)?{entire:e.join("."),segments:e.reduce(function(i,o){return i.concat(Pa(o))},[]),isRegExp:!1,haveRelativePattern:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1}:ol(e)?{entire:e,segments:[],isRegExp:!0,haveRelativePattern:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!0}:{entire:"",isRegExp:!1,segments:e!==void 0?[e]:[],haveRelativePattern:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1}},Pa=function(e){if(Dn(e)){e=e.replace(/\s*/g,"");try{var t=ai(e),r=t.segments,n=t.isMatchPattern;return n?e:r}catch{return e}}else if(e instanceof A)return e.segments;return e},A=function(){function e(t,r){var n=this;this.concat=function(){for(var v,p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be concat"));var x=new e("");return x.segments=(v=n.segments).concat.apply(v,kr([],Mr(p.map(function(g){return Pa(g)})),!1)),x.entire=x.segments.join("."),x},this.slice=function(v,p){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be slice"));var b=new e("");return b.segments=n.segments.slice(v,p),b.entire=b.segments.join("."),b},this.push=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return n.concat.apply(n,kr([],Mr(v),!1))},this.pop=function(){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be pop"));return new e(n.segments.slice(0,n.segments.length-1))},this.splice=function(v,p){for(var b=[],x=2;x<arguments.length;x++)b[x-2]=arguments[x];if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be splice"));b=b.reduce(function(y,O){return y.concat(Pa(O))},[]);var g=n.segments.slice();return g.splice.apply(g,kr([v,p],Mr(b),!1)),new e(g)},this.forEach=function(v){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be each"));n.segments.forEach(v)},this.map=function(v){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be map"));return n.segments.map(v)},this.reduce=function(v,p){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be reduce"));return n.segments.reduce(v,p)},this.parent=function(){return n.slice(0,n.length-1)},this.includes=function(v){var p=e.parse(v),b=p.entire,x=p.segments,g=p.isMatchPattern,y=n.includesCache.get(b);if(y!==void 0)return y;var O=function(T){return n.includesCache.set(b,T),T};if(n.isMatchPattern){if(g)throw new Error("".concat(n.entire," cannot be used to match ").concat(b));return O(n.match(x))}if(g)throw new Error("".concat(n.entire," cannot be used to match ").concat(b));if(x.length>n.segments.length)return O(!1);for(var w=0;w<x.length;w++)if(!cr(String(x[w]),String(n.segments[w])))return O(!1);return O(!0)},this.transform=function(v,p){if(!wa(p))return"";if(n.isMatchPattern)throw new Error("".concat(n.entire," cannot be transformed"));var b=n.segments.reduce(function(x,g){return new RegExp(v).test(g)?x.concat(g):x},[]);return p.apply(void 0,kr([],Mr(b),!1))},this.match=function(v){var p,b,x=e.parse(v),g=n.matchCache.get(x.entire);if(g!==void 0)return g.record&&g.record.score!==void 0&&(n.matchScore=g.record.score),g.matched;var y=function(T){return n.matchCache.set(x.entire,T),T};if(x.isMatchPattern){if(n.isMatchPattern)throw new Error("".concat(x.entire," cannot match ").concat(n.entire));return n.matchScore=0,y(x.match(n.segments))}else if(n.isMatchPattern){if(n.isRegExp)try{return(b=(p=n.entire)===null||p===void 0?void 0:p.test)===null||b===void 0?void 0:b.call(p,x.entire)}finally{n.entire.lastIndex=0}var O={score:0},w=y(new Li(n.tree,O).match(x.segments));return n.matchScore=O.score,w.matched}else{var O={score:0},w=y(Li.matchSegments(n.segments,x.segments,O));return n.matchScore=O.score,w.matched}},this.matchAliasGroup=function(v,p){var b=e.parse(v),x=e.parse(p),g=n.match(b),y=n.matchScore,O=n.match(x),w=n.matchScore;return n.haveExcludePattern?y>=w?g:O:g||O},this.existIn=function(v,p){return p===void 0&&(p=0),ul(n.segments,v,p)},this.getIn=function(v){return _r(n.segments,v)},this.setIn=function(v,p){return xr(n.segments,v,p),v},this.deleteIn=function(v){return ni(n.segments,v),v},this.ensureIn=function(v,p){var b=n.getIn(v);return b===void 0?(n.setIn(v,p),n.getIn(v)):b};var a=ai(t,r),i=a.tree,o=a.segments,l=a.entire,s=a.isRegExp,u=a.isMatchPattern,c=a.isWildMatchPattern,f=a.haveRelativePattern,h=a.haveExcludePattern;this.entire=l,this.segments=o,this.isMatchPattern=u,this.isWildMatchPattern=c,this.haveRelativePattern=f,this.isRegExp=s,this.haveExcludePattern=h,this.tree=i,this.matchCache=new Map,this.includesCache=new Map}return e.prototype.toString=function(){var t;return(t=this.entire)===null||t===void 0?void 0:t.toString()},e.prototype.toArr=function(){var t;return(t=this.segments)===null||t===void 0?void 0:t.slice()},Object.defineProperty(e.prototype,"length",{get:function(){return this.segments.length},enumerable:!1,configurable:!0}),e.match=function(t){var r=e.parse(t),n=function(a){return r.match(a)};return n[qr]=!0,n.path=r,n},e.isPathPattern=function(t){return!!(Dn(t)||kn(t)||ol(t)||wa(t)&&t[qr])},e.transform=function(t,r,n){return e.parse(t).transform(r,n)},e.parse=function(t,r){if(t===void 0&&(t=""),t instanceof e){var n=Dr.get(t.entire);return n||(Dr.set(t.entire,t),t)}else{if(t&&t[qr])return e.parse(t.path);var a=r?e.parse(r):"",i="".concat(t,":").concat(a),n=Dr.get(i);return n||(t=new e(t,r),Dr.set(i,t),t)}},e.getIn=function(t,r){var n=e.parse(r);return n.getIn(t)},e.setIn=function(t,r,n){var a=e.parse(r);return a.setIn(t,n)},e.deleteIn=function(t,r){var n=e.parse(r);return n.deleteIn(t)},e.existIn=function(t,r,n){var a=e.parse(r);return a.existIn(t,n)},e.ensureIn=function(t,r,n){var a=e.parse(r);return a.ensureIn(t,n)},e}(),sl=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Ec(){try{if(typeof self<"u")return self}catch{}try{if(typeof window<"u")return window}catch{}try{if(typeof global<"u")return global}catch{}return Function("return this")()}var $i=Ec(),Vr=$i.FinalizationRegistry&&new $i.FinalizationRegistry(function(e){var t;return(t=e==null?void 0:e.clean)===null||t===void 0?void 0:t.call(e)}),wc=function(){function e(t,r){r===void 0&&(r=1e4),this.token={clean:t},this.expireTime=r}return e.prototype.open=function(t){var r=this;Vr?Vr.register(t,this.token,this.token):this.request=setTimeout(function(){var n,a;(a=(n=r.token)===null||n===void 0?void 0:n.clean)===null||a===void 0||a.call(n)},this.expireTime)},e.prototype.close=function(){Vr?Vr.unregister(this.token):clearTimeout(this.request)},e}(),cl=function(e){var t=!1;return Promise.resolve(0).then(function(){if(t){t=!1;return}e()}),function(){t=!0}},Pc=function(e){var t=E.useRef(null);t.current=cl(e),sl(function(){t.current(),e()})},Ic=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Jn=[],er={value:0},Qn=new Set;function Tc(){var e=Ic(E.useState([]),2),t=e[1],r=E.useRef(!1);sl(function(){return r.current=!0,function(){r.current=!1}},Jn);var n=E.useCallback(function(){t([])},Jn),a=E.useCallback(function(){er.value===0||r.current?n():Qn.add(n)},Jn);return er.value++,Pc(function(){er.value>0&&er.value--,er.value===0&&Qn.forEach(function(i){Qn.delete(i),i()})}),a}var Bi=Array.isArray,Cc=function(e,t){var r=Bi(e),n=Bi(t);return r!==n?!1:r?e.length!==t.length?!1:e.every(function(a,i){return a===t[i]}):e===t},fl=function(e,t){var r=E.useRef(null),n=E.useRef(!1);E.useEffect(function(){n.current=!0;var a=e();return function(){if(n.current=!1,!Cc(r.current,t)){a&&a();return}cl(function(){n.current||a&&a()})}},t),r.current=t},Ac=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Fc=function(){function e(){}return e}();function Nc(){return new Fc}var Rc=function(e){var t=d.useRef(null),r=d.useRef(),n=Ac(d.useState(Nc),1),a=n[0];return t.current||(t.current=e()),r.current||(r.current=new wc(function(){t.current&&t.current.dispose()}),r.current.open(a)),fl(function(){return r.current.close(),function(){t.current&&(t.current.dispose(),t.current=null)}},[]),t.current},Ui=function(e,t){var r=Tc(),n=Rc(function(){return new Js(function(){typeof(t==null?void 0:t.scheduler)=="function"?t.scheduler(r):r()},t==null?void 0:t.displayName)});return n.track(e)},or=globalThis&&globalThis.__assign||function(){return or=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},or.apply(this,arguments)};function U(e,t){var r=or({forwardRef:!1},t),n=r.forwardRef?E.forwardRef(function(i,o){return Ui(function(){return e(or(or({},i),{ref:o}))},r)}):function(i){return Ui(function(){return e(i)},r)},a=E.memo(n);return xo(a,e),r.displayName&&(a.displayName=r.displayName),a}U(function(e){var t=typeof e.children=="function"?e.children():e.children;return d.createElement(E.Fragment,{},t)});var jc=fl,Mc=Object.prototype.toString,$n=function(e){return function(t){return kc(t)==="[object ".concat(e,"]")}},kc=function(e){return Mc.call(e)},I=function(e){return typeof e=="function"},N=Array.isArray,we=$n("Object"),J=$n("String"),ii=$n("Boolean"),ar=$n("Number"),Dc=function(e){return ar(e)||/^\d+$/.test(e)},dl=function(e){return typeof e=="object"},ce=function(e){return N(e)?e:e?[e]:[]};function B(e,t,r){if(N(e)||J(e)){if(r){for(var n=e.length-1;n>=0;n--)if(t(e[n],n)===!1)return}else for(var n=0;n<e.length;n++)if(t(e[n],n)===!1)return}else if(dl(e)){var a=void 0;for(a in e)if(Object.hasOwnProperty.call(e,a)&&t(e[a],a)===!1)return}}function Vc(e,t,r){var n=N(e)||J(e)?[]:{};return B(e,function(a,i){var o=t(a,i);N(n)?n.push(o):n[i]=o},r),n}function vl(e,t,r,n){var a=r;return B(e,function(i,o){a=t(a,i,o)},n),a}function Lc(){try{if(typeof self<"u")return self}catch{}try{if(typeof window<"u")return window}catch{}try{if(typeof global<"u")return global}catch{}return Function("return this")()}var Ae=Lc(),Ye=function(e,t){return I(t)?e instanceof t:J(t)&&Ae[t]?e instanceof Ae[t]:!1},zi=N,Gi=Object.keys,$c=Object.prototype.hasOwnProperty;function Wr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=zi(e),n=zi(t),a=void 0,i,o=void 0;if(r&&n){if(i=e.length,i!==t.length)return!1;for(a=i;a--!==0;)if(!Wr(e[a],t[a]))return!1;return!0}if(r!==n)return!1;var l=e&&e._isAMomentObject,s=t&&t._isAMomentObject;if(l!==s)return!1;if(l&&s)return e.isSame(t);var u=e&&e.toJS,c=t&&t.toJS;if(u!==c)return!1;if(u)return e.is?e.is(t):e===t;var f=Ye(e,"Date"),h=Ye(t,"Date");if(f!==h)return!1;if(f&&h)return e.getTime()===t.getTime();var v=Ye(e,"RegExp"),p=Ye(t,"RegExp");if(v!==p)return!1;if(v&&p)return e.toString()===t.toString();var b=Ye(e,"URL"),x=Ye(t,"URL");if(b!==x)return!1;if(b&&x)return e.href===t.href;var g=e&&e.toJSON,y=t&&t.toJSON;if(g!==y)return!1;if(g&&y)return Wr(e.toJSON(),t.toJSON());var O=Gi(e);if(i=O.length,i!==Gi(t).length)return!1;for(a=i;a--!==0;)if(!$c.call(t,O[a]))return!1;for(a=i;a--!==0;)if(o=O[a],!(o==="_owner"&&e.$$typeof)&&!Wr(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}var Bc=function(t,r){try{return Wr(t,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}},Hi=globalThis&&globalThis.__assign||function(){return Hi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Hi.apply(this,arguments)},ze=function(e){if(Array.isArray(e)){var t=[];return e.forEach(function(a){t.push(ze(a))}),t}else if(we(e)){if("$$typeof"in e&&"_owner"in e||e._isAMomentObject||e._isJSONSchemaObject)return e;if(I(e.toJS))return e.toJS();if(I(e.toJSON))return e.toJSON();var r={};for(var n in e)Object.hasOwnProperty.call(e,n)&&(r[n]=ze(e[n]));return r}else return e},Uc=Object.prototype.hasOwnProperty,zc=Object.prototype.toString,en=function(e){return e===void 0},R=function(e){return e!=null};function qe(e,t){if(t===void 0&&(t=!1),e==null)return!0;if(typeof e=="boolean"||typeof e=="number")return!1;if(typeof e=="string"||typeof e=="function")return e.length===0;if(Array.isArray(e)){if(e.length===0)return!0;for(var r=0;r<e.length;r++)if(t){if(e[r]!==void 0&&e[r]!==null)return!1}else if(e[r]!==void 0&&e[r]!==null&&e[r]!==""&&e[r]!==0)return!1;return!0}if(Ye(e,"Error"))return e.message==="";if(e.toString===zc)switch(e.toString()){case"[object File]":case"[object Map]":case"[object Set]":return e.size===0;case"[object Object]":{for(var n in e)if(Uc.call(e,n))return!1;return!0}}return!1}var Gc=function(){var e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");return new RegExp(e,"g")},qi="[\uD800-\uDBFF][\uDC00-\uDFFF]",Hc=function(e){return e&&e.exact?new RegExp("^".concat(qi,"$")):new RegExp(qi,"g")},qc=function(e){return typeof e=="string"?e.replace(Gc(),""):e},Wc=function(e){return qc(e).replace(Hc()," ").length},Kc=function(){function e(){var t=this;this.subscribers={index:0},this.subscribe=function(r){if(I(r)){var n=t.subscribers.index+1;return t.subscribers[n]=r,t.subscribers.index++,n}},this.unsubscribe=function(r){t.subscribers[r]?delete t.subscribers[r]:r||(t.subscribers={index:0})},this.notify=function(r,n){if(!(t.subscription&&t.subscription&&I(t.subscription.notify)&&t.subscription.notify.call(t,r)===!1)&&!n){var a=function(i){return t.subscription&&I(t.subscription.filter)?t.subscription.filter.call(t,i):i};B(t.subscribers,function(i){I(i)&&i(a(r))})}}}return e}();function Xc(e){return Yc(e)&&!Jc(e)}function Yc(e){return!!e&&typeof e=="object"}function Jc(e){return"$$typeof"in e&&"_owner"in e||e._isAMomentObject||e._isJSONSchemaObject||I(e.toJS)||I(e.toJSON)?!0:!we(e)}function Qc(e){return Array.isArray(e)?[]:{}}function fr(e,t){return t.clone!==!1&&t.isMergeableObject(e)?tn(Qc(e),e,t):e}function Zc(e,t,r){return e.concat(t).map(function(n){return fr(n,r)})}function ef(e,t){if(!t.customMerge)return tn;var r=t.customMerge(e);return typeof r=="function"?r:tn}function tf(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function Wi(e){return R(e)?Object.keys(e).concat(tf(e)):[]}function hl(e,t){try{return t in e}catch{return!1}}function rf(e,t){return hl(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function nf(e,t,r){var n=r.assign?e||{}:{};return r.isMergeableObject(e)?(r.assign||Wi(e).forEach(function(a){n[a]=fr(e[a],r)}),Wi(t).forEach(function(a){rf(e,a)||(qe(e[a])?n[a]=t[a]:hl(e,a)&&r.isMergeableObject(t[a])?n[a]=ef(a,r)(e[a],t[a],r):n[a]=fr(t[a],r))}),n):e}function tn(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Zc,r.isMergeableObject=r.isMergeableObject||Xc,r.cloneUnlessOtherwiseSpecified=fr;var n=Array.isArray(t),a=Array.isArray(e),i=n===a;return i?n?r.arrayMerge(e,t,r):nf(e,t,r):fr(t,r)}var Ge=function(e,t){return R(t)?!R(e)||typeof e!="object"?t:typeof t!="object"?e:new Proxy({},{get:function(r,n){return n in t?t[n]:e[n]},ownKeys:function(){var r=Object.keys(e);for(var n in t)n in e||r.push(n);return r},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0,writable:!1}},has:function(r,n){return n in t||n in e}}):e},rn=tn,Ki=36,pl="";for(;Ki--;)pl+=Ki.toString(36);function af(e){for(var t="",r=e||11;r--;)t+=pl[Math.random()*36|0];return t}var of=Symbol.for("__REVA_ACTIONS"),ml={parent:!0,root:!0,properties:!0,patternProperties:!0,additionalProperties:!0,items:!0,additionalItems:!0,"x-linkages":!0,"x-reactions":!0},lf={title:"title",description:"description",default:"initialValue",enum:"dataSource",readOnly:"readOnly",writeOnly:"editable","x-content":"content","x-data":"data","x-value":"value","x-editable":"editable","x-disabled":"disabled","x-read-pretty":"readPretty","x-read-only":"readOnly","x-visible":"visible","x-hidden":"hidden","x-display":"display","x-pattern":"pattern","x-validator":"validator","x-decorator":"decoratorType","x-component":"componentType","x-decorator-props":"decoratorProps","x-component-props":"componentProps"},uf={required:!0,format:!0,maxItems:!0,minItems:!0,maxLength:!0,minLength:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,pattern:!0,const:!0,multipleOf:!0,maxProperties:!0,minProperties:!0,uniqueItems:!0},sf=Object.prototype.hasOwnProperty,cf=function(e,t){var r=[],n=e,a=function(i,o){if(o===void 0&&(o=[]),we(i)){var l=r.indexOf(i);if(l>-1)return;var s=r.length;if(r.push(i),oi(i)&&n!==i){t(i,o);return}B(i,function(u,c){a(u,o.concat(c))}),r.splice(s,1)}else t(i,o)};a(e)},ff=function(e,t){e["x-validator"]!==void 0&&t(e["x-validator"],["x-validator"]);var r=[],n=e,a=function(i,o){var l;if(o===void 0&&(o=[]),!(o[0]==="x-compile-omitted"||o[0]==="x-validator"||o[0]==="version"||o[0]==="_isJSONSchemaObject")&&!(String(o[0]).indexOf("x-")==-1&&I(i))&&!ml[o[0]]){if(((l=e["x-compile-omitted"])===null||l===void 0?void 0:l.indexOf(o[0]))>-1){t(i,o,!0);return}if(we(i)){if(o[0]==="default"||o[0]==="x-value"){t(i,o);return}var s=r.indexOf(i);if(s>-1)return;var u=r.length;if(r.push(i),oi(i)&&n!==i){t(i,o);return}B(i,function(c,f){a(c,o.concat(f))}),r.splice(u,1)}else t(i,o)}};a(e)},oi=function(e){return!!("$$typeof"in e&&"_owner"in e||e._isAMomentObject||dr.isSchemaInstance(e)||e[of]||I(e.toJS)||I(e.toJSON)||mt(e))},df=function(e){return ce(e).map(function(t){return typeof t=="object"?t:{label:t,value:t}})},Xi=function(e,t,r){jn(function(){var n,a=A.parse(t),i=a.segments,o=i[0],l=o==="enum"&&N(r),s=lf[o];if(s)A.setIn(e,[s].concat(i.slice(1)),l?df(r):r);else{var u=uf[o];u&&((n=e.setValidatorRule)===null||n===void 0||n.call(e,o,r))}})},vf=/^\s*\{\{([\s\S]*)\}\}\s*$/,Bn={silent:!1,compile:function(e,t){if(t===void 0&&(t={}),Bn.silent)try{return new Function("$root","with($root) { return (".concat(e,"); }"))(t)}catch{}else return new Function("$root","with($root) { return (".concat(e,"); }"))(t)}},hf=function(e){e===void 0&&(e=!0),Bn.silent=!!e},pf=function(e){I(e)&&(Bn.compile=e)},gt=function(e,t){if(J(e)){var r=e.match(vf);return r?Bn.compile(r[1],t):e}return e},nn=function(e,t){var r=[],n=function(a){if(J(a))return gt(a,t);if(N(a))return a.map(function(s){return n(s)});if(we(a)){if(oi(a))return a;var i=r.indexOf(a);if(i>-1)return a;var o=r.length;r.push(a);var l=vl(a,function(s,u,c){return s[c]=n(u),s},{});return r.splice(o,1),l}return a};return n(e)},Yi=function(e,t,r){cf(t,function(n,a){var i=A.parse(a),o=nn(n,r),l=i.segments[0];o!==void 0&&sf.call(e,l)&&jn(function(){return A.setIn(e,i,o)})})},Ji=function(e,t,r,n){n===void 0&&(n=!1),ff(t,function(a,i,o){var l=a,s=Ds(function(){o||(l=nn(a,r))});l!==void 0&&(n?(s||!e.initialized)&&Xi(e,i,l):Xi(e,i,l))})},gl=function(){function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this;this.buildListener=function(a){return function(i,o){for(var l=this,s=0;s<a.length;s++){var u=a[s];I(u)?u.call(this,i,o):J(u)&&I(a[s+1])?(u===i.type&&a[s+1].call(this,i.payload,o),s++):B(u,function(c,f){if(I(c)&&J(f)&&f===i.type)return c.call(l,i.payload,o),!1})}}},this.notify=function(a,i,o){J(a)&&n.listener.call(o,{type:a,payload:i},o)},this.listener=this.buildListener(t)}return e}(),mf=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gf=function(e){mf(t,e);function t(r){var n=r===void 0?{}:r,a=n.lifecycles,i=n.context,o=e.call(this)||this;return o.lifecycles=[],o.outerLifecycles=new Map,o.buildLifeCycles=function(l){return l.reduce(function(s,u){return u instanceof gl?s.concat(u):N(u)?o.buildLifeCycles(u):(typeof u=="object"&&(o.context=u),s)},[])},o.addLifeCycles=function(l,s){s===void 0&&(s=[]);var u=o.buildLifeCycles(s);u.length&&o.outerLifecycles.set(l,u)},o.hasLifeCycles=function(l){return o.outerLifecycles.has(l)},o.removeLifeCycles=function(l){o.outerLifecycles.delete(l)},o.setLifeCycles=function(l){l===void 0&&(l=[]),o.lifecycles=o.buildLifeCycles(l)},o.publish=function(l,s,u){J(l)&&(o.lifecycles.forEach(function(c){c.notify(l,s,u||o.context)}),o.outerLifecycles.forEach(function(c){c.forEach(function(f){f.notify(l,s,u||o.context)})}),o.notify({type:l,payload:s}))},o.clear=function(){o.lifecycles=[],o.outerLifecycles.clear(),o.unsubscribe()},o.lifecycles=o.buildLifeCycles(a||[]),o.context=i,o}return t}(Kc),bt=function(e){return e instanceof Bl},bf=function(e){return e instanceof Or},bl=function(e){return e instanceof Or||e instanceof vi},li=function(e){return e instanceof Ll},ui=function(e){return e instanceof $l},Y=function(e){return e instanceof vi},yf=function(e){return I(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="Form"},_f=function(e){return I(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="Field"},xf=function(e){return I(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="ArrayField"},yl=function(e){return bf(e)||li(e)||ui(e)},Of=function(e){return I(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="ObjectField"},_l=function(e){return e&&e instanceof di},Sf=function(){function e(t){var r=this;this.getGraph=function(){var n={};return n[""]=r.form.getState(),B(r.form.fields,function(a,i){n[i]=a.getState()}),n},this.setGraph=function(n){var a=r.form,i=function(o,l){var s=A.parse(o),u=s.segments[s.segments.length-1],c=s.parent();return _f(l)?r.form.createField({name:u,basePath:c}):xf(l)?r.form.createArrayField({name:u,basePath:c}):Of(l)?r.form.createObjectField({name:u,basePath:c}):r.form.createVoidField({name:u,basePath:c})};B(n,function(o,l){if(yf(o))a.setState(o);else{var s=a.fields[l];s?s.setState(o):i(l,o).setState(o)}})},this.form=t,qt(this,{setGraph:j})}return e}(),Ef=function(e){return!!e.type&&!!e.message},wf=A.getIn,Zn=Ae,Ia="en",Pf=function(){return Zn.navigator&&(Zn.navigator.browserlanguage||Zn.navigator.language)||Ia},de={locales:{messages:{},language:Pf()},formats:{},rules:{},template:null},If=function(e){var t=de.locales.language;if(de.locales.messages[e])return e;var r=Kr(e);return B(de.locales.messages,function(n,a){var i=Kr(a);if(i.indexOf(r)>-1||r.indexOf(i)>-1)return t=a,!1}),t},ea=function(e,t){return t===void 0&&(t=de.locales.language),wf(de.locales.messages,"".concat(If(t),".").concat(e))},Qi=function(e){var t=ea(e);return t||ea("pattern")||ea("pattern",Ia)},Tf=function(){return de.template},Cf=function(e){return e?de.formats[e]:de.formats},Af=function(e){return e?de.rules[e]:de.rules},Ff=function(e){de.locales.messages=rn(de.locales.messages,e)},Nf=function(e){B(e,function(t,r){I(t)&&(de.rules[r]=t)})},Rf=function(e){B(e,function(t,r){(J(t)||t instanceof RegExp)&&(de.formats[r]=new RegExp(t))})},Lr=function(e,t){var r=e.message;if(J(e.message)){var n=Tf();I(n)&&(e.message=n(r,t)),e.message=e.message.replace(/\{\{\s*([\w.]+)\s*\}\}/g,function(a,i){return A.getIn(t,i)})}return e},ft=globalThis&&globalThis.__assign||function(){return ft=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ft.apply(this,arguments)},jf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(e,t||[])).next())})},Mf=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kf=function(e,t){return e.format?e.message||Qi(e.format):e.message||Qi(t)},xl=function(e){if(!e)return{};var t={};return J(e)?t.format=e:I(e)?t.validator=e:t=Object.assign(t,e),t},si=function(e){if(!e)return[];var t=N(e)?e:[e];return t.map(function(r){return xl(r)})},Df=function(e){e===void 0&&(e={});var t=function(){var a=[];"required"in e&&a.push("required");for(var i in e)i==="required"||i==="validator"||a.push(i);return"validator"in e&&a.push("validator"),a},r=function(a,i){return ft(ft(ft({},e),a),{value:i})},n=function(a,i){return function(o,l){return jf(void 0,void 0,void 0,function(){var s,u,c;return Mf(this,function(f){switch(f.label){case 0:s=r(l,o),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,a(o,ft(ft({},e),{message:i}),s,function(h,v){var p;return(p=Lr({type:"error",message:h},Object.assign(s,v)))===null||p===void 0?void 0:p.message})];case 2:return u=f.sent(),ii(u)?u?[2,{type:"error",message:void 0}]:[2,Lr({type:"error",message:i},s)]:u?Ef(u)?[2,Lr(u,s)]:[2,Lr({type:"error",message:u},s)]:[2,{type:"error",message:void 0}];case 3:return c=f.sent(),[2,{type:"error",message:(c==null?void 0:c.message)||c}];case 4:return[2]}})})}};return t().reduce(function(a,i){var o=Af(i);if(o){var l=n(o,kf(e,i));return a.concat(l)}return a},[])},Vf=function(e,t){if(t===void 0&&(t={}),!e)return[];var r=N(e)?e:[e];return r.reduce(function(n,a){var i,o=xl(a),l=(i=o.triggerType)!==null&&i!==void 0?i:"onInput";return t!=null&&t.triggerType&&t.triggerType!==l?n:o?n.concat(Df(o)):n},[])};const Lf={en:{pattern:"This field is invalid",invalid:"This field is invalid",required:"The field value is required",number:"The field value is not a number",integer:"The field value is not an integer number",url:"The field value is a invalid url",email:"The field value is not a email format",ipv6:"The field value is not a ipv6 format",ipv4:"The field value is not a ipv4 format",idcard:"The field value is not an idcard format",qq:"The field value is not a qq number format",phone:"The field value is not a phone number format",money:"The field value is not a currency format",zh:"The field value is not a chinese string",date:"The field value is not a valid date format",zip:"The field value is not a zip format",len:"The length or number of entries must be {{len}}",min:"The length or number of entries must be at least {{min}}",minLength:"The length or number of entries must be at least {{minLength}}",minItems:"The length or number of entries must be at least {{minItems}}",maximum:"The field value cannot be greater than {{maximum}}",exclusiveMaximum:"The field value must be less than {{exclusiveMaximum}}",minimum:"The field value cannot be less than {{minimum}}",exclusiveMinimum:"The field value must be greater than {{exclusiveMinimum}}",max:"The field length or number of entries must be at most {{max}}",maxLength:"The field length or number of entries must be at most {{maxLength}}",maxItems:"The field length or number of entries must be at most {{maxItems}}",whitespace:"This field value cannot be blank string.",enum:"The field value must be one of {{enum}}",const:"The field value must be equal to {{const}}",multipleOf:"The field value must be divisible by {{multipleOf}}",maxProperties:"The number of field properties cannot be greater than {{maxProperties}}",minProperties:"The number of field properties cannot be less than {{maxProperties}}",uniqueItems:"Array elements are not unique"},zh:{pattern:"",invalid:"",required:"",number:"",integer:"",url:"url",email:"",ipv6:"ipv6",ipv4:"ipv4",idcard:"",qq:"QQ",phone:"",money:"",zh:"",date:"",zip:"",len:"{{len}}",min:"{{min}}",minLength:"{{minLength}}",minItems:"{{minItems}}",max:"{{max}}",maxLength:"{{maxLength}}",maxItems:"{{maxItems}}",maximum:"{{maximum}}",exclusiveMaximum:"{{exclusiveMaximum}}",minimum:"{{minimum}}",exclusiveMinimum:"{{exclusiveMinimum}}",whitespace:"",enum:"{{enum}}",const:"{{const}}",multipleOf:"{{multipleOf}}",maxProperties:"{{maxProperties}}",minProperties:"{{minProperties}}",uniqueItems:""},"en-US":{pattern:"This field is invalid",invalid:"This field is invalid",required:"The field value is required",number:"The field value is not a number",integer:"The field value is not an integer number",url:"The field value is a invalid url",email:"The field value is not a email format",ipv6:"The field value is not a ipv6 format",ipv4:"The field value is not a ipv4 format",idcard:"The field value is not an idcard format",qq:"The field value is not a qq number format",phone:"The field value is not a phone number format",money:"The field value is not a currency format",zh:"The field value is not a chinese string",date:"The field value is not a valid date format",zip:"The field value is not a zip format",len:"The length or number of entries must be {{len}}",min:"The length or number of entries must be at least {{min}}",minLength:"The length or number of entries must be at least {{minLength}}",minItems:"The length or number of entries must be at least {{minItems}}",maximum:"The field value cannot be greater than {{maximum}}",exclusiveMaximum:"The field value must be less than {{exclusiveMaximum}}",minimum:"The field value cannot be less than {{minimum}}",exclusiveMinimum:"The field value must be greater than {{exclusiveMinimum}}",max:"The field length or number of entries must be at most {{max}}",maxLength:"The field length or number of entries must be at most {{maxLength}}",maxItems:"The field length or number of entries must be at most {{maxItems}}",whitespace:"This field value cannot be blank string.",enum:"The field value must be one of {{enum}}",const:"The field value must be equal to {{const}}",multipleOf:"The field value must be divisible by {{multipleOf}}",maxProperties:"The number of field properties cannot be greater than {{maxProperties}}",minProperties:"The number of field properties cannot be less than {{maxProperties}}",uniqueItems:"Array elements are not unique"},"zh-CN":{pattern:"",invalid:"",required:"",number:"",integer:"",url:"url",email:"",ipv6:"ipv6",ipv4:"ipv4",idcard:"",qq:"QQ",phone:"",money:"",zh:"",date:"",zip:"",len:"{{len}}",min:"{{min}}",minLength:"{{minLength}}",minItems:"{{minItems}}",maxLength:"{{maxLength}}",maxItems:"{{maxItems}}",max:"{{max}}",maximum:"{{maximum}}",exclusiveMaximum:"{{exclusiveMaximum}}",minimum:"{{minimum}}",exclusiveMinimum:"{{exclusiveMinimum}}",whitespace:"",enum:"{{enum}}",const:"{{const}}",multipleOf:"{{multipleOf}}",maxProperties:"{{maxProperties}}",minProperties:"{{minProperties}}",uniqueItems:""},"zh-TW":{pattern:"",invalid:"",required:"",number:"",integer:"",url:"url",email:"",ipv6:"ipv6",ipv4:"ipv4",idcard:"",qq:"QQ",phone:"",money:"",zh:"",date:"",zip:"",len:"{{len}}",min:"{{min}}",minItems:"{{minItems}}",minLength:"{{minLength}}",max:"{{max}}",maxItems:"{{maxItems}}",maxLength:"{{maxLength}}",maximum:"{{maximum}}",exclusiveMaximum:"{{exclusiveMaximum}}",minimum:"{{minimum}}",exclusiveMinimum:"{{exclusiveMinimum}}",whitespace:"",enum:"{{enum}}",const:"{{const}}",multipleOf:"{{multipleOf}}",maxProperties:"{{maxProperties}}",minProperties:"{{minProperties}}",uniqueItems:""},ja:{url:"URL",whitespace:"",zh:"",zip:"zip",date:"",email:"",exclusiveMaximum:"{{exclusiveMaximum}}",exclusiveMinimum:"{{exclusiveMinimum}}",idcard:"ID",integer:"",ipv4:"IPv4",ipv6:"IPv6",len:"{{len}}",max:"{{max}}",maxItems:"{{maxItems}}",maxLength:"{{maxLength}}",maximum:"{{}}",min:"{{min}}",minItems:"{{minItems}}",minLength:"{{minLength}}",minimum:"{{minimum}}",money:"",number:"",pattern:"",invalid:"",phone:"",qq:"qq",required:"",enum:"{{enum}}",cons:"{{const}}",multipleOf:"{{multipleOf}}",maxProperties:"{{maxProperties}}",minProperties:"{{minProperties}}",uniqueItems:""}},$f={url:new RegExp("^(?:(?:(?:https?|ftp|rtmp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:22[0-3]|2[01]\\d|[1-9]\\d?|1\\d\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1?\\d{1,2})){2}(?:\\.(?:25[0-4]|2[0-4]\\d|1\\d\\d|[1-9]\\d?))|(?:(?:[a-z\\u00a1-\\uffff0-9_]-*)*[a-z\\u00a1-\\uffff0-9_]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9_]-*)*[a-z\\u00a1-\\uffff0-9_]+)*(?:\\.(?:[a-z\\u00a1-\\uffff_]{2,})))(?::\\d{2,5})?(?:/?\\S*)?$"),email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ipv4:/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/,number:/^[+-]?\d+(\.\d+)?$/,integer:/^[+-]?\d+$/,qq:/^(\+?[1-9]\d*|0)$/,phone:/^\d{3}-\d{8}$|^\d{4}-\d{7}$|^\d{11}$/,idcard:/^\d{15}$|^\d{17}(\d|x|X)$/,money:/^([\u0024\u00A2\u00A3\u00A4\u20AC\u00A5\u20B1\u20B9\uFFE5]\s*)(\d+,?)+\.?\d*\s*$/,zh:/^[\u4e00-\u9fa5]+$/,date:/^[0-9]+[./-][0-9]+[./-][0-9]+\s*(?:[0-9]+\s*:\s*[0-9]+\s*:\s*[0-9]+)?$/,zip:/^[0-9]{6}$/};var an=globalThis&&globalThis.__assign||function(){return an=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},an.apply(this,arguments)},Bf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(e,t||[])).next())})},Uf=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},zf=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Gf=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},le=function(e){var t;if(N(e)){for(var r=0;r<e.length;r++)if(R(e[r]))return!1;return!0}else return e!=null&&e.getCurrentContent?!(!((t=e.getCurrentContent())===null||t===void 0)&&t.hasText()):qe(e)},tr=function(e){return J(e)?Wc(e):e?e.length:0},Hf=function(e,t){B(t,function(r,n){e[n]=function(a,i){for(var o,l=[],s=2;s<arguments.length;s++)l[s-2]=arguments[s];return e[r].apply(e,Gf([a,an(an({},i),(o={},o[r]=i[n],o))],zf(l),!1))}})},Ol={format:function(e,t){if(le(e))return"";if(t.format){var r=Cf(t.format);if(r)return new RegExp(r).test(e)?"":t.message}return""},required:function(e,t){return t.required===!1?"":le(e)?t.message:""},max:function(e,t){if(le(e))return"";var r=ar(e)?e:tr(e),n=Number(t.max);return r>n?t.message:""},min:function(e,t){if(le(e))return"";var r=ar(e)?e:tr(e),n=Number(t.min);return r<n?t.message:""},exclusiveMaximum:function(e,t){if(le(e))return"";var r=ar(e)?e:tr(e),n=Number(t.exclusiveMaximum);return r>=n?t.message:""},exclusiveMinimum:function(e,t){if(le(e))return"";var r=ar(e)?e:tr(e),n=Number(t.exclusiveMinimum);return r<=n?t.message:""},len:function(e,t){if(le(e))return"";var r=tr(e),n=Number(t.len);return r!==n?t.message:""},pattern:function(e,t){return le(e)||new RegExp(t.pattern).test(e)?"":t.message},validator:function(e,t,r,n){return Bf(this,void 0,void 0,function(){var a;return Uf(this,function(i){switch(i.label){case 0:return I(t.validator)?[4,Promise.resolve(t.validator(e,t,r,n))]:[3,2];case 1:return a=i.sent(),ii(a)?[2,a?"":t.message]:[2,a];case 2:throw new Error("The rule's validator property must be a function.")}})})},whitespace:function(e,t){if(le(e))return"";if(t.whitespace)return/^\s+$/.test(e)?t.message:""},enum:function(e,t){if(le(e))return"";var r=ce(t.enum);return r.indexOf(e)===-1?t.message:""},const:function(e,t){return le(e)?"":t.const!==e?t.message:""},multipleOf:function(e,t){return le(e)?"":Number(e)%Number(t.multipleOf)!==0?t.message:""},uniqueItems:function(e,t){return le(e)?"":(e=ce(e),e.some(function(r,n){for(var a=0;a<e.length;a++)if(a!==n&&!Bc(e[a],r))return!1;return!0})?"":t.message)},maxProperties:function(e,t){return le(e)||Object.keys(e||{}).length<=Number(t.maxProperties)?"":t.message},minProperties:function(e,t){return le(e)||Object.keys(e||{}).length>=Number(t.minProperties)?"":t.message}};Hf(Ol,{maximum:"max",minimum:"min",maxItems:"max",minItems:"min",maxLength:"max",minLength:"min"});var qf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(e,t||[])).next())})},Wf=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Nf(Ol);Ff(Lf);Rf($f);var Kf=function(e,t,r){return qf(void 0,void 0,void 0,function(){var n,a,i,o,l,s;return Wf(this,function(u){switch(u.label){case 0:n=Vf(t,r),a={error:[],success:[],warning:[]},i=0,u.label=1;case 1:return i<n.length?[4,n[i](e,r==null?void 0:r.context)]:[3,4];case 2:if(o=u.sent(),l=o.type,s=o.message,a[l]=a[l]||[],s&&(a[l].push(s),r!=null&&r.validateFirst))return[3,4];u.label=3;case 3:return i++,[3,1];case 4:return[2,a]}})})},S;(function(e){e.ON_FORM_INIT="onFormInit",e.ON_FORM_MOUNT="onFormMount",e.ON_FORM_UNMOUNT="onFormUnmount",e.ON_FORM_INPUT_CHANGE="onFormInputChange",e.ON_FORM_VALUES_CHANGE="onFormValuesChange",e.ON_FORM_INITIAL_VALUES_CHANGE="onFormInitialValuesChange",e.ON_FORM_SUBMIT="onFormSubmit",e.ON_FORM_RESET="onFormReset",e.ON_FORM_SUBMIT_START="onFormSubmitStart",e.ON_FORM_SUBMITTING="onFormSubmitting",e.ON_FORM_SUBMIT_END="onFormSubmitEnd",e.ON_FORM_SUBMIT_VALIDATE_START="onFormSubmitValidateStart",e.ON_FORM_SUBMIT_VALIDATE_SUCCESS="onFormSubmitValidateSuccess",e.ON_FORM_SUBMIT_VALIDATE_FAILED="onFormSubmitValidateFailed",e.ON_FORM_SUBMIT_VALIDATE_END="onFormSubmitValidateEnd",e.ON_FORM_SUBMIT_SUCCESS="onFormSubmitSuccess",e.ON_FORM_SUBMIT_FAILED="onFormSubmitFailed",e.ON_FORM_VALIDATE_START="onFormValidateStart",e.ON_FORM_VALIDATING="onFormValidating",e.ON_FORM_VALIDATE_SUCCESS="onFormValidateSuccess",e.ON_FORM_VALIDATE_FAILED="onFormValidateFailed",e.ON_FORM_VALIDATE_END="onFormValidateEnd",e.ON_FORM_GRAPH_CHANGE="onFormGraphChange",e.ON_FORM_LOADING="onFormLoading",e.ON_FIELD_INIT="onFieldInit",e.ON_FIELD_INPUT_VALUE_CHANGE="onFieldInputValueChange",e.ON_FIELD_VALUE_CHANGE="onFieldValueChange",e.ON_FIELD_INITIAL_VALUE_CHANGE="onFieldInitialValueChange",e.ON_FIELD_SUBMIT="onFieldSubmit",e.ON_FIELD_SUBMIT_START="onFieldSubmitStart",e.ON_FIELD_SUBMITTING="onFieldSubmitting",e.ON_FIELD_SUBMIT_END="onFieldSubmitEnd",e.ON_FIELD_SUBMIT_VALIDATE_START="onFieldSubmitValidateStart",e.ON_FIELD_SUBMIT_VALIDATE_SUCCESS="onFieldSubmitValidateSuccess",e.ON_FIELD_SUBMIT_VALIDATE_FAILED="onFieldSubmitValidateFailed",e.ON_FIELD_SUBMIT_VALIDATE_END="onFieldSubmitValidateEnd",e.ON_FIELD_SUBMIT_SUCCESS="onFieldSubmitSuccess",e.ON_FIELD_SUBMIT_FAILED="onFieldSubmitFailed",e.ON_FIELD_VALIDATE_START="onFieldValidateStart",e.ON_FIELD_VALIDATING="onFieldValidating",e.ON_FIELD_VALIDATE_SUCCESS="onFieldValidateSuccess",e.ON_FIELD_VALIDATE_FAILED="onFieldValidateFailed",e.ON_FIELD_VALIDATE_END="onFieldValidateEnd",e.ON_FIELD_LOADING="onFieldLoading",e.ON_FIELD_RESET="onFieldReset",e.ON_FIELD_MOUNT="onFieldMount",e.ON_FIELD_UNMOUNT="onFieldUnmount"})(S||(S={}));var Sl={form:!0,parent:!0,props:!0,caches:!0,requests:!0,disposers:!0,heart:!0,graph:!0,indexes:!0,fields:!0,lifecycles:!0,componentType:!0,componentProps:!0,decoratorType:!0,decoratorProps:!0},Xf={address:!0,path:!0,valid:!0,invalid:!0,selfValid:!0,selfInvalid:!0,errors:!0,successes:!0,warnings:!0,validateStatus:!0},ta="selfDisplay",rr="selfPattern",Yf={pattern:rr,editable:rr,readOnly:rr,readPretty:rr,disabled:rr,display:ta,hidden:ta,visible:ta},ci=100,X={lifecycles:[],context:[],effectStart:!1,effectEnd:!1,initializing:!1},Je=/^\.(\d+)/,Ut=globalThis&&globalThis.__assign||function(){return Ut=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ut.apply(this,arguments)},Kt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(e,t||[])).next())})},Xt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},on=Object.prototype.hasOwnProperty,Q=function(e,t,r){bt(e)?e.notify(t):e.notify(r)},ra=function(e,t){var r;if(t===void 0&&(t=!0),e!=null&&e.target){if(typeof e.target=="object"&&("value"in e.target||"checked"in e.target))return!0;t&&((r=e.stopPropagation)===null||r===void 0||r.call(e))}return!1},Jf=function(e){return e.map(function(t){return t!=null&&t.target?R(t.target.value)?t.target.value:R(t.target.checked)?t.target.checked:void 0:t})},Qf=function(e){if(li(e))return[];if(ui(e))return{}},Zf=function(e){return El(e.form.fields,e.address)},El=function(e,t){var r=!1,n=t.segments,a=n.reduce(function(i,o,l){var s=i.concat(o),u=n.slice(0,l+1),c=e[u.join(".")];if(r)return Y(c)||(r=!1),i;if(l>=n.length-1)return s;if(Y(c)){var f=n.slice(0,l),h=e[f.join(".")];return li(h)&&Dc(o)?(r=!0,s):i}else r=!1;return s},[]);return new A(a)},wl=function(e,t){return e.address=A.parse(t),e.path=Zf(e),e.form.indexes[e.path.toString()]=e.address.toString(),e},Pl=function(e,t){t.forEach(function(r){var n=r.type,a=r.address,i=r.oldAddress,o=r.payload;n==="remove"?Il(e,a,!1):n==="update"&&(o&&(e[a]=o,e[i]===o&&delete e[i]),a&&o&&wl(o,a))})},Il=function(e,t,r){r===void 0&&(r=!0);var n=e[t];if(n==null||n.dispose(),yl(n)&&r){var a=n.form,i=n.path;a.deleteValuesIn(i),a.deleteInitialValuesIn(i)}delete e[t]},ed=function(e,t,r){var n=function(i,o){i.length?e.setValuesIn(i,ze(o)):Object.assign(e.values,ze(o))},a=function(i,o){o===void 0&&(o=[]);var l=e.getValuesIn(o),s=e.query(o).take(),u=s&&!Y(s);if(u&&s.display==="none"){s.caches.value=ze(i);return}if(cn(l,i))n(o,i);else{if(qe(i)||X.initializing)return;we(l)&&we(i)?B(i,function(c,f){a(c,o.concat(f))}):s?u&&!s.selfModified&&n(o,i):e.initialized&&n(o,i)}};a(r,t)},td=function(e,t){return!(!e||!t||e.type&&e.type!==t.type||e.code&&e.code!==t.code||e.path&&t.path&&!A.parse(e.path).match(t.path)||e.address&&t.address&&!A.parse(e.address).match(t.address)||e.triggerType&&e.triggerType!==t.triggerType)},fi=function(e,t){return e.feedbacks.filter(function(r){var n,a,i;return!((n=r.messages)===null||n===void 0)&&n.length?td(t,Ut(Ut({},r),{address:(a=e.address)===null||a===void 0?void 0:a.toString(),path:(i=e.path)===null||i===void 0?void 0:i.toString()})):!1})},na=function(e,t){return e.feedbacks.length?fi(e,t).reduce(function(r,n){return qe(n.messages)?r:r.concat(n.messages)},[]):[]},rd=function(e,t){if(t)return j(function(){var r,n;if(e.feedbacks.length){var a=fi(e,t);if(a.length){e.feedbacks=e.feedbacks.reduce(function(i,o){var l;return a.includes(o)?!((l=t.messages)===null||l===void 0)&&l.length?(o.messages=t.messages,i.concat(o)):i:i.concat(o)},[]);return}else!((n=t.messages)===null||n===void 0)&&n.length&&(e.feedbacks=e.feedbacks.concat(t))}else{if(!(!((r=t.messages)===null||r===void 0)&&r.length))return;e.feedbacks=[t]}})},Zi=function(e,t){return t===void 0&&(t="onInput"),Kt(void 0,void 0,void 0,function(){var r,n;return Xt(this,function(a){switch(a.label){case 0:return[4,Kf(e.value,e.validator,{triggerType:t,validateFirst:(n=e.props.validateFirst)!==null&&n!==void 0?n:e.form.props.validateFirst,context:{field:e,form:e.form}})];case 1:return r=a.sent(),j(function(){B(r,function(i,o){e.setFeedback({triggerType:t,type:o,code:Xu("validate-".concat(o)),messages:i})})}),[2,r]}})})},nd=function(e,t,r){var n;if(R(r)){var a=si(e.validator),i=a.some(function(l){return t in l}),o=(n={},n[t]=r,n);i?e.validator=a.map(function(l){return we(l)&&on.call(l,t)&&(l[t]=r),l}):t==="required"?e.validator=[o].concat(a):e.validator=a.concat(o)}},$r=function(e,t){var r=Ut({startIndex:0,deleteCount:0,insertCount:0},t),n=r.startIndex,a=r.deleteCount,i=r.insertCount,o=e.address.toString(),l=o.length,s=e.form,u=s.fields,c=[],f=i-a,h=function(g){return g.indexOf(o)===0&&g.length>l},v=function(g){var y,O=g.substring(l),w=(y=O.match(Je))===null||y===void 0?void 0:y[1];if(w===void 0)return!1;var T=Number(w);return T>n+a-1},p=function(g){var y,O=g.substring(l),w=(y=O.match(Je))===null||y===void 0?void 0:y[1];if(w===void 0)return!1;var T=Number(w);return T>=n&&T<n+i},b=function(g){var y,O=g.substring(0,l),w=g.substring(l),T=(y=w.match(Je))===null||y===void 0?void 0:y[1];if(T===void 0)return!1;var V=Number(T);return V>n&&!u["".concat(O).concat(w.replace(/^\.\d+/,".".concat(V+a)))]||V===n},x=function(g){var y;if(f===0)return g;var O=g.substring(0,l),w=g.substring(l),T=(y=w.match(Je))===null||y===void 0?void 0:y[1];if(T===void 0)return g;var V=Number(T)+f;return"".concat(O).concat(w.replace(/^\.\d+/,".".concat(V)))};j(function(){B(u,function(g,y){if(h(y)){if(v(y)){var O=x(y);c.push({type:"update",address:O,oldAddress:y,payload:g})}(p(y)||b(y))&&c.push({type:"remove",address:y})}}),Pl(u,c)}),e.form.notify(S.ON_FORM_GRAPH_CHANGE)},ad=function(e,t){var r=Ut({fromIndex:0,toIndex:0},t),n=r.fromIndex,a=r.toIndex,i=e.address.toString(),o=e.form.fields,l=i.length,s=[],u=function(p){return p.indexOf(i)===0&&p.length>l},c=n<a,f=function(p){var b,x=p.slice(i.length),g=(b=x.match(Je))===null||b===void 0?void 0:b[1];if(g===void 0)return!1;var y=Number(g);return c?y>n&&y<=a:y<n&&y>=a},h=function(p){var b,x=p.substring(l),g=(b=x.match(Je))===null||b===void 0?void 0:b[1];if(g===void 0)return!1;var y=Number(g);return y===n},v=function(p){var b=p.substring(0,l),x=p.substring(l),g=x.match(Je)[1],y=Number(g),O=y;return O===n?O=a:O+=c?-1:1,"".concat(b).concat(x.replace(/^\.\d+/,".".concat(O)))};j(function(){B(o,function(p,b){if(u(b)&&(f(b)||h(b))){var x=v(b);s.push({type:"update",address:x,oldAddress:b,payload:p}),o[x]||s.push({type:"remove",address:b})}}),Pl(o,s)}),e.form.notify(S.ON_FORM_GRAPH_CHANGE)},eo=function(e,t){var r=e.address.toString(),n=e.form.fields,a=function(o){return o.indexOf(r)===0&&o.length>r.length},i=function(o){var l,s=o.slice(r.length),u=(l=s.match(Je))===null||l===void 0?void 0:l[1];if(u===void 0)return!1;var c=Number(u);return c>=t};j(function(){B(n,function(o,l){a(l)&&i(l)&&o.destroy()})})},id=function(e,t){if(t.length!==0){var r=e.address.toString(),n=e.form.fields,a=function(o){return o.indexOf(r)===0&&o.length>r.length},i=function(o){var l,s=o.slice(r.length),u=(l=s.match(/^\.([^.]+)/))===null||l===void 0?void 0:l[1];return u===void 0?!1:t.includes(u)};j(function(){B(n,function(o,l){a(l)&&i(l)&&o.destroy()})})}},od=j.scope.bound(function(e){for(var t=e.form,r=A.ensureIn(t,"requests.updates",[]),n=A.ensureIn(t,"requests.updateIndexes",{}),a=0;a<r.length;a++){var i=r[a],o=i.pattern,l=i.callbacks,s=!1;e.match(o)&&(l.forEach(function(u){e.setState(u)}),!o.isWildMatchPattern&&!o.isMatchPattern&&(r.splice(a--,1),s=!0)),s?delete n[o.toString()]:n[o.toString()]=a}}),ld=function(e,t,r){var n=A.ensureIn(e,"requests.updates",[]),a=A.ensureIn(e,"requests.updateIndexes",{}),i=t.toString(),o=a[i];R(o)?n[o]&&!n[o].callbacks.some(function(l){return l.toString()===r.toString()?l===r:!1})&&n[o].callbacks.push(r):(a[i]=n.length,n.push({pattern:t,callbacks:[r]}))},ud=function(e,t){if(e){if(I(t))t(e);else for(var r in t)if(on.call(t,r)&&!(Xf[r]||Sl[r])){var n=Yf[r];if(!(n&&on.call(t,n)&&!R(t[n]))){var a=t[r];I(a)||(e[r]=a)}}return e}},sd=function(e,t){if(I(t))return t(e);var r={};for(var n in e)if(on.call(e,n)&&!Sl[n]){if(n==="address"||n==="path"){r[n]=e[n].toString();continue}var a=e[n];I(a)||(r[n]=Be(a))}return r},aa=function(e){var t,r=(t=e.address)===null||t===void 0?void 0:t.toString();return function(n){var a=n.address;return a===r||a.indexOf(r+".")===0}},ln=function(e){return j.bound(function(t){return ud(e,t)})},un=function(e){return function(t){return sd(e,t)}},cd=function(e){return j.bound(function(t,r){if(_l(t))t.forEach(function(i){i.setState(r)});else if(bl(t))t.setState(r);else{var n=0,a=A.parse(t);e.query(a).forEach(function(i){i.setState(r),n++}),(n===0||a.isWildMatchPattern)&&ld(e,a,r)}})},fd=function(e){return function(t,r){return _l(t)?t.take(r):bl(t)?t.getState(r):e.query(t).take(function(n){return n.getState(r)})}},dd=function(e,t){Array.isArray(t.object)&&t.key==="length"||(qo(e.initialValues,t.object)||e.initialValues===t.value)&&((t.type==="add"||t.type==="set")&&ed(e,t.path.slice(1),t.value),e.initialized&&e.notify(S.ON_FORM_INITIAL_VALUES_CHANGE))},vd=function(e,t){Array.isArray(t.object)&&t.key==="length"||(qo(e.values,t.object)||e.values===t.value)&&e.initialized&&e.notify(S.ON_FORM_VALUES_CHANGE)},sn=function(e,t){clearTimeout(e.requests.validate),t?(e.requests.validate=setTimeout(function(){j(function(){e.validating=t,Q(e,S.ON_FORM_VALIDATING,S.ON_FIELD_VALIDATING)})},ci),Q(e,S.ON_FORM_VALIDATE_START,S.ON_FIELD_VALIDATE_START)):(e.validating!==t&&(e.validating=t),Q(e,S.ON_FORM_VALIDATE_END,S.ON_FIELD_VALIDATE_END))},Tl=function(e,t){clearTimeout(e.requests.submit),t?(e.requests.submit=setTimeout(function(){j(function(){e.submitting=t,Q(e,S.ON_FORM_SUBMITTING,S.ON_FIELD_SUBMITTING)})},ci),Q(e,S.ON_FORM_SUBMIT_START,S.ON_FIELD_SUBMIT_START)):(e.submitting!==t&&(e.submitting=t),Q(e,S.ON_FORM_SUBMIT_END,S.ON_FIELD_SUBMIT_END))},Cl=function(e,t){clearTimeout(e.requests.loading),t?e.requests.loading=setTimeout(function(){j(function(){e.loading=t,Q(e,S.ON_FORM_LOADING,S.ON_FIELD_LOADING)})},ci):e.loading!==t&&(e.loading=t)},Al=function(e,t){return Kt(void 0,void 0,void 0,function(){var r,n,a;return Xt(this,function(i){switch(i.label){case 0:r=function(o){return bt(o)?Be(o.values):Be(o.value)},e.setSubmitting(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),Q(e,S.ON_FORM_SUBMIT_VALIDATE_START,S.ON_FIELD_SUBMIT_VALIDATE_START),[4,e.validate()];case 2:return i.sent(),Q(e,S.ON_FORM_SUBMIT_VALIDATE_SUCCESS,S.ON_FIELD_SUBMIT_VALIDATE_SUCCESS),[3,4];case 3:return i.sent(),Q(e,S.ON_FORM_SUBMIT_VALIDATE_FAILED,S.ON_FIELD_SUBMIT_VALIDATE_FAILED),[3,4];case 4:Q(e,S.ON_FORM_SUBMIT_VALIDATE_END,S.ON_FIELD_SUBMIT_VALIDATE_END),i.label=5;case 5:if(i.trys.push([5,9,,10]),e.invalid)throw e.errors;return I(t)?[4,t(r(e))]:[3,7];case 6:return n=i.sent(),[3,8];case 7:n=r(e),i.label=8;case 8:return Q(e,S.ON_FORM_SUBMIT_SUCCESS,S.ON_FIELD_SUBMIT_SUCCESS),[3,10];case 9:throw a=i.sent(),e.setSubmitting(!1),Q(e,S.ON_FORM_SUBMIT_FAILED,S.ON_FIELD_SUBMIT_FAILED),Q(e,S.ON_FORM_SUBMIT,S.ON_FIELD_SUBMIT),a;case 10:return e.setSubmitting(!1),Q(e,S.ON_FORM_SUBMIT,S.ON_FIELD_SUBMIT),[2,n]}})})},Fl=function(e,t,r){return Kt(void 0,void 0,void 0,function(){var n;return Xt(this,function(a){switch(a.label){case 0:if(bt(e))e.setValidating(!0);else if(e.pattern!=="editable"||e.display!=="visible")return[2];return n=[],e.query(t).forEach(function(i){Y(i)||n.push(Nt(i,r,i===e))}),[4,Promise.all(n)];case 1:if(a.sent(),bt(e)&&e.setValidating(!1),e.invalid)throw Q(e,S.ON_FORM_VALIDATE_FAILED,S.ON_FIELD_VALIDATE_FAILED),e.errors;return Q(e,S.ON_FORM_VALIDATE_SUCCESS,S.ON_FIELD_VALIDATE_SUCCESS),[2]}})})},Nl=function(e,t,r){return Kt(void 0,void 0,void 0,function(){var n;return Xt(this,function(a){switch(a.label){case 0:return n=[],e.query(t).forEach(function(i){Y(i)||n.push(hd(i,r,e===i))}),bt(e)&&(e.modified=!1),Q(e,S.ON_FORM_RESET,S.ON_FIELD_RESET),[4,Promise.all(n)];case 1:return a.sent(),[2]}})})},Nt=j.bound(function(e,t,r){return r===void 0&&(r=!1),Kt(void 0,void 0,void 0,function(){var n,a,i,o,l,s,u;return Xt(this,function(c){switch(c.label){case 0:if(n=function(){sn(e,!0)},a=function(){sn(e,!1),!r&&(e.selfValid?e.notify(S.ON_FIELD_VALIDATE_SUCCESS):e.notify(S.ON_FIELD_VALIDATE_FAILED))},e.pattern!=="editable"||e.display!=="visible")return[2,{}];if(n(),t)return[3,5];i=si(e.validator).reduce(function(f,h){return f.indexOf(h.triggerType)>-1?f:f.concat(h.triggerType)},[]),o={},l=0,c.label=1;case 1:return l<i.length?[4,Zi(e,i[l])]:[3,4];case 2:s=c.sent(),B(s,function(f,h){o[h]=o[h]||[],o[h]=o[h].concat(f)}),c.label=3;case 3:return l++,[3,1];case 4:return a(),[2,o];case 5:return[4,Zi(e,t)];case 6:return u=c.sent(),a(),[2,u]}})})}),hd=j.bound(function(e,t,r){return r===void 0&&(r=!1),Kt(void 0,void 0,void 0,function(){var n,a;return Xt(this,function(i){switch(i.label){case 0:return n=Qf(e),e.modified=!1,e.selfModified=!1,e.visited=!1,e.feedbacks=[],e.inputValue=n,e.inputValues=[],e.caches={},en(e.value)||(t!=null&&t.forceClear?e.value=n:(a=e.initialValue,e.value=Be(en(a)?n:a))),r||e.notify(S.ON_FIELD_RESET),t!=null&&t.validate?[4,Nt(e)]:[3,2];case 1:return[2,i.sent()];case 2:return[2]}})})}),pd=function(e){if(!e.selfModified){e.selfModified=!0,e.modified=!0;for(var t=e.parent;t;){if(yl(t)){if(t.modified)return;t.modified=!0}t=t.parent}e.form.modified=!0}},to=function(e){return mt(e)?e:ze(e||{})},md=function(e,t){return cn(e,t)?ze(t):e},cn=function(e,t){var r=!en(e),n=!en(t);if(!r)return n;if(typeof e==typeof t&&(e===""||e===0))return!1;var a=e!==null&&qe(e,!0),i=t!==null&&qe(t,!0);return a?!i:!1},Rl=function(e){var t=ce(e.props.reactions);e.form.addEffects(e,function(){t.forEach(function(r){I(r)&&e.disposers.push(Ze(j.scope.bound(function(){e.destroyed||r(e)})))})})},Br=function(e,t){return gr(e,jn.bound(t))},jl=function(){X.initializing=!0},Ml=function(){j.endpoint(function(){X.initializing=!1})},Ur=function(e,t){if(e)return I(t)?t(e,e.address):e},gd=function(e,t){var r=t.toString(),n=e.indexes[r],a=e.fields[r],i=e.fields[n];if(a)return r;if(i)return n},di=function(){function e(t){var r=this;if(this.addresses=[],this.pattern=A.parse(t.pattern,t.base),this.form=t.form,this.pattern.isMatchPattern)B(this.form.fields,function(a,i){a.match(r.pattern)&&r.addresses.push(i)});else{var n=gd(this.form,this.pattern.haveRelativePattern?El(t.form.fields,this.pattern):this.pattern);n&&(this.addresses=[n])}}return e.prototype.take=function(t){return Ur(this.form.fields[this.addresses[0]],t)},e.prototype.map=function(t){var r=this;return this.addresses.map(function(n){return Ur(r.form.fields[n],t)})},e.prototype.forEach=function(t){var r=this;return this.addresses.forEach(function(n){return Ur(r.form.fields[n],t)})},e.prototype.reduce=function(t,r){var n=this;return this.addresses.reduce(function(a,i){return Ur(n.form.fields[i],function(o,l){return t(a,o,l)})},r)},e.prototype.get=function(t){var r=this.take();if(r)return r[t]},e.prototype.getIn=function(t){return A.getIn(this.take(),t)},e.prototype.value=function(){return this.get("value")},e.prototype.initialValue=function(){return this.get("initialValue")},e}(),bd=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},yd=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},kl=function(){function e(){var t=this;this.disposers=[],this.actions={},this.setTitle=function(r){t.title=r},this.setDescription=function(r){t.description=r},this.setDisplay=function(r){t.display=r},this.setPattern=function(r){t.pattern=r},this.setComponent=function(r,n){r&&(t.componentType=r),n&&(t.componentProps=t.componentProps||{},Object.assign(t.componentProps,n))},this.setComponentProps=function(r){r&&(t.componentProps=t.componentProps||{},Object.assign(t.componentProps,r))},this.setDecorator=function(r,n){r&&(t.decoratorType=r),n&&(t.decoratorProps=t.decoratorProps||{},Object.assign(t.decoratorProps,n))},this.setDecoratorProps=function(r){r&&(t.decoratorProps=t.decoratorProps||{},Object.assign(t.decoratorProps,r))},this.setData=function(r){t.data=r},this.setContent=function(r){t.content=r},this.onInit=function(){t.initialized=!0,od(t),t.notify(S.ON_FIELD_INIT)},this.onMount=function(){t.mounted=!0,t.unmounted=!1,t.notify(S.ON_FIELD_MOUNT)},this.onUnmount=function(){t.mounted=!1,t.unmounted=!0,t.notify(S.ON_FIELD_UNMOUNT)},this.query=function(r){return new di({pattern:r,base:t.address,form:t.form})},this.notify=function(r,n){return t.form.notify(r,n??t)},this.dispose=function(){t.disposers.forEach(function(r){r()}),t.form.removeEffects(t)},this.destroy=function(r){r===void 0&&(r=!0),Il(t.form.fields,t.address.toString(),r)},this.match=function(r){return A.parse(r).matchAliasGroup(t.address,t.path)},this.inject=function(r){B(r,function(n,a){I(n)&&(t.actions[a]=n)})},this.invoke=function(r){for(var n,a,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(a=(n=t.actions)[r])===null||a===void 0?void 0:a.call.apply(a,yd([n],bd(i),!1))}}return e.prototype.locate=function(t){this.form.fields[t.toString()]=this,wl(this,t)},Object.defineProperty(e.prototype,"indexes",{get:function(){return this.path.transform(/^\d+$/,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.map(function(n){return Number(n)})})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.indexes[this.indexes.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return[this.componentType,this.componentProps]},set:function(t){var r=ce(t);this.componentType=r[0],this.componentProps=r[1]||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decorator",{get:function(){return[this.decoratorType,this.decoratorProps]},set:function(t){var r=ce(t);this.decoratorType=r[0],this.decoratorProps=r[1]||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){for(var t=this.address.parent(),r=t.toString();!this.form.fields[r];)if(t=t.parent(),r=t.toString(),!r)return;return this.form.fields[r]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){var t,r=(t=this.parent)===null||t===void 0?void 0:t.display;return r&&r!=="visible"?this.selfDisplay&&this.selfDisplay!=="visible"?this.selfDisplay:r:R(this.selfDisplay)?this.selfDisplay:r||this.form.display||"visible"},set:function(t){this.selfDisplay=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){var t,r=((t=this.parent)===null||t===void 0?void 0:t.pattern)||this.form.pattern||"editable",n=this.selfPattern;return R(n)?r==="readPretty"&&n!=="editable"?r:n:r},set:function(t){this.selfPattern=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){return this.pattern==="editable"},set:function(t){R(t)&&(t?this.pattern="editable":this.pattern="readPretty")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.pattern==="disabled"},set:function(t){R(t)&&(t?this.pattern="disabled":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this.pattern==="readOnly"},set:function(t){R(t)&&(t?this.pattern="readOnly":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readPretty",{get:function(){return this.pattern==="readPretty"},set:function(t){R(t)&&(t?this.pattern="readPretty":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.display==="hidden"},set:function(t){R(t)&&(t?this.display="hidden":this.display="visible")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.display==="visible"},set:function(t){R(t)&&(t?this.display="visible":this.display="none")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return!this.form.fields[this.address.toString()]},enumerable:!1,configurable:!0}),e}(),_d=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ia=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(e,t||[])).next())})},oa=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Or=function(e){_d(t,e);function t(r,n,a,i){var o=e.call(this)||this;return o.displayName="Field",o.caches={},o.requests={},o.setDataSource=function(l){o.dataSource=l},o.setFeedback=function(l){rd(o,l)},o.setSelfErrors=function(l){o.selfErrors=l},o.setSelfWarnings=function(l){o.selfWarnings=l},o.setSelfSuccesses=function(l){o.selfSuccesses=l},o.setValidator=function(l){o.validator=l},o.setValidatorRule=function(l,s){nd(o,l,s)},o.setRequired=function(l){o.required=l},o.setValue=function(l){if(!o.destroyed){if(!o.initialized){if(o.display==="none"){o.caches.value=l;return}if(l=md(l,o.initialValue),!cn(o.value,l)&&!o.designable)return}o.form.setValuesIn(o.path,l)}},o.setInitialValue=function(l){o.destroyed||!o.initialized&&!cn(o.initialValue,l)&&!o.designable||o.form.setInitialValuesIn(o.path,l)},o.setLoading=function(l){Cl(o,l)},o.setValidating=function(l){sn(o,l)},o.setSubmitting=function(l){Tl(o,l)},o.setState=ln(o),o.getState=un(o),o.onInput=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return ia(o,void 0,void 0,function(){var u,c,f;return oa(this,function(h){switch(h.label){case 0:return u=function(v){var p;return!((p=v[0])===null||p===void 0)&&p.target&&!ra(v[0])?v:Jf(v)},c=u(l),f=c[0],this.caches.inputting=!0,this.inputValue=f,this.inputValues=c,this.value=f,this.modify(),this.notify(S.ON_FIELD_INPUT_VALUE_CHANGE),this.notify(S.ON_FORM_INPUT_CHANGE,this.form),[4,Nt(this,"onInput")];case 1:return h.sent(),this.caches.inputting=!1,[2]}})})},o.onFocus=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return ia(o,void 0,void 0,function(){var u;return oa(this,function(c){switch(c.label){case 0:return!((u=l[0])===null||u===void 0)&&u.target&&!ra(l[0],!1)?[2]:(this.active=!0,this.visited=!0,[4,Nt(this,"onFocus")]);case 1:return c.sent(),[2]}})})},o.onBlur=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return ia(o,void 0,void 0,function(){var u;return oa(this,function(c){switch(c.label){case 0:return!((u=l[0])===null||u===void 0)&&u.target&&!ra(l[0],!1)?[2]:(this.active=!1,[4,Nt(this,"onBlur")]);case 1:return c.sent(),[2]}})})},o.validate=function(l){return Fl(o,"".concat(o.address,".**"),l)},o.submit=function(l){return Al(o,l)},o.reset=function(l){return Nl(o,"".concat(o.address,".**"),l)},o.queryFeedbacks=function(l){return fi(o,l)},o.modify=function(){return pd(o)},o.form=a,o.props=n,o.designable=i,jl(),o.locate(r),o.initialize(),o.makeObservable(),o.makeReactive(),o.onInit(),Ml(),o}return t.prototype.initialize=function(){this.initialized=!1,this.loading=!1,this.validating=!1,this.submitting=!1,this.selfModified=!1,this.active=!1,this.visited=!1,this.mounted=!1,this.unmounted=!1,this.inputValues=[],this.inputValue=null,this.feedbacks=[],this.title=this.props.title,this.description=this.props.description,this.display=this.props.display,this.pattern=this.props.pattern,this.editable=this.props.editable,this.disabled=this.props.disabled,this.readOnly=this.props.readOnly,this.readPretty=this.props.readPretty,this.visible=this.props.visible,this.hidden=this.props.hidden,this.dataSource=this.props.dataSource,this.validator=this.props.validator,this.required=this.props.required,this.content=this.props.content,this.initialValue=this.props.initialValue,this.value=this.props.value,this.data=this.props.data,this.decorator=ce(this.props.decorator),this.component=ce(this.props.component)},t.prototype.makeObservable=function(){this.designable||qt(this,{path:_.ref,title:_.ref,description:_.ref,dataSource:_.ref,selfDisplay:_.ref,selfPattern:_.ref,loading:_.ref,validating:_.ref,submitting:_.ref,selfModified:_.ref,modified:_.ref,active:_.ref,visited:_.ref,initialized:_.ref,mounted:_.ref,unmounted:_.ref,inputValue:_.ref,inputValues:_.ref,decoratorType:_.ref,componentType:_.ref,content:_.ref,feedbacks:_.ref,decoratorProps:_,componentProps:_,validator:_.shallow,data:_.shallow,component:_.computed,decorator:_.computed,errors:_.computed,warnings:_.computed,successes:_.computed,valid:_.computed,invalid:_.computed,selfErrors:_.computed,selfWarnings:_.computed,selfSuccesses:_.computed,selfValid:_.computed,selfInvalid:_.computed,validateStatus:_.computed,value:_.computed,initialValue:_.computed,display:_.computed,pattern:_.computed,required:_.computed,hidden:_.computed,visible:_.computed,disabled:_.computed,readOnly:_.computed,readPretty:_.computed,editable:_.computed,indexes:_.computed,setDisplay:P,setTitle:P,setDescription:P,setDataSource:P,setValue:P,setPattern:P,setInitialValue:P,setLoading:P,setValidating:P,setFeedback:P,setSelfErrors:P,setSelfWarnings:P,setSelfSuccesses:P,setValidator:P,setRequired:P,setComponent:P,setComponentProps:P,setDecorator:P,setDecoratorProps:P,setData:P,setContent:P,validate:P,reset:P,onInit:j,onInput:j,onMount:j,onUnmount:j,onFocus:j,onBlur:j})},t.prototype.makeReactive=function(){var r=this;this.designable||(this.disposers.push(Br(function(){return r.value},function(n){r.notify(S.ON_FIELD_VALUE_CHANGE),R(n)&&(r.selfModified&&!r.caches.inputting&&Nt(r),!qe(n)&&r.display==="none"&&(r.caches.value=Be(n),r.form.deleteValuesIn(r.path)))}),Br(function(){return r.initialValue},function(){r.notify(S.ON_FIELD_INITIAL_VALUE_CHANGE)}),Br(function(){return r.display},function(n){var a,i=r.value;n!=="none"?R(i)||(r.setValue(r.caches.value),r.caches.value=void 0):(r.caches.value=(a=Be(i))!==null&&a!==void 0?a:Be(r.initialValue),r.form.deleteValuesIn(r.path)),(n==="none"||n==="hidden")&&r.setFeedback({type:"error",messages:[]})}),Br(function(){return r.pattern},function(n){n!=="editable"&&r.setFeedback({type:"error",messages:[]})})),Rl(this))},Object.defineProperty(t.prototype,"selfErrors",{get:function(){return na(this,{type:"error"})},set:function(r){this.setFeedback({type:"error",code:"EffectError",messages:r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.form.errors.filter(aa(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfWarnings",{get:function(){return na(this,{type:"warning"})},set:function(r){this.setFeedback({type:"warning",code:"EffectWarning",messages:r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"warnings",{get:function(){return this.form.warnings.filter(aa(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfSuccesses",{get:function(){return na(this,{type:"success"})},set:function(r){this.setFeedback({type:"success",code:"EffectSuccess",messages:r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successes",{get:function(){return this.form.successes.filter(aa(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfValid",{get:function(){return!this.selfErrors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return!this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfInvalid",{get:function(){return!this.selfValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return!this.valid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.form.getValuesIn(this.path)},set:function(r){this.setValue(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialValue",{get:function(){return this.form.getInitialValuesIn(this.path)},set:function(r){this.setInitialValue(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){var r=N(this.validator)?this.validator:si(this.validator);return r.some(function(n){return!!(n!=null&&n.required)})},set:function(r){this.required!==r&&this.setValidatorRule("required",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validateStatus",{get:function(){if(this.validating)return"validating";if(this.selfInvalid)return"error";if(this.selfWarnings.length)return"warning";if(this.selfSuccesses.length)return"success"},enumerable:!1,configurable:!0}),t}(kl),ro=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},no=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Dl=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(X.effectStart)X.lifecycles.push(new gl(e,function(a,i){I(t)&&t.apply(void 0,no([a,i],ro(X.context),!1)).apply(void 0,no([],ro(r),!1))}));else throw new Error("Effect hooks cannot be used in asynchronous function body")}},xd=function(e){var t;return{provide:function(r){if(X.effectStart)t=X.context.length,X.context[t]=R(r)?r:e;else throw new Error("Provide method cannot be used in asynchronous function body")},consume:function(){if(!X.effectStart)throw new Error("Consume method cannot be used in asynchronous function body");return X.context[t]}}},Vl=xd(),Od=Vl.consume,la=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return X.lifecycles=[],X.context=[],X.effectStart=!0,X.effectEnd=!1,bt(e)&&Vl.provide(e),t.forEach(function(n){I(n)&&n(e)}),X.context=[],X.effectStart=!1,X.effectEnd=!0,X.lifecycles},Sd=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ua=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},sa=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Ll=function(e){Sd(t,e);function t(r,n,a,i){var o=e.call(this,r,n,a,i)||this;return o.displayName="ArrayField",o.push=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return P(function(){var u;return N(o.value)||(o.value=[]),(u=o.value).push.apply(u,sa([],ua(l),!1)),o.onInput(o.value)})},o.pop=function(){if(N(o.value))return P(function(){var l=o.value.length-1;return $r(o,{startIndex:l,deleteCount:1}),o.value.pop(),o.onInput(o.value)})},o.insert=function(l){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return P(function(){var c;return N(o.value)||(o.value=[]),$r(o,{startIndex:l,insertCount:s.length}),(c=o.value).splice.apply(c,sa([l,0],ua(s),!1)),o.onInput(o.value)})},o.remove=function(l){if(N(o.value))return P(function(){return $r(o,{startIndex:l,deleteCount:1}),o.value.splice(l,1),o.onInput(o.value)})},o.shift=function(){if(N(o.value))return P(function(){return o.value.shift(),o.onInput(o.value)})},o.unshift=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return P(function(){var u;return N(o.value)||(o.value=[]),$r(o,{startIndex:0,insertCount:l.length}),(u=o.value).unshift.apply(u,sa([],ua(l),!1)),o.onInput(o.value)})},o.move=function(l,s){if(N(o.value)&&l!==s)return P(function(){var u=o.value[l];return o.value.splice(l,1),o.value.splice(s,0,u),ad(o,{fromIndex:l,toIndex:s}),o.onInput(o.value)})},o.moveUp=function(l){if(N(o.value))return o.move(l,l-1<0?o.value.length-1:l-1)},o.moveDown=function(l){if(N(o.value))return o.move(l,l+1>=o.value.length?0:l+1)},o.makeAutoCleanable(),o}return t.prototype.makeAutoCleanable=function(){var r=this;this.disposers.push(gr(function(){var n;return(n=r.value)===null||n===void 0?void 0:n.length},function(n,a){a&&!n?eo(r,0):n<a&&eo(r,n)}))},t}(Or),Ed=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$l=function(e){Ed(t,e);function t(r,n,a,i){var o=e.call(this,r,n,a,i)||this;return o.displayName="ObjectField",o.additionalProperties=[],o.addProperty=function(l,s){return o.form.setValuesIn(o.path.concat(l),s),o.additionalProperties.push(l),o.onInput(o.value)},o.removeProperty=function(l){return o.form.deleteValuesIn(o.path.concat(l)),o.additionalProperties.splice(o.additionalProperties.indexOf(l),1),o.onInput(o.value)},o.existProperty=function(l){return o.form.existValuesIn(o.path.concat(l))},o.makeAutoCleanable(),o}return t.prototype.makeAutoCleanable=function(){var r=this;this.disposers.push(gr(function(){return Object.keys(r.value||{})},function(n){var a=r.additionalProperties.filter(function(i){return!n.includes(i)});id(r,a)}))},t}(Or),wd=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vi=function(e){wd(t,e);function t(r,n,a,i){var o=e.call(this)||this;return o.displayName="VoidField",o.setState=ln(o),o.getState=un(o),o.form=a,o.props=n,o.designable=i,jl(),o.locate(r),o.initialize(),o.makeObservable(),o.makeReactive(),o.onInit(),Ml(),o}return t.prototype.initialize=function(){this.mounted=!1,this.unmounted=!1,this.initialized=!1,this.title=this.props.title,this.description=this.props.description,this.pattern=this.props.pattern,this.display=this.props.display,this.hidden=this.props.hidden,this.editable=this.props.editable,this.disabled=this.props.disabled,this.readOnly=this.props.readOnly,this.readPretty=this.props.readPretty,this.visible=this.props.visible,this.content=this.props.content,this.data=this.props.data,this.decorator=ce(this.props.decorator),this.component=ce(this.props.component)},t.prototype.makeObservable=function(){this.designable||qt(this,{path:_.ref,title:_.ref,description:_.ref,selfDisplay:_.ref,selfPattern:_.ref,initialized:_.ref,mounted:_.ref,unmounted:_.ref,decoratorType:_.ref,componentType:_.ref,content:_.ref,data:_.shallow,decoratorProps:_,componentProps:_,display:_.computed,pattern:_.computed,hidden:_.computed,visible:_.computed,disabled:_.computed,readOnly:_.computed,readPretty:_.computed,editable:_.computed,component:_.computed,decorator:_.computed,indexes:_.computed,setTitle:P,setDescription:P,setDisplay:P,setPattern:P,setComponent:P,setComponentProps:P,setDecorator:P,setDecoratorProps:P,setData:P,setContent:P,onInit:j,onMount:j,onUnmount:j})},t.prototype.makeReactive=function(){this.designable||Rl(this)},t}(kl),$e=globalThis&&globalThis.__assign||function(){return $e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$e.apply(this,arguments)},zr="__FORMILY_DEV_TOOLS_HOOK__",Bl=function(){function e(t){var r=this;this.displayName="Form",this.fields={},this.requests={},this.indexes={},this.disposers=[],this.createField=function(n){var a=A.parse(n.basePath).concat(n.name),i=a.toString();if(i)return(!r.fields[i]||r.props.designable)&&(j(function(){new Or(a,n,r,r.props.designable)}),r.notify(S.ON_FORM_GRAPH_CHANGE)),r.fields[i]},this.createArrayField=function(n){var a=A.parse(n.basePath).concat(n.name),i=a.toString();if(i)return(!r.fields[i]||r.props.designable)&&(j(function(){new Ll(a,$e($e({},n),{value:N(n.value)?n.value:[]}),r,r.props.designable)}),r.notify(S.ON_FORM_GRAPH_CHANGE)),r.fields[i]},this.createObjectField=function(n){var a=A.parse(n.basePath).concat(n.name),i=a.toString();if(i)return(!r.fields[i]||r.props.designable)&&(j(function(){new $l(a,$e($e({},n),{value:dl(n.value)?n.value:{}}),r,r.props.designable)}),r.notify(S.ON_FORM_GRAPH_CHANGE)),r.fields[i]},this.createVoidField=function(n){var a=A.parse(n.basePath).concat(n.name),i=a.toString();if(i)return(!r.fields[i]||r.props.designable)&&(j(function(){new vi(a,n,r,r.props.designable)}),r.notify(S.ON_FORM_GRAPH_CHANGE)),r.fields[i]},this.setValues=function(n,a){a===void 0&&(a="merge"),we(n)&&(a==="merge"||a==="deepMerge"?rn(r.values,n,{arrayMerge:function(i,o){return o},assign:!0}):a==="shallowMerge"?Object.assign(r.values,n):r.values=n)},this.setInitialValues=function(n,a){a===void 0&&(a="merge"),we(n)&&(a==="merge"||a==="deepMerge"?rn(r.initialValues,n,{arrayMerge:function(i,o){return o},assign:!0}):a==="shallowMerge"?Object.assign(r.initialValues,n):r.initialValues=n)},this.setValuesIn=function(n,a){A.setIn(r.values,n,a)},this.deleteValuesIn=function(n){A.deleteIn(r.values,n)},this.existValuesIn=function(n){return A.existIn(r.values,n)},this.getValuesIn=function(n){return A.getIn(r.values,n)},this.setInitialValuesIn=function(n,a){A.setIn(r.initialValues,n,a)},this.deleteInitialValuesIn=function(n){A.deleteIn(r.initialValues,n)},this.existInitialValuesIn=function(n){return A.existIn(r.initialValues,n)},this.getInitialValuesIn=function(n){return A.getIn(r.initialValues,n)},this.setLoading=function(n){Cl(r,n)},this.setSubmitting=function(n){Tl(r,n)},this.setValidating=function(n){sn(r,n)},this.setDisplay=function(n){r.display=n},this.setPattern=function(n){r.pattern=n},this.addEffects=function(n,a){r.heart.hasLifeCycles(n)||r.heart.addLifeCycles(n,la(r,a))},this.removeEffects=function(n){r.heart.removeLifeCycles(n)},this.setEffects=function(n){r.heart.setLifeCycles(la(r,n))},this.clearErrors=function(n){n===void 0&&(n="*"),r.query(n).forEach(function(a){Y(a)||a.setFeedback({type:"error",messages:[]})})},this.clearWarnings=function(n){n===void 0&&(n="*"),r.query(n).forEach(function(a){Y(a)||a.setFeedback({type:"warning",messages:[]})})},this.clearSuccesses=function(n){n===void 0&&(n="*"),r.query(n).forEach(function(a){Y(a)||a.setFeedback({type:"success",messages:[]})})},this.query=function(n){return new di({pattern:n,base:"",form:r})},this.queryFeedbacks=function(n){return r.query(n.address||n.path||"*").reduce(function(a,i){return Y(i)?a:a.concat(i.queryFeedbacks(n).map(function(o){return $e($e({},o),{address:i.address.toString(),path:i.path.toString()})}).filter(function(o){return o.messages.length>0}))},[])},this.notify=function(n,a){r.heart.publish(n,a??r)},this.subscribe=function(n){return r.heart.subscribe(n)},this.unsubscribe=function(n){r.heart.unsubscribe(n)},this.onInit=function(){r.initialized=!0,r.notify(S.ON_FORM_INIT)},this.onMount=function(){r.mounted=!0,r.notify(S.ON_FORM_MOUNT),Ae[zr]&&!r.props.designable&&Ae[zr].inject(r.id,r)},this.onUnmount=function(){r.notify(S.ON_FORM_UNMOUNT),r.query("*").forEach(function(n){return n.destroy(!1)}),r.disposers.forEach(function(n){return n()}),r.unmounted=!0,r.indexes={},r.heart.clear(),Ae[zr]&&!r.props.designable&&Ae[zr].unmount(r.id)},this.setState=ln(this),this.getState=un(this),this.setFormState=ln(this),this.getFormState=un(this),this.setFieldState=cd(this),this.getFieldState=fd(this),this.getFormGraph=function(){return r.graph.getGraph()},this.setFormGraph=function(n){r.graph.setGraph(n)},this.clearFormGraph=function(n,a){n===void 0&&(n="*"),a===void 0&&(a=!0),r.query(n).forEach(function(i){i.destroy(a)})},this.validate=function(n){return n===void 0&&(n="*"),Fl(r,n)},this.submit=function(n){return Al(r,n)},this.reset=function(n,a){return n===void 0&&(n="*"),Nl(r,n,a)},this.initialize(t),this.makeObservable(),this.makeReactive(),this.makeValues(),this.onInit()}return e.prototype.initialize=function(t){this.id=af(),this.props=$e({},t),this.initialized=!1,this.submitting=!1,this.validating=!1,this.loading=!1,this.modified=!1,this.mounted=!1,this.unmounted=!1,this.display=this.props.display||"visible",this.pattern=this.props.pattern||"editable",this.editable=this.props.editable,this.disabled=this.props.disabled,this.readOnly=this.props.readOnly,this.readPretty=this.props.readPretty,this.visible=this.props.visible,this.hidden=this.props.hidden,this.graph=new Sf(this),this.heart=new gf({lifecycles:this.lifecycles,context:this})},e.prototype.makeValues=function(){this.values=to(this.props.values),this.initialValues=to(this.props.initialValues)},e.prototype.makeObservable=function(){qt(this,{fields:_.shallow,indexes:_.shallow,initialized:_.ref,validating:_.ref,submitting:_.ref,loading:_.ref,modified:_.ref,pattern:_.ref,display:_.ref,mounted:_.ref,unmounted:_.ref,values:_,initialValues:_,valid:_.computed,invalid:_.computed,errors:_.computed,warnings:_.computed,successes:_.computed,hidden:_.computed,visible:_.computed,editable:_.computed,readOnly:_.computed,readPretty:_.computed,disabled:_.computed,setValues:P,setValuesIn:P,setInitialValues:P,setInitialValuesIn:P,setPattern:P,setDisplay:P,setState:P,deleteInitialValuesIn:P,deleteValuesIn:P,setSubmitting:P,setValidating:P,reset:P,submit:P,validate:P,onMount:j,onUnmount:j,onInit:j})},e.prototype.makeReactive=function(){var t=this;this.disposers.push(Qs(this,function(r){dd(t,r),vd(t,r)},!0))},Object.defineProperty(e.prototype,"valid",{get:function(){return!this.invalid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.queryFeedbacks({type:"error"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"warnings",{get:function(){return this.queryFeedbacks({type:"warning"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"successes",{get:function(){return this.queryFeedbacks({type:"success"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lifecycles",{get:function(){return la(this,this.props.effects)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.display==="hidden"},set:function(t){R(t)&&(t?this.display="hidden":this.display="visible")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.display==="visible"},set:function(t){R(t)&&(t?this.display="visible":this.display="none")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){return this.pattern==="editable"},set:function(t){R(t)&&(t?this.pattern="editable":this.pattern="readPretty")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this.pattern==="readOnly"},set:function(t){R(t)&&(t?this.pattern="readOnly":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.pattern==="disabled"},set:function(t){R(t)&&(t?this.pattern="disabled":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readPretty",{get:function(){return this.pattern==="readPretty"},set:function(t){R(t)&&(t?this.pattern="readPretty":this.pattern="editable")},enumerable:!1,configurable:!0}),e}(),kp=function(e){return new Bl(e)};function z(e){return Dl(e,function(t){return function(r){j(function(){r(t)})}})}z(S.ON_FORM_INIT);z(S.ON_FORM_MOUNT);z(S.ON_FORM_UNMOUNT);z(S.ON_FORM_VALUES_CHANGE);z(S.ON_FORM_INITIAL_VALUES_CHANGE);z(S.ON_FORM_INPUT_CHANGE);z(S.ON_FORM_SUBMIT);z(S.ON_FORM_RESET);z(S.ON_FORM_SUBMIT_START);z(S.ON_FORM_SUBMIT_END);z(S.ON_FORM_SUBMIT_SUCCESS);z(S.ON_FORM_SUBMIT_FAILED);z(S.ON_FORM_SUBMIT_VALIDATE_START);z(S.ON_FORM_SUBMIT_VALIDATE_SUCCESS);z(S.ON_FORM_SUBMIT_VALIDATE_FAILED);z(S.ON_FORM_SUBMIT_VALIDATE_END);z(S.ON_FORM_VALIDATE_START);z(S.ON_FORM_VALIDATE_SUCCESS);z(S.ON_FORM_VALIDATE_FAILED);z(S.ON_FORM_VALIDATE_END);z(S.ON_FORM_GRAPH_CHANGE);z(S.ON_FORM_LOADING);function G(e){return Dl(e,function(t,r){return function(n,a){A.parse(n).matchAliasGroup(t.address,t.path)&&j(function(){a(t,r)})}})}var Pd=G(S.ON_FIELD_INIT),Id=G(S.ON_FIELD_MOUNT),Td=G(S.ON_FIELD_UNMOUNT),Cd=G(S.ON_FIELD_VALUE_CHANGE),Ad=G(S.ON_FIELD_INITIAL_VALUE_CHANGE),Fd=G(S.ON_FIELD_INPUT_VALUE_CHANGE),Nd=G(S.ON_FIELD_VALIDATE_START),Rd=G(S.ON_FIELD_VALIDATE_END);G(S.ON_FIELD_VALIDATING);var jd=G(S.ON_FIELD_VALIDATE_FAILED),Md=G(S.ON_FIELD_VALIDATE_SUCCESS);G(S.ON_FIELD_SUBMIT);G(S.ON_FIELD_SUBMIT_START);G(S.ON_FIELD_SUBMIT_END);G(S.ON_FIELD_SUBMIT_VALIDATE_START);G(S.ON_FIELD_SUBMIT_VALIDATE_END);G(S.ON_FIELD_SUBMIT_SUCCESS);G(S.ON_FIELD_SUBMIT_FAILED);G(S.ON_FIELD_SUBMIT_VALIDATE_SUCCESS);G(S.ON_FIELD_SUBMIT_VALIDATE_FAILED);G(S.ON_FIELD_RESET);G(S.ON_FIELD_LOADING);function Ul(e,t){var r=Od(),n=r.query(e).reduce(function(a,i){return t(i,r),a+1},0);n===0&&Pd(e,t)}function Dp(e,t){Ul(e,function(r,n){r.disposers.push(Ze(function(){I(t)&&t(r,n)}))})}var kd=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},ao={onFieldInit:Ul,onFieldMount:Id,onFieldUnmount:Td,onFieldValueChange:Cd,onFieldInputValueChange:Fd,onFieldInitialValueChange:Ad,onFieldValidateStart:Nd,onFieldValidateEnd:Rd,onFieldValidateFailed:jd,onFieldValidateSuccess:Md},Dd=["onFieldInit","onFieldValueChange"],ca=function(e,t,r){var n=kd(String(t).split(/\s*#\s*/),2),a=n[0],i=n[1];return e.query(a).getIn(i||r||"value")},Vd=function(e,t){if(N(t)){var r=[];return t.forEach(function(n){J(n)?r.push(ca(e,n)):we(n)&&n.name&&n.source&&(r[n.name]=ca(e,n.source,n.property))}),r}else if(we(t))return vl(t,function(n,a,i){return n[i]=ca(e,a),n},{});return[]},zl=function(e,t){t===void 0&&(t=!1);var r=e||{},n=r.request,a=r.target,i=r.runner,o=r.field,l=r.scope;n&&(a?(n.state&&o.form.setFieldState(a,function(s){return Yi(s,n.state,Ge(l,{$target:s}))}),n.schema&&o.form.setFieldState(a,function(s){return Ji(s,n.schema,Ge(l,{$target:s}),t)}),J(i)&&i&&o.form.setFieldState(a,function(s){gt("{{function(){".concat(i,"}}}"),Ge(l,{$target:s}))()})):(n.state&&o.setState(function(s){return Yi(s,n.state,l)}),n.schema&&o.setState(function(s){return Ji(s,n.schema,l,t)}),J(i)&&i&&gt("{{function(){".concat(i,"}}}"),l)()))},Gl=function(e,t){t===void 0&&(t={});var r=function(u,c){return Ze.memo(function(){return _(u)},c)},n=function(u){return e.setComponentProps(u)},a=Ze.effect,i=Ze.memo,o=e,l=e.form,s=e.form.values;return Ge(t.scope,{$form:l,$self:o,$observable:r,$effect:a,$memo:i,$props:n,$values:s})},Ld=function(e,t){return function(r){zl({field:r,request:{schema:e},scope:Gl(r,t)},!0)}},$d=function(e,t){var r=ce(e["x-reactions"]);return r.map(function(n){return function(a){var i=Gl(a,t),o=gt(n,i);if(o){if(I(o))return o(a,i);var l=o.when,s=o.fulfill,u=o.otherwise,c=o.target,f=o.effects,h=function(){var v=Vd(a,o.dependencies),p=v,b=Ge(i,{$target:null,$deps:v,$dependencies:p}),x=gt(l,b),g=l?x:!0,y=g?s:u,O=g?s==null?void 0:s.run:u==null?void 0:u.run;zl({field:a,target:c,request:y,runner:O,scope:b})};c&&(o.effects=f!=null&&f.length?f:Dd),o.effects?Ze.memo(function(){jn(function(){B(o.effects,function(v){ao[v]&&ao[v](a.address,h)})})},[]):h()}}})},Bd=function(e,t){return{name:e.name,reactions:[Ld(e,t)].concat($d(e,t))}},Ta=globalThis&&globalThis.__assign||function(){return Ta=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ta.apply(this,arguments)},Hl=[],lr={},Ud=function(e){return Hl.reduce(function(t,r){return r(t)},Ta({},e))},ql=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(r){I(r)&&Hl.push(r)})},Wl=function(e,t){e&&I(t)&&(lr[e]=lr[e]||[],lr[e].push(t))},zd=function(e){N(e)&&e.forEach(function(t){N(lr[t])&&lr[t].forEach(function(r){ql(r)})})},fn=globalThis&&globalThis.__assign||function(){return fn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},fn.apply(this,arguments)},Gd=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Hd=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Ca=["card","block","grid-col","grid-row","grid","layout","step","tab","text-box"],Aa={},fa=function(e){if(J(e))return e.replace(/\$value/,"$self.value")},qd=function(e){return N(e)?e.reduce(function(t,r){if(!r)return t;if(r.type==="value:visible")return t.concat({target:r.target,when:fa(r.condition),fulfill:{state:{visible:!0}},otherwise:{state:{visible:!1}}});if(r.type==="value:schema")return t.concat({target:r.target,when:fa(r.condition),fulfill:{schema:Fa(fn({version:"1.0"},r.schema))},otherwise:{schema:Fa(fn({version:"1.0"},r.otherwise))}});if(r.type==="value:state")return t.concat({target:r.target,when:fa(r.condition),fulfill:{state:r.state},otherwise:{state:r.otherwise}})},[]):[]},Fa=function(e){return R(e.editable)&&(e["x-editable"]=e["x-editable"]||e.editable,delete e.editable),R(e.visible)&&(e["x-visible"]=e["x-visible"]||e.visible,delete e.visible),R(e.display)&&(e["x-display"]=e["x-display"]||(e.display?"visible":"hidden"),delete e.display),R(e["x-props"])&&(e["x-decorator-props"]=e["x-decorator-props"]||e["x-props"],delete e.display),e["x-linkages"]&&(e["x-reactions"]=ce(e["x-reactions"]).concat(qd(e["x-linkages"])),delete e["x-linkages"]),e["x-component"]?Ca.some(function(t){return Kr(t)===Kr(e["x-component"])})&&(e.type="void"):Aa[e.type]&&(e["x-component"]=Aa[e.type]),!e["x-decorator"]&&e.type!=="void"&&e.type!=="object"&&(e["x-decorator"]=e["x-decorator"]||"FormItem"),e["x-rules"]&&(e["x-validator"]=[].concat(e["x-validator"]||[]).concat(e["x-rules"])),e};Wl("1.0",Fa);var Wd=function(e){Ca.push.apply(Ca,Hd([],Gd(e),!1))},Kd=function(e){Object.assign(Aa,e)},dr=function(){function e(t,r){var n=this;return this._isJSONSchemaObject=!0,this.version="2.0",this.addProperty=function(a,i){return n.properties=n.properties||{},n.properties[a]=new e(i,n),n.properties[a].name=a,n.properties[a]},this.removeProperty=function(a){var i=n.properties[a];return delete n.properties[a],i},this.setProperties=function(a){for(var i in a)n.addProperty(i,a[i]);return n},this.addPatternProperty=function(a,i){if(i)return n.patternProperties=n.patternProperties||{},n.patternProperties[a]=new e(i,n),n.patternProperties[a].name=a,n.patternProperties[a]},this.removePatternProperty=function(a){var i=n.patternProperties[a];return delete n.patternProperties[a],i},this.setPatternProperties=function(a){if(!a)return n;for(var i in a)n.addPatternProperty(i,a[i]);return n},this.setAdditionalProperties=function(a){if(a)return n.additionalProperties=new e(a),n.additionalProperties},this.setItems=function(a){if(a)return Array.isArray(a)?n.items=a.map(function(i){return new e(i,n)}):n.items=new e(a,n),n.items},this.setAdditionalItems=function(a){if(a)return n.additionalItems=new e(a,n),n.additionalItems},this.findDefinitions=function(a){if(!(!a||!n.root||!J(a))&&a.indexOf("#/")===0)return A.getIn(n.root,a.substring(2).split("/"))},this.mapProperties=function(a){return e.getOrderProperties(n).map(function(i,o){var l=i.schema,s=i.key;return a(l,s,o)})},this.mapPatternProperties=function(a){return e.getOrderProperties(n,"patternProperties").map(function(i,o){var l=i.schema,s=i.key;return a(l,s,o)})},this.reduceProperties=function(a,i){var o=i;return e.getOrderProperties(n,"properties").forEach(function(l,s){var u=l.schema,c=l.key;o=a(o,u,c,s)}),o},this.reducePatternProperties=function(a,i){var o=i;return e.getOrderProperties(n,"patternProperties").forEach(function(l,s){var u=l.schema,c=l.key;o=a(o,u,c,s)}),o},this.compile=function(a){var i=new e({},n.parent);return B(n,function(o,l){I(o)&&!l.includes("x-")||l==="parent"||l==="root"||(ml[l]?i[l]=o&&gt(o,a):i[l]=o&&nn(o,a))}),i},this.fromJSON=function(a){return a?e.isSchemaInstance(a)?a:(B(Ud(a),function(i,o){I(i)&&!o.includes("x-")||(o==="properties"?n.setProperties(i):o==="patternProperties"?n.setPatternProperties(i):o==="additionalProperties"?n.setAdditionalProperties(i):o==="items"?n.setItems(i):o==="additionalItems"?n.setAdditionalItems(i):o==="$ref"?n.fromJSON(n.findDefinitions(i)):n[o]=i)}),n):n},this.toJSON=function(a){a===void 0&&(a=!0);var i={};return B(n,function(o,l){var s,u;if(!(I(o)&&!l.includes("x-")||l==="parent"||l==="root"))if(l==="properties"||l==="patternProperties"){if(!a)return;i[l]=Vc(o,function(c){var f;return(f=c==null?void 0:c.toJSON)===null||f===void 0?void 0:f.call(c)})}else if(l==="additionalProperties"||l==="additionalItems"){if(!a)return;i[l]=(s=o==null?void 0:o.toJSON)===null||s===void 0?void 0:s.call(o)}else if(l==="items"){if(!a)return;Array.isArray(o)?i[l]=o.map(function(c){var f;return(f=c==null?void 0:c.toJSON)===null||f===void 0?void 0:f.call(c)}):i[l]=(u=o==null?void 0:o.toJSON)===null||u===void 0?void 0:u.call(o)}else i[l]=o}),i},this.toFieldProps=function(a){return Bd(n,a)},r?(this.parent=r,this.root=r.root):this.root=this,this.fromJSON(t)}return e.getOrderProperties=function(t,r){t===void 0&&(t={}),r===void 0&&(r="properties");var n=[],a=[];for(var i in t[r]){var o=t[r][i],l=o["x-index"];isNaN(l)?a.push({schema:o,key:i}):n[l]={schema:o,key:i}}return n.concat(a).filter(function(s){return!!s})},e.compile=function(t,r){return nn(t,r)},e.shallowCompile=function(t,r){return gt(t,r)},e.isSchemaInstance=function(t){return Ye(t,e)},e.registerCompiler=pf,e.registerPatches=ql,e.registerVoidComponents=Wd,e.registerTypeDefaultComponents=Kd,e.registerPolyfills=Wl,e.enablePolyfills=zd,e.silent=hf,e}(),Sr=function(e){return jc(function(){return e.onMount(),function(){return e.onUnmount()}},[e]),e},Xd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){var n=r.children;return e.reduce(function(a,i){return d.createElement(i.Provider,{value:void 0},a)},n)}},Kl=E.createContext(null),Yt=E.createContext(null),ir=E.createContext(null),hi=E.createContext(null),dn=E.createContext(null),pi=E.createContext(null),Xl=E.createContext(null),Yd=Xd(Yt,ir,hi,dn,pi,Xl),Jt=function(){return E.useContext(Kl)},$=function(){return E.useContext(Yt)},mi=function(){var e=$(),t=Jt(),r=function(n){return n?ui(n)?n:r(n==null?void 0:n.parent):t};return r(e)},ot=function(){return E.useContext(hi)},Yl=function(){return E.useContext(dn)},yt=globalThis&&globalThis.__assign||function(){return yt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yt.apply(this,arguments)};function te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return U(function(n){var a=$(),i=e.reduce(function(o,l){return I(l)?o=Object.assign(o,l(o,a)):B(l,function(s,u){var c=A.getIn(a,u),f=J(s)?s:u,h=A.getIn(o,f);u==="value"&&s!==u&&delete o.value,!(R(h)&&!R(c))&&A.setIn(o,f,c)}),o},yt({},n));return d.createElement(r,i)},{forwardRef:!0})}}function _e(e,t){return function(r){return U(function(n){var a=$();return!Y(a)&&(a==null?void 0:a.pattern)==="readPretty"?d.createElement(e,yt(yt({},t),n)):d.createElement(r,n)},{forwardRef:!0})}}function W(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t.reduce(function(i,o){return o(i)},e),a=d.forwardRef(function(i,o){return d.createElement(n,yt(yt({},i),{ref:o}))});return e&&xo(a,e),a}var Jl=function(e){var t=Sr(e.form);return d.createElement(Yd,null,d.createElement(Kl.Provider,{value:t},e.children))};Jl.displayName="FormProvider";var Jd=U(function(e){var t=I(e.children)?e.children(Jt()):null;return d.createElement(E.Fragment,null,t)});Jd.displayName="FormConsumer";var vn=globalThis&&globalThis.__assign||function(){return vn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vn.apply(this,arguments)},Tt=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Ct=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Qd=function(e,t){if(!(!e&&!t)&&!I(e))return d.createElement(E.Fragment,null,e,t)},Zd=function(e){return e&&(typeof e=="object"||typeof e=="function")},io=function(e,t,r){return I(e)?e(t,r):e},Ql=function(e){var t,r=E.useContext(pi);if(!e.field)return d.createElement(E.Fragment,null,io(e.children));var n=e.field,a=Qd(io(e.children,n,n.form),(t=n.content)!==null&&t!==void 0?t:n.componentProps.children);if(n.display!=="visible")return null;var i=function(s){var u;return Zd(s)?s:(u=A.getIn(r,s))!==null&&u!==void 0?u:s},o=function(s){return n.decoratorType?d.createElement(i(n.decoratorType),Be(n.decoratorProps),s):d.createElement(E.Fragment,null,s)},l=function(){var s,u,c;if(!n.componentType)return a;var f=Y(n)?void 0:n.value,h=Y(n)?(s=n.componentProps)===null||s===void 0?void 0:s.onChange:function(){for(var g,y,O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];n.onInput.apply(n,Ct([],Tt(O),!1)),(y=(g=n.componentProps)===null||g===void 0?void 0:g.onChange)===null||y===void 0||y.call.apply(y,Ct([g],Tt(O),!1))},v=Y(n)?(u=n.componentProps)===null||u===void 0?void 0:u.onFocus:function(){for(var g,y,O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];n.onFocus.apply(n,Ct([],Tt(O),!1)),(y=(g=n.componentProps)===null||g===void 0?void 0:g.onFocus)===null||y===void 0||y.call.apply(y,Ct([g],Tt(O),!1))},p=Y(n)?(c=n.componentProps)===null||c===void 0?void 0:c.onBlur:function(){for(var g,y,O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];n.onBlur.apply(n,Ct([],Tt(O),!1)),(y=(g=n.componentProps)===null||g===void 0?void 0:g.onBlur)===null||y===void 0||y.call.apply(y,Ct([g],Tt(O),!1))},b=Y(n)?void 0:n.pattern==="disabled"||n.pattern==="readPretty",x=Y(n)?void 0:n.pattern==="readOnly";return d.createElement(i(n.componentType),vn(vn({disabled:b,readOnly:x},Be(n.componentProps)),{value:f,onChange:h,onFocus:v,onBlur:p}),a)};return o(l())};Ql.displayName="ReactiveField";var Un=U(Ql,{forwardRef:!0}),Na=globalThis&&globalThis.__assign||function(){return Na=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Na.apply(this,arguments)},Zl=function(e){var t=Jt(),r=$(),n=Sr(t.createArrayField(Na({basePath:r==null?void 0:r.address},e)));return d.createElement(Yt.Provider,{value:n},d.createElement(Un,{field:n},e.children))};Zl.displayName="ArrayField";var Ra=globalThis&&globalThis.__assign||function(){return Ra=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ra.apply(this,arguments)},eu=function(e){var t=Jt(),r=$(),n=Sr(t.createObjectField(Ra({basePath:r==null?void 0:r.address},e)));return d.createElement(Yt.Provider,{value:n},d.createElement(Un,{field:n},e.children))};eu.displayName="ObjectField";var ja=globalThis&&globalThis.__assign||function(){return ja=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ja.apply(this,arguments)},tu=function(e){var t=Jt(),r=$(),n=Sr(t.createVoidField(ja({basePath:r==null?void 0:r.address},e)));return d.createElement(Yt.Provider,{value:n},d.createElement(Un,{field:n},e.children))};tu.displayName="VoidField";var Ma=globalThis&&globalThis.__assign||function(){return Ma=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ma.apply(this,arguments)},ru=function(e){var t=Jt(),r=$(),n=Sr(t.createField(Ma({basePath:r==null?void 0:r.address},e)));return d.createElement(Yt.Provider,{value:n},d.createElement(Un,{field:n},e.children))};ru.displayName="Field";var Rt=globalThis&&globalThis.__assign||function(){return Rt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Rt.apply(this,arguments)},ev=function(e){var t=Yl();return e.toFieldProps({scope:t})},tv=function(e){var t=$();return e.onlyRenderProperties?e.basePath||(t==null?void 0:t.address.concat(e.name)):e.basePath||(t==null?void 0:t.address)},ye=function(e){var t=tv(e),r=E.useMemo(function(){return new dr(e.schema)},[e.schema]),n=ev(r),a=function(o){if(!e.onlyRenderSelf){var l=dr.getOrderProperties(r);if(l.length)return d.createElement(E.Fragment,null,l.map(function(s,u){var c=s.schema,f=s.key,h=(o==null?void 0:o.address)||t,v=c;if(I(e.mapProperties)){var p=e.mapProperties(c,f);p&&(v=p)}return I(e.filterProperties)&&e.filterProperties(v,f)===!1?null:d.createElement(ye,{schema:v,key:"".concat(u,"-").concat(f),name:f,basePath:h})}))}},i=function(){return R(e.name)?r.type==="object"?e.onlyRenderProperties?a():d.createElement(eu,Rt({},n,{name:e.name,basePath:t}),a):r.type==="array"?d.createElement(Zl,Rt({},n,{name:e.name,basePath:t})):r.type==="void"?e.onlyRenderProperties?a():d.createElement(tu,Rt({},n,{name:e.name,basePath:t}),a):d.createElement(ru,Rt({},n,{name:e.name,basePath:t})):a()};return r?d.createElement(hi.Provider,{value:r},i()):d.createElement(E.Fragment,null)},gi=function(e){var t=E.useContext(dn);return d.createElement(dn.Provider,{value:Ge(t,e.value)},e.children)},rv=function(e){return d.createElement(gi,{value:{get $records(){var t,r;return(r=(t=e.getRecords)===null||t===void 0?void 0:t.call(e))!==null&&r!==void 0?r:[]}}},e.children)},nu=function(e){var t=Yl();return d.createElement(gi,{value:{get $lookup(){return t==null?void 0:t.$record},get $record(){var r,n=(r=e.getRecord)===null||r===void 0?void 0:r.call(e);return typeof n=="object"?Ge(n,{get $lookup(){return t==null?void 0:t.$record},get $index(){var a;return(a=e.getIndex)===null||a===void 0?void 0:a.call(e)}}):n},get $index(){var r;return(r=e.getIndex)===null||r===void 0?void 0:r.call(e)}}},e.children)},At={portalDOM:null,ReactDOM:null},nv=function(e){var t;return((t=Ae.navigator)===null||t===void 0?void 0:t.product)==="ReactNative"?null:Ae.document?(At.portalDOM=At.portalDOM||Ae.document.createElement("div"),At.ReactDOM=At.ReactDOM||Ae.ReactDOM||require("react-dom"),At.ReactDOM.createPortal(e,At.portalDOM)):d.createElement("template",{},e)},ge=globalThis&&globalThis.__assign||function(){return ge=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ge.apply(this,arguments)},au={nonameId:0},av=function(){return"NO_NAME_FIELD_$".concat(au.nonameId++)};function Vp(e){e===void 0&&(e={});function t(h){var v=dr.isSchemaInstance(h.schema)?h.schema:new dr(ge({type:"object"},h.schema)),p=function(){return au.nonameId=0,h.schema?null:nv(d.createElement(ir.Provider,{value:v},h.children))},b=function(){return d.createElement(ye,ge({},h,{schema:v}))};return d.createElement(Xl.Provider,{value:e},d.createElement(pi.Provider,{value:Ge(e.components,h.components)},d.createElement(gi,{value:Ge(e.scope,h.scope)},p(),b())))}t.displayName="SchemaField";function r(h){var v=E.useContext(ir);if(!v)return d.createElement(E.Fragment,null);var p=function(){return d.createElement(d.Fragment,null,h.children)},b=function(g){var y=v.items;return y&&y.name!==h.name?v.addProperty(h.name,g):v.setItems(g)};if(v.type==="object"||v.type==="void"){var x=v.addProperty(h.name,h);return d.createElement(ir.Provider,{value:x},p())}else if(v.type==="array"){var x=b(h);return d.createElement(ir.Provider,{value:Array.isArray(x)?x[0]:x},h.children)}else return p()}function n(h){return d.createElement(r,ge({},h,{name:h.name||av()}))}n.displayName="MarkupField";function a(h){return d.createElement(n,ge({},h,{type:"string"}))}a.displayName="StringField";function i(h){return d.createElement(n,ge({},h,{type:"object"}))}i.displayName="ObjectField";function o(h){return d.createElement(n,ge({},h,{type:"array"}))}o.displayName="ArrayField";function l(h){return d.createElement(n,ge({},h,{type:"boolean"}))}l.displayName="BooleanField";function s(h){return d.createElement(n,ge({},h,{type:"number"}))}s.displayName="NumberField";function u(h){return d.createElement(n,ge({},h,{type:"date"}))}u.displayName="DateField";function c(h){return d.createElement(n,ge({},h,{type:"datetime"}))}c.displayName="DateTimeField";function f(h){return d.createElement(n,ge({},h,{type:"void"}))}return f.displayName="VoidField",t.Markup=n,t.String=a,t.Object=i,t.Array=o,t.Boolean=l,t.Date=u,t.DateTime=c,t.Void=f,t.Number=s,t}function iu(e,t){if(!e)return e;if(Array.isArray(e))return e.map(function(n){var a=Xr(n,t);return a.isValid()?a:n});var r=Xr(e,t);return r.isValid()?r:e}var Qt=function(e,t,r){var n=function(i,o){if(typeof i=="number")return Xr(i).format(o);var l=Xr(i,o);return l.isValid()?l.format(o):i},a=function(i,o,l){if(l===void 0&&(l=0),!i)return r;if(N(o)){var s=o[l];return I(s)?s(i):qe(s)?i:n(i,s)}else return I(o)?o(i):qe(o)?i:n(i,o)};return N(e)?e.map(function(i,o){return a(i,t,o)}):e?a(e,t):e||r},iv="click";function ov(e,t){if(!e)return t;var r;return typeof e=="function"?r=e():"current"in e?r=e.current:r=e,r}var lv=function(e,t,r){r===void 0&&(r=iv);var n=E.useRef(e);n.current=e,E.useEffect(function(){var a=function(i){var o=Array.isArray(t)?t:[t];o.some(function(l){var s=ov(l);return!s||(s==null?void 0:s.contains(i.target))})||n.current(i)};return document.addEventListener(r,a),function(){document.removeEventListener(r,a)}},[t,r])},uv=va.ConfigContext,sv=function(){return E.useContext(uv)},L=function(e,t){var r;if("ConfigContext"in va){var n=E.useContext(va.ConfigContext).getPrefixCls;return n(e,t==null?void 0:t.prefixCls)}else{var a=(r=t==null?void 0:t.prefixCls)!==null&&r!==void 0?r:"ant-";return"".concat(a).concat(e??"")}},cv=Ju.useToken,ou=function(e){e===void 0&&(e={});var t={};for(var r in e)r.indexOf("data-")>-1&&(t[r]=e[r]);return t},Qe=globalThis&&globalThis.__assign||function(){return Qe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qe.apply(this,arguments)},lu=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};function uu(e){return function(t){var r=t.list,n=t.start,a=n===void 0?0:n,i=t.accessibility,o=t.onSortStart,l=t.onSortEnd,s=lu(t,["list","start","accessibility","onSortStart","onSortEnd"]),u=function(c){var f=c.active,h=c.over,v=f.id-1,p=(h==null?void 0:h.id)-1;l==null||l({oldIndex:v,newIndex:p})};return d.createElement(zu,{accessibility:i,onDragStart:o,onDragEnd:u},d.createElement(Gu,{items:r.map(function(c,f){return f+a+1})},d.createElement(e,Qe({},s),s.children)))}}var fv=function(){return E.useContext(su)},su=E.createContext({});function cu(e){return function(t){var r=t.index,n=r===void 0?0:r,a=t.lockAxis,i=lu(t,["index","lockAxis"]),o=Hu({id:n+1}),l=o.setNodeRef,s=o.transform;if(s)switch(a){case"x":s.y=0;break;case"y":s.x=0;break}var u=Qe(Qe({},i.style),{transform:qu.Transform.toString(s)});return d.createElement(su.Provider,{value:o},e(Qe(Qe({},i),{style:u,ref:l})))}}function dv(e){return function(t){var r=fv(),n=r.attributes,a=r.listeners;return d.createElement(e,Qe({},t,n,a))}}var vv=function(e,t){var r,n,a=e.fontFamily,i=e.fontSize,o='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]');return r={},r[o]=(n={fontFamily:a,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},n[o]={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},n),r},lt=function(e,t){return function(r){var n=cv(),a=n.theme,i=n.token,o=n.hashId,l=sv(),s=l.getPrefixCls,u=l.iconPrefixCls,c=s();return[Wu({theme:a,token:i,hashId:o,path:["formily-antd",e,r,u]},function(){var f=".".concat(r),h=rn(i,{componentCls:f,prefixCls:r,iconCls:".".concat(u),antCls:".".concat(c)}),v=t(h,{hashId:o,prefixCls:r,rootPrefixCls:c,iconPrefixCls:u});return[vv(i,r),v]}),o]}};const _t=lt("array-base",function(e){var t,r=e.componentCls,n=e.colorText,a=e.fontSizeLG,i=e.colorPrimaryText,o=e.colorTextDisabled;return t={},t[r]={"&-remove, &-copy":{transition:"all 0.25s ease-in-out",color:n,fontSize:a,":hover":{color:i},"&-disabled":{color:o,cursor:"not-allowed !important","&:hover":{color:o}}},"&-sort-handle":{cursor:"move",color:"#888 !important"},"&-addition":{transition:"all 0.25s ease-in-out"},"&-move-down, &-move-up":{transition:"all 0.25s ease-in-out",color:n,fontSize:a,marginInlineStart:6,":hover":{color:i},"&-disabled":{color:o,cursor:"not-allowed !important","&:hover":{color:o}}}},t});var Fe=globalThis&&globalThis.__assign||function(){return Fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Fe.apply(this,arguments)},hv=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},xt=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},fu=E.createContext(null),bi=E.createContext(null),du=function(e,t){return typeof e=="function"?e(t):e},ut=function(){return E.useContext(fu)},Ot=function(e){var t=E.useContext(bi);return(t?t.index:e)||0},vu=function(e){var t=E.useContext(bi);return du(t?t.record:e,t==null?void 0:t.index)},ka=function(e){if((e==null?void 0:e.type)==="array")return[];if((e==null?void 0:e.type)==="object")return{};if((e==null?void 0:e.type)==="void")for(var t in e.properties){var r=ka(e.properties[t]);if(R(r))return r}},pv=function(e,t){return R(e)?ze(e):Array.isArray(t==null?void 0:t.items)?ka(t==null?void 0:t.items[0]):ka(t==null?void 0:t.items)},mv=function(e){var t=$(),r=ot();return d.createElement(rv,{getRecords:function(){return t.value}},d.createElement(fu.Provider,{value:{field:t,schema:r,props:e}},e.children))},gv=function(e){var t=e.children,r=hv(e,["children"]);return d.createElement(bi.Provider,{value:r},d.createElement(nu,{getIndex:function(){return r.index},getRecord:function(){return du(r.record,r.index)}},t))},bv=dv(function(e){var t=L("formily-array-base"),r=xt(_t(t),2),n=r[0],a=r[1];return n(d.createElement(ds,Fe({},e,{className:C("".concat(t,"-sort-handle"),a,e.className),style:Fe({},e.style)})))}),hu=function(e){var t,r=ut();return!r||((t=r.field)===null||t===void 0?void 0:t.pattern)!=="editable"?null:d.createElement(bv,Fe({},e))},pu=function(e){var t=Ot(),r=L("formily-array-base"),n=xt(_t(r),2),a=n[0],i=n[1];return a(d.createElement("span",Fe({},e,{className:C("".concat(r,"-index"),i)}),"#",(t||0)+1,"."))},mu=function(e){var t,r,n=$(),a=ut(),i=L("formily-array-base"),o=xt(_t(i),2),l=o[0],s=o[1];return!a||((t=a.field)===null||t===void 0?void 0:t.pattern)!=="editable"&&((r=a.field)===null||r===void 0?void 0:r.pattern)!=="disabled"?null:l(d.createElement(In,Fe({type:"dashed",block:!0},e,{disabled:n==null?void 0:n.disabled,className:C("".concat(i,"-addition"),s,e.className),onClick:function(u){var c,f,h,v,p,b,x,g,y,O,w;if(!(!((c=a.props)===null||c===void 0)&&c.disabled)){var T=pv(e.defaultValue,a.schema);e.method==="unshift"?((h=(f=a.field)===null||f===void 0?void 0:f.unshift)===null||h===void 0||h.call(f,T),(p=(v=a.props)===null||v===void 0?void 0:v.onAdd)===null||p===void 0||p.call(v,0)):((x=(b=a.field)===null||b===void 0?void 0:b.push)===null||x===void 0||x.call(b,T),(y=(g=a.props)===null||g===void 0?void 0:g.onAdd)===null||y===void 0||y.call(g,((w=(O=a==null?void 0:a.field)===null||O===void 0?void 0:O.value)===null||w===void 0?void 0:w.length)-1)),e.onClick&&e.onClick(u)}},icon:d.createElement(fs,null)}),e.title||n.title))},gu=E.forwardRef(function(e,t){var r,n=$(),a=ut(),i=Ot(e.index)||0,o=L("formily-array-base"),l=xt(_t(o),2),s=l[0],u=l[1];return!a||((r=a.field)===null||r===void 0?void 0:r.pattern)!=="editable"?null:s(d.createElement(ls,Fe({},e,{className:C("".concat(o,"-copy"),u,n!=null&&n.disabled?"".concat(o,"-copy-disabled"):"",e.className),ref:t,onClick:function(c){var f,h,v,p,b,x;if(!(n!=null&&n.disabled)&&(c.stopPropagation(),!(!((f=a.props)===null||f===void 0)&&f.disabled))){var g=ze((h=a==null?void 0:a.field)===null||h===void 0?void 0:h.value[i]),y=i+1;(p=(v=a.field)===null||v===void 0?void 0:v.insert)===null||p===void 0||p.call(v,y,g),(x=(b=a.props)===null||b===void 0?void 0:b.onCopy)===null||x===void 0||x.call(b,y),e.onClick&&e.onClick(c)}}})))}),bu=E.forwardRef(function(e,t){var r,n=Ot(e.index)||0,a=$(),i=ut(),o=L("formily-array-base"),l=xt(_t(o),2),s=l[0],u=l[1];return!i||((r=i.field)===null||r===void 0?void 0:r.pattern)!=="editable"?null:s(d.createElement(us,Fe({},e,{className:C("".concat(o,"-remove"),u,a!=null&&a.disabled?"".concat(o,"-remove-disabled"):"",e.className),ref:t,onClick:function(c){var f,h,v,p;a!=null&&a.disabled||(c.stopPropagation(),(h=(f=i.field)===null||f===void 0?void 0:f.remove)===null||h===void 0||h.call(f,n),(p=(v=i.props)===null||v===void 0?void 0:v.onRemove)===null||p===void 0||p.call(v,n),e.onClick&&e.onClick(c))}})))}),yu=E.forwardRef(function(e,t){var r,n=Ot(e.index)||0,a=$(),i=ut(),o=L("formily-array-base"),l=xt(_t(o),2),s=l[0],u=l[1];return!i||((r=i.field)===null||r===void 0?void 0:r.pattern)!=="editable"?null:s(d.createElement(ss,Fe({},e,{className:C("".concat(o,"-move-down"),u,a!=null&&a.disabled?"".concat(o,"-move-down-disabled"):"",e.className),ref:t,onClick:function(c){var f,h,v,p;a!=null&&a.disabled||(c.stopPropagation(),(h=(f=i.field)===null||f===void 0?void 0:f.moveDown)===null||h===void 0||h.call(f,n),(p=(v=i.props)===null||v===void 0?void 0:v.onMoveDown)===null||p===void 0||p.call(v,n),e.onClick&&e.onClick(c))}})))}),_u=E.forwardRef(function(e,t){var r,n=Ot(e.index),a=$(),i=ut(),o=L("formily-array-base"),l=xt(_t(o),2),s=l[0],u=l[1];return!i||((r=i.field)===null||r===void 0?void 0:r.pattern)!=="editable"?null:s(d.createElement(cs,Fe({},e,{className:C("".concat(o,"-move-up"),u,a!=null&&a.disabled?"".concat(o,"-move-up-disabled"):"",e.className),ref:t,onClick:function(c){var f,h,v;a!=null&&a.disabled||(c.stopPropagation(),(f=i==null?void 0:i.field)===null||f===void 0||f.moveUp(n),(v=(h=i==null?void 0:i.props)===null||h===void 0?void 0:h.onMoveUp)===null||v===void 0||v.call(h,n),e.onClick&&e.onClick(c))}})))});function yv(e){return Object.assign(e,{Index:pu,SortHandle:hu,Addition:mu,Copy:gu,Remove:bu,MoveDown:yu,MoveUp:_u,useArray:ut,useIndex:Ot,useRecord:vu})}var Ne=Object.assign(mv,{Item:gv,Index:pu,SortHandle:hu,Addition:mu,Copy:gu,Remove:bu,MoveDown:yu,MoveUp:_u,useArray:ut,useIndex:Ot,useRecord:vu,mixin:yv});const _v=lt("array-cards",function(e){var t,r,n=e.componentCls,a=e.antCls,i="".concat(a,"-formily-array-base");return t={},t[n]=(r={"&-item":{marginBottom:"10px !important"}},r["".concat(i,"-copy")]={marginInlineStart:6},r),t});var hn=globalThis&&globalThis.__assign||function(){return hn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},hn.apply(this,arguments)},xv=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},xu=function(e){var t;return((t=e["x-component"])===null||t===void 0?void 0:t.indexOf("Addition"))>-1},oo=function(e){var t,r;return((r=(t=e["x-component"])===null||t===void 0?void 0:t.indexOf)===null||r===void 0?void 0:r.call(t,"Index"))>-1},Ov=function(e){var t,r;return((r=(t=e["x-component"])===null||t===void 0?void 0:t.indexOf)===null||r===void 0?void 0:r.call(t,"Remove"))>-1},Sv=function(e){var t,r;return((r=(t=e["x-component"])===null||t===void 0?void 0:t.indexOf)===null||r===void 0?void 0:r.call(t,"Copy"))>-1},Ev=function(e){var t,r;return((r=(t=e["x-component"])===null||t===void 0?void 0:t.indexOf)===null||r===void 0?void 0:r.call(t,"MoveUp"))>-1},wv=function(e){var t,r;return((r=(t=e["x-component"])===null||t===void 0?void 0:t.indexOf)===null||r===void 0?void 0:r.call(t,"MoveDown"))>-1},lo=function(e){return xu(e)||Ov(e)||Sv(e)||wv(e)||Ev(e)},Pv=U(function(e){var t=$(),r=ot(),n=Array.isArray(t.value)?t.value:[],a=L("formily-array-cards",e),i=xv(_v(a),2),o=i[0],l=i[1];if(!r)throw new Error("can not found schema object");var s=function(){return n==null?void 0:n.map(function(f,h){var v=Array.isArray(r.items)?r.items[h]||r.items[0]:r.items,p=d.createElement("span",null,v?d.createElement(ye,{schema:v,name:h,filterProperties:function(g){return!!oo(g)},onlyRenderProperties:!0}):null,e.title||t.title),b=d.createElement("span",null,v?d.createElement(ye,{schema:v,name:h,filterProperties:function(g){return!!lo(g)},onlyRenderProperties:!0}):null,e.extra),x=v?d.createElement(ye,{schema:v,name:h,filterProperties:function(g){return!(oo(g)||lo(g))}}):null;return d.createElement(Ne.Item,{key:h,index:h,record:function(){var g;return(g=t.value)===null||g===void 0?void 0:g[h]}},d.createElement(Ei,hn({},e,{onChange:function(){},className:C("".concat(a,"-item"),l,e.className),title:p,extra:b}),x))})},u=function(){return r.reduceProperties(function(f,h,v){return xu(h)?d.createElement(ye,{schema:h,name:v}):f},null)},c=function(){if(!(n!=null&&n.length))return d.createElement(Ei,hn({},e,{onChange:function(){},className:C("".concat(a,"-item"),l,e.className),title:e.title||t.title}),d.createElement(Qu,null))};return o(d.createElement(Ne,null,c(),s(),u()))}),Iv=Ne.mixin(Pv);Iv.displayName="ArrayCards";const zn=lt("array-items",function(e){var t,r,n,a,i,o,l=e.componentCls,s=e.antCls,u=e.colorBgBase,c=e.fontSizeSM,f=e.colorBorder,h=e.colorText,v="".concat(s,"-formily-item");return t={},t[l]=(r={},r["".concat(l,"-item-inner")]={visibility:"visible"},r["&-item"]={zIndex:1e5},r["&-card"]=(n={display:"flex",border:"1px solid ".concat(f),marginBottom:10,padding:"3px 6px",background:u,justifyContent:"space-between",color:h},n["".concat(v,":not(").concat(v,"-feedback-layout-popover)")]=(a={marginBottom:"0 !important"},a["".concat(v,"-help")]={position:"absolute",fontSize:c,top:"100%",background:u,width:"100%",marginTop:3,padding:3,zIndex:1,borderRadius:3,boxShadow:"0 0 10px ".concat(f)},a),n),r["&-divide"]=(i={display:"flex",borderBottom:"1px solid ".concat(f),padding:"10px 0",justifyContent:"space-between"},i["".concat(v,":not(").concat(v,"-feedback-layout-popover)")]=(o={marginBottom:"0 !important"},o["".concat(v,"-help")]={position:"absolute",fontSize:c,top:"100%",background:u,width:"100%",marginTop:3,padding:3,zIndex:1,borderRadius:3,boxShadow:"0 0 10px ".concat(f)},o),i),r),t});var zt=globalThis&&globalThis.__assign||function(){return zt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},zt.apply(this,arguments)},Gn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Tv=cu(function(e){var t=L("formily-array-items"),r=Gn(zn(t),2),n=r[0],a=r[1];return n(d.createElement("div",zt({},e,{className:C("".concat(t,"-item"),a,e.className)}),e.children))}),Cv=uu(function(e){var t=L("formily-array-items"),r=Gn(zn(t),2),n=r[0],a=r[1];return n(d.createElement("div",zt({},e,{className:C("".concat(t,"-list"),a,e.className)}),e.children))}),Av=function(e){var t;return((t=e["x-component"])===null||t===void 0?void 0:t.indexOf("Addition"))>-1},Fv=function(){var e=ot();return e.reduceProperties(function(t,r,n){return Av(r)?d.createElement(ye,{schema:r,name:n}):t},null)},Nv=U(function(e){var t=$(),r=L("formily-array-items"),n=Gn(zn(r),2),a=n[0],i=n[1],o=ot(),l=Fv(),s=Array.isArray(t.value)?t.value:[];if(!o)throw new Error("can not found schema object");return a(d.createElement(Ne,null,d.createElement("div",zt({},e,{onChange:function(){},className:C(r,i,e.className)}),d.createElement(Cv,{list:s.slice(),className:"".concat(r,"-sort-helper"),onSortEnd:function(u){var c=u.oldIndex,f=u.newIndex;t.move(c,f)}},s==null?void 0:s.map(function(u,c){var f=Array.isArray(o.items)?o.items[c]||o.items[0]:o.items;return d.createElement(Ne.Item,{key:c,index:c,record:function(){var h;return(h=t.value)===null||h===void 0?void 0:h[c]}},d.createElement(Tv,{key:"item-".concat(c),lockAxis:"y",index:c},d.createElement("div",{className:"".concat(r,"-item-inner")},f?d.createElement(ye,{schema:f,name:c}):null)))})),l)))}),Rv=function(e){var t=L("formily-array-items"),r=Gn(zn(t),2),n=r[0],a=r[1];return n(d.createElement("div",zt({},e,{onChange:function(){},className:C("".concat(t,"-").concat(e.type||"card"),a,e.className)}),e.children))},jv=Object.assign(Ne.mixin(Nv),{Item:Rv});jv.displayName="ArrayItems";const yi=lt("array-table",function(e){var t,r,n,a,i,o,l=e.componentCls,s=e.antCls,u=e.colorErrorBorder,c=e.fontSizeSM,f=e.colorBgBase,h=e.colorBorder,v="".concat(s,"-formily-item");return t={},t[l]=(r={},r["".concat(l,"-pagination")]=(n={display:"flex",justifyContent:"center"},n["".concat(l,"-status-select.has-error")]=(a={},a["".concat(s,"-select-selector")]={borderColor:"".concat(u," !important")},a),n),r["".concat(s,"-table")]={td:(i={visibility:"visible"},i["".concat(v,":not(").concat(v,"-feedback-layout-popover)")]=(o={marginBottom:"0 !important"},o["".concat(v,"-help")]={position:"absolute",fontSize:c,top:"100%",background:f,width:"100%",marginTop:3,padding:3,zIndex:1,borderRadius:3,boxShadow:"0 0 10px ".concat(h),animation:"none",transform:"translateY(0)",opacity:1},o),i)},r["".concat(l,"-sort-helper")]={background:"#fff",border:"1px solid #eee",zIndex:10},r),t});var Ee=globalThis&&globalThis.__assign||function(){return Ee=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ee.apply(this,arguments)},pn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Mv=cu(function(e){return d.createElement("tr",Ee({},e))}),kv=uu(function(e){return d.createElement("tbody",Ee({},e))}),_i=function(e){var t;return((t=e["x-component"])===null||t===void 0?void 0:t.indexOf("Column"))>-1},Dv=function(e){var t;return((t=e["x-component"])===null||t===void 0?void 0:t.indexOf("Operations"))>-1},Ou=function(e){var t;return((t=e["x-component"])===null||t===void 0?void 0:t.indexOf("Addition"))>-1},Vv=function(){var e=$(),t=ot(),r=function(a){var i,o,l;if(_i(a)||Dv(a)||Ou(a)){if(!(!((i=a["x-component-props"])===null||i===void 0)&&i.dataIndex)&&!a.name)return[];var s=((o=a["x-component-props"])===null||o===void 0?void 0:o.dataIndex)||a.name,u=e.query(e.address.concat(s)).take(),c=((l=u==null?void 0:u.component)===null||l===void 0?void 0:l[1])||a["x-component-props"]||{},f=(u==null?void 0:u.display)||a["x-display"];return[{name:s,display:f,field:u,schema:a,columnProps:c}]}else if(a.properties)return a.reduceProperties(function(h,v){return h.concat(r(v))},[]);return[]},n=function(a){if(!a)return[];var i=[],o=N(a)?a:[a];return o.reduce(function(l,s){var u=r(s);return u?l.concat(u):l},i)};if(!t)throw new Error("can not found schema object");return n(t.items)},Lv=function(e,t,r){return r.reduce(function(n,a,i){var o=a.name,l=a.columnProps,s=a.schema,u=a.display;return u!=="visible"||!_i(s)?n:n.concat(Ee(Ee({},l),{key:i,dataIndex:o,render:function(c,f){var h=e.indexOf(f),v=d.createElement(Ne.Item,{index:h,record:function(){var p;return(p=t==null?void 0:t.value)===null||p===void 0?void 0:p[h]}},d.createElement(ye,{schema:s,name:h,onlyRenderProperties:!0}));return v}}))},[])},$v=function(){var e=ot();return e.reduceProperties(function(t,r,n){return Ou(r)?d.createElement(ye,{schema:r,name:n}):t},null)},uo={request:null},Bv=U(function(e){var t,r=$(),n=L("formily-array-table"),a=pn(yi(n),2),i=a[0],o=a[1],l=r.errors,s=function(f){var h;return Number((h=f==null?void 0:f.slice(f.indexOf(r.address.toString())).match(/(\d+)/))===null||h===void 0?void 0:h[1])},u=(t=e.options)===null||t===void 0?void 0:t.map(function(f){var h=f.label,v=f.value,p=Number(v),b=l.some(function(x){var g,y=x.address,O=s(y),w=e.pageSize?(p-1)*e.pageSize:0,T=e.pageSize?p*e.pageSize:((g=e.options)===null||g===void 0?void 0:g.length)||0;return O>=w&&O<=T});return{label:b?d.createElement(Ga,{dot:!0},h):h,value:v}}),c=String(u==null?void 0:u.length).length*15;return i(d.createElement(Oo,{value:e.value,onChange:e.onChange,options:u,virtual:!0,style:{width:c<60?60:c},className:C("".concat(n,"-status-select"),o,{"has-error":l==null?void 0:l.length})}))},{scheduler:function(e){clearTimeout(uo.request),uo.request=setTimeout(function(){e()},100)}}),Su=E.createContext({}),Uv=function(){return E.useContext(Su)},zv=function(e){var t,r=pn(E.useState(1),2),n=r[0],a=r[1],i=L("formily-array-table"),o=pn(yi(i),2),l=o[0],s=o[1],u=e.pageSize||10,c=e.size||"default",f=e.dataSource||[],h=(n-1)*u,v=h+u-1,p=(f==null?void 0:f.length)||0,b=Math.ceil(p/u),x=Array.from(new Array(b)).map(function(O,w){var T=w+1;return{label:T,value:T}}),g=function(O){a(O)};E.useEffect(function(){b>0&&b<n&&g(b)},[b,n]);var y=function(){if(!(b<=1))return d.createElement("div",{className:C("".concat(i,"-pagination"),s)},d.createElement(Tn,null,d.createElement(Bv,{value:n,pageSize:u,onChange:g,options:x,notFoundContent:!1}),d.createElement(es,Ee({},e,{pageSize:u,current:n,total:f.length,size:c,showSizeChanger:!1,onChange:g}))))};return l(d.createElement(E.Fragment,null,d.createElement(Su.Provider,{value:{totalPage:b,pageSize:u,changePage:g}},(t=e.children)===null||t===void 0?void 0:t.call(e,f==null?void 0:f.slice(h,v+1),y(),{startIndex:h}))))},Gv=function(e){var t=L("formily-array-table"),r=e["data-row-key"]||0;return d.createElement(Mv,Ee({lockAxis:"y"},e,{index:r,className:C(e.className,"".concat(t,"-row-").concat(r+1))}))},Hv=U(function(e){var t=E.useRef(null),r=$(),n=L("formily-array-table"),a=pn(yi(n),2),i=a[0],o=a[1],l=Array.isArray(r.value)?r.value.slice():[],s=Vv(),u=Lv(l,r,s),c=ii(e.pagination)?{}:e.pagination,f=$v(),h=function(b){return l.indexOf(b)},v=function(b){var x,g,y=(x=t.current)===null||x===void 0?void 0:x.querySelector(".".concat(n,"-row-").concat(b)),O=(g=t.current)===null||g===void 0?void 0:g.querySelector(".".concat(n,"-sort-helper"));if(O){var w=y==null?void 0:y.querySelectorAll("td");w&&requestAnimationFrame(function(){O.querySelectorAll("td").forEach(function(T,V){w[V]&&(T.style.width=getComputedStyle(w[V]).width)})})}},p=E.useCallback(function(b,x){return function(g){return d.createElement(kv,Ee({},g,{accessibility:{container:t.current||void 0},start:x,list:b,onSortStart:function(y){v(y.active.id)},onSortEnd:function(y){var O=y.oldIndex,w=y.newIndex;r.move(O,w)},className:C("".concat(n,"-sort-helper"),g.className)}),g.children)}},[r]);return i(d.createElement(zv,Ee({},c,{dataSource:l}),function(b,x,g){var y=g.startIndex;return d.createElement("div",{ref:t,className:C(n,o)},d.createElement(Ne,null,d.createElement(Zu,Ee({size:"small",bordered:!0,rowKey:h},e,{onChange:function(){},pagination:!1,columns:u,dataSource:b,components:{body:{wrapper:p(b,y),row:Gv}}})),d.createElement("div",{style:{marginTop:5,marginBottom:5}},x),s.map(function(O,w){if(_i(O.schema))return d.createElement(ye,{name:O.name,schema:O.schema,onlyRenderSelf:!0,key:w})}),f))}))}),qv=function(){return d.createElement(E.Fragment,null)},Wv=function(e){var t=Ne.useArray(),r=Uv(),n=r.totalPage,a=n===void 0?0:n,i=r.pageSize,o=i===void 0?10:i,l=r.changePage;return d.createElement(Ne.Addition,Ee({},e,{onClick:function(s){var u,c,f=((u=t==null?void 0:t.field)===null||u===void 0?void 0:u.value.length)||0;f===a*o+1&&I(l)&&l(a+1),(c=e.onClick)===null||c===void 0||c.call(e,s)}}))},Kv=Object.assign(Ne.mixin(Hv),{Column:qv,Addition:Wv});Kv.displayName="ArrayTable";const Er=lt("preview-text",function(e){var t,r,n=e.componentCls,a=e.antCls,i=e.fontSize,o=e.fontWeightStrong;return[(t={},t[n]=(r={fontSize:i,fontWeight:o},r["".concat(a,"-tag:last-child")]={marginInlineEnd:0},r),t)]});var wr=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Eu=E.createContext("N/A"),Xv=Eu.Provider,Re=function(e){var t=E.useContext(Eu)||"N/A";return R(e)&&e!==""?e:t},Yv=U(function(e){var t=L("form-text",e),r=wr(Er(t),2),n=r[0],a=r[1];return n(d.createElement(Tn,{className:C(t,a,e.className),style:e.style},e.addonBefore,e.prefix,Re(e.value),e.suffix,e.addonAfter))}),Jv=U(function(e){var t=L("form-text",e),r=wr(Er(t),2),n=r[0],a=r[1];return n(d.createElement(Tn,{className:C(t,a,e.className),style:e.style},e.addonBefore,e.prefix,Re(e.formatter?e.formatter(String(e.value),{userTyping:!1,input:""}):e.value),e.suffix,e.addonAfter))}),Qv=U(function(e){var t,r,n=$(),a=L("form-text",e),i=wr(Er(a),2),o=i[0],l=i[1],s=!((t=n==null?void 0:n.dataSource)===null||t===void 0)&&t.length?n.dataSource:!((r=e==null?void 0:e.options)===null||r===void 0)&&r.length?e.options:[],u=Re(),c=function(){var v=e.value;return e.mode==="multiple"||e.mode==="tags"?e.labelInValue?N(v)?v:[]:N(v)?v.map(function(p){return{label:p,value:p}}):[]:e.labelInValue?R(v)?[v]:[]:R(v)?[{label:v,value:v}]:[]},f=function(v){var p,b,x=((p=e.fieldNames)===null||p===void 0?void 0:p.label)||"label";return((b=s==null?void 0:s.find(function(g){var y,O=((y=e.fieldNames)===null||y===void 0?void 0:y.value)||"value";return g[O]==(v==null?void 0:v.value)}))===null||b===void 0?void 0:b[x])||v.label||u},h=function(){var v=c();return v.length?v.length===1?f(v[0]):v.map(function(p,b){return d.createElement(ha,{key:b},f(p))}):u};return o(d.createElement("div",{className:C(a,l,e.className),style:e.style},h()))}),Zv=U(function(e){var t,r,n=$(),a=Re(),i=L("form-text",e),o=wr(Er(i),2),l=o[0],s=o[1],u=!((t=n==null?void 0:n.dataSource)===null||t===void 0)&&t.length?n.dataSource:!((r=e==null?void 0:e.treeData)===null||r===void 0)&&r.length?e.treeData:[],c=function(){var v=e.value;return e.multiple?e.labelInValue?N(v)?v:[]:N(v)?v.map(function(p){return{label:p,value:p}}):[]:e.labelInValue?v?[v]:[]:v?[{label:v,value:v}]:[]},f=function(v,p,b){for(var x,g=0;g<(p==null?void 0:p.length);g++){var y=p[g];if((y==null?void 0:y.value)===v)return(x=y==null?void 0:y.label)!==null&&x!==void 0?x:y[b];var O=f(v,y==null?void 0:y.children,b);if(O)return O}},h=function(){var v=c();return v!=null&&v.length?v.map(function(p,b){var x=p.value,g=p.label;return d.createElement(ha,{key:b},f(x,u,e.treeNodeLabelProp)||g||a)}):d.createElement(ha,null,a)};return l(d.createElement("div",{className:C(i,s,e.className),style:e.style},h()))}),eh=U(function(e){var t,r,n=$(),a=Re(),i=L("form-text",e),o=wr(Er(i),2),l=o[0],s=o[1],u=!((t=n==null?void 0:n.dataSource)===null||t===void 0)&&t.length?n.dataSource:!((r=e==null?void 0:e.options)===null||r===void 0)&&r.length?e.options:[],c=function(p,b){return p.find(function(x){return x.value==b})},f=function(p,b){return b.map(function(x){var g=[],y=p;return x.forEach(function(O){var w,T,V=c(y,O);g.push({label:(w=V==null?void 0:V.label)!==null&&w!==void 0?w:"",value:V==null?void 0:V.value}),y=(T=V==null?void 0:V.children)!==null&&T!==void 0?T:[]}),g})},h=function(){var p=ce(e.value);return e.multiple?p:[p]},v=function(){var p=h(),b=f(u,p),x=b.map(function(g){return g.map(function(y){return y.label}).join("/")}).join(" ");return x||a};return l(d.createElement("div",{className:C(i,s,e.className),style:e.style},v()))}),th=function(e){var t=Re(),r=L("form-text",e),n=function(){var a=Qt(e.value,e.format,t);return N(a)?a.join("~"):a};return d.createElement("div",{className:C(r,e.className)},n())},rh=function(e){var t=Re(),r=L("form-text",e),n=function(){var a=Qt(e.value,e.format,t);return N(a)?a.join("~"):a};return d.createElement("div",{className:C(r,e.className),style:e.style},n())},nh=function(e){var t=Re(),r=L("form-text",e),n=function(){var a=Qt(e.value,e.format,t);return N(a)?a.join("~"):a};return d.createElement("div",{className:C(r,e.className),style:e.style},n())},ah=function(e){var t=Re(),r=L("form-text",e),n=function(){var a=Qt(e.value,e.format,t);return N(a)?a.join("~"):a};return d.createElement("div",{className:C(r,e.className),style:e.style},n())},ih=U(function(e){var t=L("form-text",e);return d.createElement("div",{className:C(t,e.className),style:e.style},Re(e.value))}),he=Object.assign(ih,{Input:Yv,Select:Qv,TreeSelect:Zv,Cascader:eh,DatePicker:th,DateRangePicker:rh,TimePicker:nh,TimeRangePicker:ah,Placeholder:Xv,usePlaceholder:Re,NumberPicker:Jv}),mn=globalThis&&globalThis.__assign||function(){return mn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},mn.apply(this,arguments)},Lp=W(ts,te({dataSource:"options"},function(e,t){return mn(mn({},e),{suffixIcon:t!=null&&t.loading||t!=null&&t.validating?d.createElement(Cn,null):e.suffixIcon})}),_e(he.Cascader)),oh=W(So,te({value:"checked",onInput:"onChange"})),lh=W(So.Group,te({dataSource:"options"}),_e(he.Select,{mode:"tags"})),$p=Object.assign(oh,{__ANT_CHECKBOX:!0,Group:lh}),gn=globalThis&&globalThis.__assign||function(){return gn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gn.apply(this,arguments)},wu=function(){var e=function(t){return t.picker==="month"?"YYYY-MM":t.picker==="quarter"?"YYYY-\\QQ":t.picker==="year"?"YYYY":t.picker==="week"?"gggg-wo":t.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"};return function(t){var r=t.format||e(t),n=t.onChange;return gn(gn({},t),{format:r,value:iu(t.value,r==="gggg-wo"?"gggg-ww":r),onChange:function(a){n&&n(Qt(a,r))}})}},uh=W(Eo,te(wu()),_e(he.DatePicker)),sh=W(Eo.RangePicker,te(wu()),_e(he.DateRangePicker)),Bp=Object.assign(uh,{RangePicker:sh}),Da=globalThis&&globalThis.__assign||function(){return Da=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Da.apply(this,arguments)},ch=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},fh=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},dh=function(e,t){if(e){for(var r=0;r<e.length;r++)if(t<=e[r])return r}},vh=function(e,t){var r;return Array.isArray(e)?t===-1?e[0]:(r=e[t||e.length-1])!==null&&r!==void 0?r:e[e.length-1]:e},nr=function(e,t){return R(e)?vh(e,t):e},hh=function(e,t){var r=e.clientWidth,n=t.breakpoints,a=t.layout,i=t.labelAlign,o=t.wrapperAlign,l=t.labelCol,s=t.wrapperCol,u=ch(t,["breakpoints","layout","labelAlign","wrapperAlign","labelCol","wrapperCol"]),c=dh(n,r);return Da({layout:nr(a,c),labelAlign:nr(i,c),wrapperAlign:nr(o,c),labelCol:nr(l,c),wrapperCol:nr(s,c)},u)},ph=function(e){var t=E.useRef(null),r=e.breakpoints;if(!N(r))return{ref:t,props:e};var n=fh(E.useState(e),2),a=n[0],i=n[1],o=function(){t.current&&i(hh(t.current,e))};return E.useEffect(function(){var l=function(){o()},s=new ResizeObserver(l);return t.current&&s.observe(t.current),o(),function(){s.disconnect()}},[]),{ref:t,props:a}},vr=globalThis&&globalThis.__assign||function(){return vr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vr.apply(this,arguments)},mh=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Pu=E.createContext({}),xi=E.createContext({}),Oi=function(){return E.useContext(Pu)},Iu=function(){return E.useContext(xi)},Pr=function(){return vr(vr({},Oi()),Iu())},Ir=function(e){var t,r=e.shallow,n=e.children,a=e.prefixCls,i=e.className,o=e.style,l=mh(e,["shallow","children","prefixCls","className","style"]),s=ph(l),u=s.ref,c=s.props,f=Oi(),h=L("form",{prefixCls:a}),v=L("formily-layout",{prefixCls:a}),p=C(v,(t={},t["".concat(h,"-").concat(c.layout)]=!0,t["".concat(h,"-rtl")]=c.direction==="rtl",t["".concat(h,"-").concat(c.size)]=c.size,t),i),b=function(){var x=vr({},f);return r?(c.size&&(x.size=c.size),c.colon&&(x.colon=c.colon)):Object.assign(x,c),d.createElement(Pu.Provider,{value:x},d.createElement(xi.Provider,{value:r?c:void 0},n))};return d.createElement("div",{ref:u,className:p,style:o},b())};Ir.defaultProps={shallow:!0};Ir.useFormDeepLayout=Oi;Ir.useFormShallowLayout=Iu;Ir.useFormLayout=Pr;var gh=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i};function bh(){var e=gh(E.useState(!1),2),t=e[0],r=e[1],n=E.useRef(null),a=E.useRef(null),i=Pr(),o=JSON.stringify(i.labelCol);return E.useEffect(function(){requestAnimationFrame(function(){if(n.current&&a.current){var l=a.current.getBoundingClientRect().width,s=n.current.getBoundingClientRect().width;l&&s&&s<l?t||r(!0):t&&r(!1)}})},[o]),{overflow:t,containerRef:n,contentRef:a}}var bn=globalThis&&globalThis.__assign||function(){return bn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},bn.apply(this,arguments)},yh=function(e){var t,r,n,a,i,o,l,s,u,c,f,h,v,p,b,x,g,y,O,w,T,V,D,M=Pr(),oe=(r=(t=e.layout)!==null&&t!==void 0?t:M.layout)!==null&&r!==void 0?r:"horizontal";return bn(bn({},e),{layout:oe,colon:(n=e.colon)!==null&&n!==void 0?n:M.colon,labelAlign:oe==="vertical"?(a=e.labelAlign)!==null&&a!==void 0?a:"left":(o=(i=e.labelAlign)!==null&&i!==void 0?i:M.labelAlign)!==null&&o!==void 0?o:"right",labelWrap:(l=e.labelWrap)!==null&&l!==void 0?l:M.labelWrap,labelWidth:(s=e.labelWidth)!==null&&s!==void 0?s:M.labelWidth,wrapperWidth:(u=e.wrapperWidth)!==null&&u!==void 0?u:M.wrapperWidth,labelCol:(c=e.labelCol)!==null&&c!==void 0?c:M.labelCol,wrapperCol:(f=e.wrapperCol)!==null&&f!==void 0?f:M.wrapperCol,wrapperAlign:(h=e.wrapperAlign)!==null&&h!==void 0?h:M.wrapperAlign,wrapperWrap:(v=e.wrapperWrap)!==null&&v!==void 0?v:M.wrapperWrap,fullness:(p=e.fullness)!==null&&p!==void 0?p:M.fullness,size:(b=e.size)!==null&&b!==void 0?b:M.size,inset:(x=e.inset)!==null&&x!==void 0?x:M.inset,asterisk:e.asterisk,bordered:(g=e.bordered)!==null&&g!==void 0?g:M.bordered,feedbackIcon:e.feedbackIcon,feedbackLayout:(O=(y=e.feedbackLayout)!==null&&y!==void 0?y:M.feedbackLayout)!==null&&O!==void 0?O:"loose",tooltipLayout:(T=(w=e.tooltipLayout)!==null&&w!==void 0?w:M.tooltipLayout)!==null&&T!==void 0?T:"icon",tooltipIcon:(D=(V=e.tooltipIcon)!==null&&V!==void 0?V:M.tooltipIcon)!==null&&D!==void 0?D:d.createElement(vs,null)})},_h=new Ku("antShowHelpIn",{"0%":{transform:"translateY(-5px)",opacity:0},to:{transform:" translateY(0)",opacity:1}}),xh=function(e){var t,r=e.componentCls,n="".concat(r,"-help");return t={},t[n]={"&-appear, &-enter":{animationDuration:"0.3s",animationFillMode:"both",animationPlayState:"paused",opacity:0,animationTimingFunction:"cubic-bezier(0.645, 0.045, 0.355, 1)","&-active":{animationPlayState:"running",animationName:_h}}},t},ur=globalThis&&globalThis.__assign||function(){return ur=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ur.apply(this,arguments)},Oh=function(e){var t,r=e.componentCls,n="".concat(r,"-item-col"),a=function(o){return{flex:"0 0 ".concat(o/24*100,"%"),maxWidth:"".concat(o/24*100,"%")}},i=function(){return Array.from({length:24},function(o,l){var s,u="".concat(n,"-").concat(l+1);return s={},s[u]=a(l+1),s}).reduce(function(o,l){return ur(ur({},o),l)},{})};return t={},t[r]=ur({},i()),t},ue=globalThis&&globalThis.__assign||function(){return ue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ue.apply(this,arguments)},Sh=function(e){var t,r,n,a,i,o,l,s,u,c,f,h,v,p,b,x,g,y,O,w,T,V,D,M,oe,je,st,Le,Pe,St,k=e.componentCls,fe=e.colorError,Et=e.colorErrorBg,Ie=e.colorWarningBg,pe=e.colorWarning,wt=e.colorBorder,xe=e.colorSuccess,Tr=e.lineWidth,Cr=e.colorPrimaryBorderHover,Hn=e.colorPrimary,m=e.antCls,Ar=e.fontSize,Fr=e.marginSM,Me=e.controlHeight,ke=e.controlHeightSM,qn=e.lineHeight,Pt=e.controlOutlineWidth,It=e.controlOutline,F=e.colorPrimaryHover,Nr=e.colorTextSecondary,Rr=function(Te){return Te===void 0&&(Te=Cr),{borderColor:Te,borderInlineEndWidth:Tr}},me=function(Te){return Te===void 0&&(Te=Hn),{borderColor:Te,borderInlineEndWidth:Tr,outline:0,boxShadow:"".concat(Pt," 0 ").concat(It," ").concat(F)}};return t={},t[k]=(r={"&-layout-vertical":(n={display:"block"},n["".concat(m,"-label")]={minHeight:Me-10,lineHeight:qn},n),"&-success":(a={},a["".concat(m,`-select-selector,
          `).concat(m,`-cascader-picker,
          `).concat(m,`-picker,
          `).concat(m,`-input,
          `).concat(m,`-input-number,
          `).concat(m,`-input-affix-wrapper,
          `).concat(m,`-input-affix-wrapper,
          `).concat(m,"-input")]={borderColor:"".concat(xe," !important")},a["".concat(m,`-select-selector,
        `).concat(m,`-cascader-picker,
        `).concat(m,`-picker,
        `).concat(m,`-input,
        `).concat(m,`-input-number,
        `).concat(m,`-input-affix-wrapper,
        `).concat(m,`-input-affix-wrapper:hover,
        `).concat(m,"-input:hover")]={borderColor:"".concat(xe," !important")},a["".concat(m,`-input-affix-wrapper-focused,
        `).concat(m,`-input-affix-wrapper:focus,
        `).concat(m,`-input-focused,
        `).concat(m,"-input:focus")]={borderColor:"".concat(xe," !important"),borderInlineEndWidth:"1px !important",outline:0},a),"&-warning":(i={},i["".concat(m,`-select-selector,
          `).concat(m,`-cascader-picker,
          `).concat(m,`-picker,
          `).concat(m,`-input,
          `).concat(m,`-input-number,
          `).concat(m,`-input-affix-wrapper,
          `).concat(m,`-input-affix-wrapper,
          `).concat(m,"-input")]={borderColor:xe},i["".concat(m,`-select-selector,
          `).concat(m,`-cascader-picker,
          `).concat(m,`-picker,
          `).concat(m,`-input,
          `).concat(m,`-input-number,
          `).concat(m,`-input-affix-wrapper,
          `).concat(m,`-input-affix-wrapper:hover,
          `).concat(m,"-input:hover")]={borderColor:xe},i["".concat(m,"-select:not(").concat(m,"-select-disabled):not(").concat(m,"-select-customize-input)")]=(o={},o["".concat(m,"-select-selector")]={backgroundColor:Ie,borderColor:xe},o["&".concat(m,"-select-open ").concat(m,`-select-selector,
              &`).concat(m,"-select-focused ").concat(m,"-select-selector")]=ue({},me(pe)),o),i["".concat(m,`-input-number,
          `).concat(m,"-picker")]=(l={backgroundColor:Ie,borderColor:pe},l[`&-focused,
            &:focus`]=ue({},me(pe)),l["&:not([disabled]):hover"]={backgroundColor:Ie,borderColor:pe},l),i["".concat(m,"-cascader-picker:focus ").concat(m,"-cascader-input")]=ue({backgroundColor:Ie},me(pe)),i["".concat(m,`-input-affix-wrapper-focused,
          `).concat(m,`-input-affix-wrapper:focus,
          `).concat(m,`-input-focused,
          `).concat(m,"-input:focus")]=ue({},me(pe)),i),"&-error":(s={},s["".concat(m,`-select-selector,
            `).concat(m,`-cascader-picker,
            `).concat(m,`-picker,
            `).concat(m,`-input,
            `).concat(m,`-input-number,
            `).concat(m,`-input-affix-wrapper,
            `).concat(m,"-input")]={borderColor:"".concat(fe," !important")},s["".concat(m,`-select-selector,
            `).concat(m,`-cascader-picker,
            `).concat(m,`-picker,
            `).concat(m,`-input,
            `).concat(m,`-input-number,
            `).concat(m,`-input-affix-wrapper,
            `).concat(m,`-input-affix-wrapper:hover,
            `).concat(m,"-input:hover")]={borderColor:"".concat(fe,"  !important")},s["".concat(m,"-select:not(").concat(m,"-select-disabled):not(").concat(m,"-select-customize-input)")]=(u={},u["".concat(m,"-select-selector")]={backgroundColor:Et,borderColor:"".concat(fe,"  !important")},u["&".concat(m,"-select-open ").concat(m,`-select-selector,
                &`).concat(m,"-select-focused ").concat(m,"-select-selector")]=ue({},me(fe)),u),s["".concat(m,`-input-number,
            `).concat(m,"-picker")]=(c={backgroundColor:Et,borderColor:fe},c[`&-focused,
            &:focus`]=ue({},me(fe)),c["&:not([disabled]):hover"]={backgroundColor:Et,borderColor:fe},c),s["".concat(m,"-cascader-picker:focus ").concat(m,"-cascader-input")]=ue({backgroundColor:Et},me(fe)),s["".concat(m,`-input-affix-wrapper-focused,
            `).concat(m,`-input-affix-wrapper:focus,
            `).concat(m,`-input-focused,
            `).concat(m,"-input:focus")]=ue({},me(fe)),s),"&-feedback-layout":{"&-terse":(f={marginBottom:8},f["&".concat(k,"-feedback-has-text:not(").concat(k,"-inset)")]={marginBottom:0},f),"&-loose":(h={marginBottom:22},h["&".concat(k,"-feedback-has-text:not(").concat(k,"-inset)")]={marginBottom:0},h),"&-none":(v={marginBottom:0},v["&".concat(k,"-feedback-has-text:not(").concat(k,"-inset)")]={marginBottom:0},v)},"&-control-wrap":(p={},p["".concat(k,"-control")]={whiteSpace:"pre-line",wordBreak:"break-all"},p),"&-control-align":{"&-left":(b={},b["".concat(k,"-control-content")]={justifyContent:"flex-start"},b),"&-right":(x={},x["".concat(k,"-control-content")]={justifyContent:"flex-end"},x)},"input[type='radio'], input[type='checkbox']":{width:Ar,height:Ar},"&-feedback-layout-popover":{marginBottom:8},"&-fullness":(g={},g["> ".concat(k,"-control")]=(y={},y["> ".concat(k,"-control-content")]=(O={},O["> ".concat(k,"-control-content-component")]={"> *:first-child":{width:"100%"}},O),y),g),"&-inset":(w={borderRadius:2,border:"1px solid ".concat(wt),paddingInlineStart:12,transition:"0.3s all"},w["".concat(m,`-input-number,
          `).concat(m,`-picker,
          `).concat(m,"-cascader-picker:focus ").concat(m,`-cascader-input,
          `).concat(m,"-select:not(").concat(m,`-select-customize-input)
          `).concat(m,`-select-selector,
          `).concat(m,`-input-affix-wrapper,
          `).concat(m,"-input")]={border:"none !important",boxShadow:"none !important"},w["".concat(m,"-input-number-handler-wrap")]=(T={border:"none !important"},T["".concat(m,"-input-number-handler")]={border:"none !important"},T),w["&:hover"]=ue({},Rr()),w),"&-active":(V={},V["".concat(k,"-control-content-component-has-feedback-icon")]=ue({},me()),V["".concat(m,`-input-number,
          `).concat(m,`-picker,
          `).concat(m,"-cascader-picker:focus ").concat(m,`-cascader-input,
          `).concat(m,"-select:not(").concat(m,`-select-customize-input)
          `).concat(m,`-select-selector,
          `).concat(m,"-input")]=ue({},me()),V),"&-inset-active":ue({},me()),"&-bordered-none":(D={},D["".concat(m,`-input-number,
          `).concat(m,`-input-affix-wrapper,
          `).concat(m,`-picker,
          `).concat(m,"-cascader-picker:focus ").concat(m,`-cascader-input,
          `).concat(m,"-select:not(").concat(m,`-select-customize-input)
          `).concat(m,`-select-selector,
          `).concat(m,"-input")]={border:"none !important",boxShadow:"none !important"},D["".concat(m,"-input-number-handler-wrap")]=(M={border:"none !important"},M["".concat(m,"-input-number-handler")]={border:"none !important"},M),D),"&:hover":(oe={},oe["".concat(k,"-control-content-component-has-feedback-icon")]=ue({},Rr()),oe)},r["textarea".concat(m,"-input")]={height:"auto"},r["".concat(k,"-label-tooltip-icon")]={marginInlineStart:4,color:e.colorTextSecondary,display:"flex",alignItems:"center",maxHeight:Me,span:{display:"inline-block"}},r["".concat(k,"-asterisk")]={color:fe,marginInlineEnd:"4px",display:"inline-block",fontFamily:"SimSun, sans-serif"},r["".concat(k,"-colon")]={marginInlineStart:2,marginInlineEnd:8},r["".concat(k,"-control")]=(je={flex:1,maxWidth:"100%"},je["".concat(k,"-control-content")]=(st={display:"flex"},st["".concat(k,"-control-content-component")]=(Le={width:"100%",minHeight:Me-2,lineHeight:"".concat(Me+2,"px")},Le["&-has-feedback-icon"]={flex:1,position:"relative",display:"flex",alignItems:"center"},Le),st["".concat(k,"-addon-before ")]={marginInlineEnd:8,display:"inline-flex",alignItems:"center",minHeight:Me,flexShrink:0},st["".concat(k,"-addon-after")]={marginInlineStart:8,display:"inline-flex",alignItems:"center",minHeight:Me,flexShrink:0},st),je["".concat(k,`-help,
        `).concat(k,"-extra ")]={minHeight:ke-2,lineHeight:"".concat(ke-2,"px"),color:Nr},je),r["".concat(k,`-help,
          `).concat(k,"-extra")]={clear:"both",minHeight:ke-2,color:"rgba(0, 0, 0, 0.45)",transition:"color 0.3s cubic-bezier(0.215, 0.61, 0.355, 1)",paddingTop:0},r["".concat(k,"-control-content-component-has-feedback-icon")]=(Pe={borderRadius:2,border:"1px solid ".concat(wt),paddingInlineEnd:8,transition:"all 0.3s",touchAction:"manipulation",outline:"none"},Pe["".concat(m,`-input-number,
            `).concat(m,`-picker,
            `).concat(m,"-cascader-picker:focus ").concat(m,`-cascader-input,
            `).concat(m,"-select:not(").concat(m,`-select-customize-input)
            `).concat(m,`-select-selector,
            `).concat(m,`-input-affix-wrapper,
            `).concat(m,"-input")]={border:"none !important",boxShadow:"none !important"},Pe),r["".concat(k,"-error-help")]={color:"".concat(fe,"  !important")},r["".concat(k,"-warning-help")]={color:xe},r["".concat(k,"-success-help")]={color:"".concat(xe," !important")},r["".concat(m,"-upload")]={background:"transparent"},r["".concat(m,"-upload").concat(m,"-upload-drag")]={background:e.colorBgBase},r["".concat(m,"-radio-inline, ").concat(m,"-checkbox-inline")]={display:"inline-block",marginInlineStart:Fr,fontWeight:"normal",verticalAlign:"middle",cursor:"pointer","&:first-child":{marginInlineStart:0}},r["".concat(m,`-radio-vertical,
          `).concat(m,"-checkbox-vertical")]={display:"block"},r["".concat(m,"-checkbox-vertical + ").concat(m,`-checkbox-vertical,
          `).concat(m,"-radio-vertical + ").concat(m,"-radio-vertical")]={marginInlineStart:0},r["".concat(m,"-input-number")]=(St={width:"100%"},St["+ ".concat(m,"-form-text")]={marginInlineStart:Fr},St["&-handler-wrap"]={zIndex:2},St),r["".concat(m,`-select,
          `).concat(m,`-cascader-picker,
          `).concat(m,"-picker")]={width:"100%"},r["".concat(m,"-input-group ").concat(m,`-select,
          `).concat(m,"-input-group ").concat(m,"-cascader-picker")]={width:"auto"},r),t},Eh=function(e){var t,r,n,a,i,o,l=e.componentCls,s=e.antCls,u=e.controlHeightSM,c=e.marginLG,f=e.fontSizeSM;return t={fontSize:f,lineHeight:u},t["".concat(l,"-label")]={lineHeight:"".concat(u,"px"),minHeight:u-4,"> label":{height:u-2}},t["".concat(l,"-control-content")]={" &-component":{minHeight:u-4,lineHeight:"".concat(u,"px")}},t["".concat(l,`-help,
      `).concat(l,"-extra")]={minHeight:u-4,lineHeight:"".concat(u-4,"px")},t["".concat(l,"-control-content")]={minHeight:u-4},t["".concat(s,`-input-affix-wrapper,
      `).concat(s,`-input-number,
      `).concat(s,"-picker")]={padding:"0px 11px",input:{height:u-4,fontSize:f}},t["".concat(s,"-cascader-picker")]={height:u-4,input:{padding:"0 7px",height:u-4,fontSize:f}},t["".concat(s,"-select-single:not(").concat(s,"-select-customize-input) ").concat(s,"-select-selector")]=(r={padding:"0px 11px",height:u-4,fontSize:f,lineHeight:"".concat(u,"px")},r["".concat(s,"-select-selection-search")]={height:u,lineHeight:"".concat(u-4,"px"),"&-input":{height:u-4,lineHeight:"".concat(u-4,"px")}},r["".concat(s,"-select-selection-placeholder")]={height:u,lineHeight:"".concat(u-4,"px")},r["".concat(s,"-select-selection-item")]={height:u,lineHeight:"".concat(u-4,"px")},r["".concat(s,"-select-multiple:not(").concat(s,`-select-customize-input)
          `).concat(s,"-select-selector")]=(n={padding:"0px 2px",height:u-4,fontSize:f,lineHeight:"".concat(u,"px"),"&::after":{height:u-8,lineHeight:"".concat(u-8,"px")}},n["".concat(s,"-select-selection-search")]={height:u-8,lineHeight:"".concat(u-8,"px"),marginInlineStart:0,"&-input":{height:u,lineHeight:"".concat(u-4,"px")}},n["".concat(s,"-select-selection-placeholder")]={height:u-4,lineHeight:"".concat(u,"px"),marginInlineStart:4},n["".concat(s,"-select-selection-overflow-item")]=(a={alignSelf:"flex-start"},a["".concat(s,"-select-selection-item")]={lineHeight:"".concat(u-10,"px"),height:u-8},a),n),r["&".concat(l,"-feedback-layout-terse")]=(i={marginBottom:8},i["&".concat(l,"-feedback-has-text:not(").concat(l,"-inset)")]={marginBottom:0},i),r["&".concat(l,"-feedback-layout-loose")]=(o={marginBottom:c},o["&".concat(l,"-feedback-has-text:not(").concat(l,"-inset)")]={marginBottom:0},o),r),t},wh=function(e){var t,r,n,a,i,o,l=e.componentCls,s=e.antCls,u=e.fontSizeLG,c=e.controlHeightLG,f=e.controlHeightSM,h=e.marginLG;return t={fontSize:u,lineHeight:"".concat(c,"px")},t["".concat(l,"-label")]={lineHeight:"".concat(c,"px"),minHeight:c-2,"> label":{height:c}},t["".concat(l,"-control-content")]={" &-component":{minHeight:c-2,lineHeight:"".concat(c+2,"px")}},t["".concat(l,`-help,
      `).concat(l,"-extra")]={minHeight:f,lineHeight:"".concat(f,"px")},t["".concat(l,"-control-content")]={minHeight:c-2},t["".concat(s,"-input")]={fontSize:u},t["".concat(s,"-input-number")]={fontSize:u,input:{height:c-2}},t["".concat(s,`-input-affix-wrapper,
      `).concat(s,"-picker")]={padding:"0px 11px",lineHeight:"".concat(c-2,"px"),input:{height:c-2,fontSize:u}},t["".concat(s,"-btn")]={height:c,padding:"0 8px"},t["".concat(s,"-radio-button-wrapper")]={height:c,lineHeight:"".concat(c,"px")},t["".concat(s,"-cascader-picker")]={height:c-2,input:{padding:"0 11px",height:c-2,fontSize:u}},t["".concat(s,"-select-single:not(").concat(s,"-select-customize-input) ").concat(s,"-select-selector")]=(r={padding:"0px 11px",height:c,fontSize:u,lineHeight:"".concat(c,"px")},r["".concat(s,"-select-selection-search")]={height:c,lineHeight:"".concat(c-2,"px"),"&-input":{height:c,lineHeight:"".concat(c-2,"px")}},r["".concat(s,"-select-selection-placeholder")]={height:c,lineHeight:"".concat(c,"px")},r["".concat(s,"-select-selection-item")]={height:c,lineHeight:"".concat(c,"px")},r["".concat(s,"-select-multiple:not(").concat(s,`-select-customize-input)
          `).concat(s,"-select-selector")]=(n={padding:"0px 2px",height:c-2,fontSize:u,lineHeight:"".concat(c,"px"),"&::after":{height:c-8,lineHeight:"".concat(c-8,"px")}},n["".concat(s,"-select-selection-search")]={height:c-8,lineHeight:"".concat(c-8,"px"),"&-input":{height:c-12,lineHeight:"".concat(c-12,"px")}},n["".concat(s,"-select-selection-placeholder")]={height:c-8,lineHeight:"".concat(c-8,"px")},n["".concat(s,"-select-selection-overflow-item")]=(a={alignSelf:"flex-start"},a["".concat(s,"-select-selection-item")]={lineHeight:"".concat(c-10,"px"),height:c-8},a),n),r["&".concat(l,"-feedback-layout-terse")]=(i={marginBottom:8},i["&".concat(l,"-feedback-has-text:not(").concat(l,"-inset)")]={marginBottom:0},i),r["&".concat(l,"-feedback-layout-loose")]=(o={marginBottom:h},o["&".concat(l,"-feedback-has-text:not(").concat(l,"-inset)")]={marginBottom:0},o),r),t},Ph=function(e){var t,r,n,a=e.componentCls,i=e.controlHeight,o=e.controlHeightSM,l=e.marginLG,s=e.marginSM;return{lineHeight:"".concat(i,"px"),minHeight:i-2,position:"relative",display:"flex",color:e.colorTextHeading,label:{cursor:"text"},"&-content":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",label:{whiteSpace:"nowrap"}},"&-tooltip":{cursor:"help","*":{cursor:"help"},label:{borderBottom:"1px dashed currentColor"}},"&-feedback-layout":{"&-terse":{marginBottom:s},"&-loose":{marginBottom:l},"&-none":{marginBottom:0},"&-terse, &-loosee, &-none":(t={},t["&.".concat(a,"-feedback-has-text:not(").concat(a,"-inset)")]={marginBottom:0},t)},"&-control":(r={flex:1,maxWidth:"100%"},r["&.".concat(a,"-control-content")]=(n={display:"flex","&-component":{width:"100%",minHeight:i-2,lineHeight:"".concat(i,"px"),"&-has-feedback-icon":{flex:1,position:"relative",display:"flex",alignItems:"center"}}},n["".concat(a,"-addon")]={"&-before":{marginInlineEnd:s},"&-after":{marginInlineEnd:s},"&-before, &-after":{display:"inline-flex",alignItems:"center",minHeight:i,flexShrink:0}},n),r["".concat(a,`-help,
        `).concat(a,"-extra")]={minHeight:o,lineHeight:"".concat(o,"px"),color:e.colorTextSecondary},r)}},Ih=function(e){var t,r,n,a,i,o,l=e.componentCls,s=e.fontSize,u=e.marginLG;return t={},t[l]=(r={display:"flex",position:"relative",marginBottom:u,fontSize:s,"&-label":{"&-align":(n={},n["&-left"]=(a={},a["> ".concat(l,"-label")]={justifyContent:"flex-start"},a),n["&-right"]=(i={},i["> ".concat(l,"-label")]={justifyContent:"flex-end",label:{whiteSpace:"pre-line",wordBreak:"break-all"}},i),n),"&-wrap":(o={},o["".concat(l,"-label")]={label:{whiteSpace:"pre-line",wordBreak:"break-all"}},o)}},r["".concat(l,"-label")]=Ph(e),r["&".concat(l,"-size-small")]=Eh(e),r["&".concat(l,"-size-large")]=wh(e),r),t};const Th=lt("Form",function(e){return[Ih(e),xh(e),Sh(e),Oh(e)]});var dt=globalThis&&globalThis.__assign||function(){return dt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},dt.apply(this,arguments)},Ch=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},so=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Ah={error:d.createElement(hs,null),success:d.createElement(ps,null),warning:d.createElement(ms,null)},kt=function(e){var t,r,n,a,i,o=e.children,l=Ch(e,["children"]),s=so(E.useState(!1),2),u=s[0],c=s[1],f=yh(l),h=bh(),v=h.containerRef,p=h.contentRef,b=h.overflow,x=f.label,g=f.style,y=f.layout,O=f.colon,w=O===void 0?!0:O,T=f.addonBefore,V=f.addonAfter,D=f.asterisk,M=f.feedbackStatus,oe=f.extra,je=f.feedbackText,st=f.fullness,Le=f.feedbackLayout,Pe=f.feedbackIcon,St=f.getPopupContainer,k=f.inset,fe=f.bordered,Et=fe===void 0?!0:fe,Ie=f.labelWidth,pe=f.wrapperWidth,wt=f.labelCol,xe=f.wrapperCol,Tr=f.labelAlign,Cr=f.wrapperAlign,Hn=Cr===void 0?"left":Cr,m=f.size,Ar=f.labelWrap,Fr=f.wrapperWrap,Me=f.tooltipLayout,ke=f.tooltip,qn=f.tooltipIcon,Pt=dt({},f.labelStyle),It=dt({},f.wrapperStyle),F=L("formily-item",l),Nr=so(Th(F),2),Rr=Nr[0],me=Nr[1],Te=!1;(Ie||pe)&&(Ie&&(Pt.width=Ie==="auto"?void 0:Ie,Pt.maxWidth=Ie==="auto"?void 0:Ie),pe&&(It.width=pe==="auto"?void 0:pe,It.maxWidth=pe==="auto"?void 0:pe)),(wt||xe)&&!Pt.width&&!It.width&&y!=="vertical"&&(Te=!0);var Du=Le==="popover"?d.createElement(wo,{autoAdjustOverflow:!0,placement:"top",content:d.createElement("div",{className:C((t={},t["".concat(F,"-").concat(M,"-help")]=!!M,t["".concat(F,"-help")]=!0,t))},M?Ah[M]:null," ",je),open:!!je,getPopupContainer:St},o):o,Vu={},Lu=function(){return b?d.createElement("div",null,d.createElement("div",null,x),d.createElement("div",null,ke)):ke},$u=function(){var Xe=d.createElement("div",{className:"".concat(F,"-label-content"),ref:v},d.createElement("span",{ref:p},D&&d.createElement("span",{className:"".concat(F,"-asterisk")},"*"),d.createElement("label",null,x)));return Me==="text"&&ke||b?d.createElement(wi,{placement:"top",align:{offset:[0,10]},title:Lu()},Xe):Xe},Bu=function(){if(ke&&Me==="icon"&&!b)return d.createElement("span",{className:"".concat(F,"-label-tooltip-icon")},d.createElement(wi,{placement:"top",align:{offset:[0,2]},title:ke},qn))},Uu=function(){var Xe;return x?d.createElement("div",{className:C((Xe={},Xe["".concat(F,"-label")]=!0,Xe["".concat(F,"-label-tooltip")]=ke&&Me==="text"||b,Xe["".concat(F,"-item-col-").concat(wt)]=Te&&!!wt,Xe)),style:Pt},$u(),Bu(),x!==" "&&d.createElement("span",{className:"".concat(F,"-colon")},w?":":"")):null};return Rr(d.createElement("div",dt({},ou(l),{style:dt(dt({},g),Vu),"data-grid-span":l.gridSpan,className:C(l.className,(r={},r["".concat(F)]=!0,r["".concat(F,"-layout-").concat(y)]=!0,r["".concat(F,"-").concat(M)]=!!M,r["".concat(F,"-feedback-has-text")]=!!je,r["".concat(F,"-size-").concat(m)]=!!m,r["".concat(F,"-feedback-layout-").concat(Le)]=!!Le,r["".concat(F,"-fullness")]=!!st||!!k||!!Pe,r["".concat(F,"-inset")]=!!k,r["".concat(F,"-active")]=u,r["".concat(F,"-inset-active")]=!!k&&u,r["".concat(F,"-label-align-").concat(Tr)]=!0,r["".concat(F,"-control-align-").concat(Hn)]=!0,r["".concat(F,"-label-wrap")]=!!Ar,r["".concat(F,"-control-wrap")]=!!Fr,r["".concat(F,"-bordered-none")]=Et===!1||!!k||!!Pe,r),me),onFocus:function(){(Pe||k)&&c(!0)},onBlur:function(){(Pe||k)&&c(!1)}}),Uu(),d.createElement("div",{className:C((n={},n["".concat(F,"-control")]=!0,n["".concat(F,"-item-col-").concat(xe)]=Te&&!!xe&&x,n))},d.createElement("div",{className:C("".concat(F,"-control-content"))},T&&d.createElement("div",{className:C("".concat(F,"-addon-before"))},T),d.createElement("div",{style:It,className:C((a={},a["".concat(F,"-control-content-component")]=!0,a["".concat(F,"-control-content-component-has-feedback-icon")]=!!Pe,a))},d.createElement(xi.Provider,{value:{}},Du),Pe&&d.createElement("div",{className:C("".concat(F,"-feedback-icon"))},Pe)),V&&d.createElement("div",{className:C("".concat(F,"-addon-after"))},V)),!!je&&Le!=="popover"&&Le!=="none"&&d.createElement("div",{className:C((i={},i["".concat(F,"-").concat(M,"-help")]=!!M,i["".concat(F,"-help")]=!0,i["".concat(F,"-help-enter")]=!0,i["".concat(F,"-help-enter-active")]=!0,i))},je),oe&&d.createElement("div",{className:C("".concat(F,"-extra"))},oe))))},Up=Object.assign(W(kt,te(function(e,t){if(Y(t))return{label:t.title||e.label,asterisk:e.asterisk,extra:e.extra||t.description};if(!t)return e;var r=function(){return t.validating?"pending":t.decoratorProps.feedbackStatus||t.validateStatus},n=function(){var i=function(o){return o.reduce(function(l,s,u){return s?u<o.length-1?l.concat([s,", "]):l.concat([s]):l},[])};if(!t.validating){if(e.feedbackText)return e.feedbackText;if(t.selfErrors.length)return i(t.selfErrors);if(t.selfWarnings.length)return i(t.selfWarnings);if(t.selfSuccesses.length)return i(t.selfSuccesses)}},a=function(){return t.required&&t.pattern!=="readPretty"?!0:"asterisk"in e?e.asterisk:!1};return{label:e.label||t.title,feedbackStatus:r(),feedbackText:n(),asterisk:a(),extra:e.extra||t.description}})),{BaseItem:kt});const Tu=lt("editable",function(e){var t,r,n,a=e.antCls,i=e.componentCls,o=e.fontSizeSM,l=e.colorPrimary;return t={},t[i]=(r={cursor:"pointer",display:"inline-block !important"},r["".concat(a,"-form-text")]=(n={display:"flex",alignItems:"center"},n["".concat(a,"-tag")]={transition:"none !important"},n["".concat(a,"-tag:last-child")]={paddingInlineEnd:"0 !important"},n),r["".concat(i,"-content")]={display:"flex",alignItems:"center","> *":{marginInlineEnd:3,"&:last-child":{marginInlineEnd:0}}},r["".concat(i,`-edit-btn,
        `).concat(i,"-close-btn")]={transition:"all .25s ease-in-out",color:"#aaa",fontSize:o,"&:hover":{color:l}},r["".concat(i,"-preview")]={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",wordBreak:"break-all",maxWidth:"100%",display:"block"},r),t});var Dt=globalThis&&globalThis.__assign||function(){return Dt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Dt.apply(this,arguments)},Fh=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(e,t||[])).next())})},Nh=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Si=function(){var e,t,r=$();return((e=r==null?void 0:r.parent)===null||e===void 0?void 0:e.pattern)||((t=r==null?void 0:r.form)===null||t===void 0?void 0:t.pattern)},Rh=function(){var e=Si(),t=$();return E.useLayoutEffect(function(){if(e==="editable")return t.setPattern("readPretty")},[e]),[t.pattern==="editable",function(r){e==="editable"&&t.setPattern(r?"editable":"readPretty")}]},jh=function(){var e=$();if(Y(e))return{};if(!e)return{};var t=function(){if(e.selfErrors.length)return e.selfErrors;if(e.selfWarnings.length)return e.selfWarnings;if(e.selfSuccesses.length)return e.selfSuccesses};return{feedbackStatus:e.validateStatus==="validating"?"pending":e.validateStatus,feedbackText:t(),extra:e.description}},Mh=U(function(e){var t=yn(Rh(),2),r=t[0],n=t[1],a=Si(),i=jh(),o=$(),l=L(),s=L("formily-editable"),u=yn(Tu(s),2),c=u[0],f=u[1],h=E.useRef(),v=E.useRef(null),p=function(){var y;h.current&&!(!((y=o==null?void 0:o.errors)===null||y===void 0)&&y.length)&&n(!1)},b=function(){if(!r)return d.createElement(kt,Dt({},e,i),a==="editable"&&d.createElement(Co,{className:"".concat(s,"-edit-btn")}),a!=="editable"&&d.createElement(Ao,{className:"".concat(s,"-edit-btn")}))},x=function(){if(r)return d.createElement(kt,Dt({},e),d.createElement(gs,{className:"".concat(s,"-close-btn")}))};lv(function(y){var O=y.target;O!=null&&O.closest(".".concat(l,"-select-dropdown"))||O!=null&&O.closest(".".concat(l,"-picker-dropdown"))||O!=null&&O.closest(".".concat(l,"-cascader-menus"))||p()},v);var g=function(y){var O,w=y.target,T=((O=v.current)===null||O===void 0?void 0:O.querySelector(".".concat(s,"-close-btn")))||null;w!=null&&w.contains(T)||T!=null&&T.contains(w)?p():h.current||setTimeout(function(){n(!0),setTimeout(function(){var V,D;(D=(V=v.current)===null||V===void 0?void 0:V.querySelector("input"))===null||D===void 0||D.focus()})})};return h.current=r,c(d.createElement("div",{className:C(s,f),ref:v,onClick:g},d.createElement("div",{className:"".concat(s,"-content")},d.createElement(kt,Dt({},e,i),e.children),b(),x())))}),kh=U(function(e){var t=$(),r=Si(),n=yn(E.useState(!1),2),a=n[0],i=n[1],o=L("formily-editable"),l=yn(Tu(o),2),s=l[0],u=l[1],c=function(){return Fh(void 0,void 0,void 0,function(){var h;return Nh(this,function(v){switch(v.label){case 0:return v.trys.push([0,,2,3]),[4,t.form.validate("".concat(t.address,".*"))];case 1:return v.sent(),[3,3];case 2:return h=t.form.queryFeedbacks({type:"error",address:"".concat(t.address,".*")}),h!=null&&h.length?[2]:(i(!1),[7]);case 3:return[2]}})})},f=function(){i(!0)};return s(d.createElement(wo,Dt({},e,{title:e.title||t.title,open:a,className:C(o,u,e.className),content:e.children,trigger:"click",destroyTooltipOnHide:!0,onOpenChange:function(h){h?f():c()}}),d.createElement("div",null,d.createElement(kt,{className:"".concat(o,"-trigger")},d.createElement("div",{className:"".concat(o,"-content")},d.createElement("span",{className:"".concat(o,"-preview")},e.title||t.title),r==="editable"&&d.createElement(Co,{className:"".concat(o,"-edit-btn")}),r!=="editable"&&d.createElement(Ao,{className:"".concat(o,"-edit-btn")}))))))}),zp=Object.assign(Mh,{Popover:kh}),Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Va.apply(this,arguments)},Dh=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Vh=function(e){var t=e.form,r=e.component,n=e.onAutoSubmit,a=e.onAutoSubmitFailed,i=e.previewTextPlaceholder,o=Dh(e,["form","component","onAutoSubmit","onAutoSubmitFailed","previewTextPlaceholder"]),l=mi(),s=function(u){return d.createElement(nu,{getRecord:function(){return bt(u)?u.values:u.value}},d.createElement(he.Placeholder,{value:i},d.createElement(Ir,Va({},o),d.createElement(r,{onSubmit:function(c){var f,h;(f=c==null?void 0:c.stopPropagation)===null||f===void 0||f.call(c),(h=c==null?void 0:c.preventDefault)===null||h===void 0||h.call(c),u.submit(n).catch(a)}},o.children))))};if(t)return d.createElement(Jl,{form:t},s(t));if(!l)throw new Error("must pass form instance by createForm");return s(l)};Vh.defaultProps={component:"form"};var Gt=globalThis&&globalThis.__assign||function(){return Gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Gt.apply(this,arguments)},Lh=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},$h=function(){var e=$(),t=ot(),r=[];return t.mapProperties(function(n,a){var i,o,l=e.query(e.address.concat(a)).take();(l==null?void 0:l.display)==="none"||(l==null?void 0:l.display)==="hidden"||((i=n["x-component"])===null||i===void 0?void 0:i.indexOf("CollapsePanel"))>-1&&r.push({name:a,props:Gt(Gt({},n==null?void 0:n["x-component-props"]),{key:((o=n==null?void 0:n["x-component-props"])===null||o===void 0?void 0:o.key)||a}),schema:n})}),r},Cu=function(e){var t=Zo({activeKeys:e,setActiveKeys:function(r){t.activeKeys=r},hasActiveKey:function(r){if(Array.isArray(t.activeKeys)){if(t.activeKeys.includes(r))return!0}else if(t.activeKeys==r)return!0;return!1},addActiveKey:function(r){t.hasActiveKey(r)||(t.activeKeys=ce(t.activeKeys).concat(r))},removeActiveKey:function(r){Array.isArray(t.activeKeys)?t.activeKeys=t.activeKeys.filter(function(n){return n!=r}):t.activeKeys=""},toggleActiveKey:function(r){t.hasActiveKey(r)?t.removeActiveKey(r):t.addActiveKey(r)}});return Nn(t)},Bh=U(function(e){var t=e.formCollapse,r=Lh(e,["formCollapse"]),n=$(),a=$h(),i=L("formily-collapse",r),o=E.useMemo(function(){return t||Cu(r.defaultActiveKey)},[]),l=function(){var u;return r.activeKey?r.activeKey:o!=null&&o.activeKeys?o==null?void 0:o.activeKeys:r.accordion?(u=a[0])===null||u===void 0?void 0:u.name:a.map(function(c){return c.name})},s=function(u,c){var f=n.form.queryFeedbacks({type:"error",address:"".concat(n.address.concat(u),".*")});return f.length?d.createElement(Ga,{size:"small",className:"errors-badge",count:f.length},c.header):c.header};return d.createElement(Pi,Gt({},r,{className:C(i,r.className),activeKey:l(),onChange:function(u){var c,f;(c=r==null?void 0:r.onChange)===null||c===void 0||c.call(r,u),(f=o==null?void 0:o.setActiveKeys)===null||f===void 0||f.call(o,u)}}),a.map(function(u,c){var f=u.props,h=u.schema,v=u.name;return d.createElement(Pi.Panel,Gt({key:c},f,{header:s(v,f),forceRender:!0}),d.createElement(ye,{schema:h,name:v}))}))}),Uh=function(e){var t=e.children;return d.createElement(E.Fragment,null,t)},Gp=Object.assign(Bh,{CollapsePanel:Uh,createFormCollapse:Cu}),jt=globalThis&&globalThis.__assign||function(){return jt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},jt.apply(this,arguments)},co=function(e){return e.nodeType===1},zh=function(){function e(t){var r=this;this.childList=[],this.handler=function(n){n.forEach(function(a){a.type==="childList"&&(a.addedNodes.forEach(function(i){co(i)&&r.addObserver(i)}),a.removedNodes.forEach(function(i){co(i)&&r.removeObserver(i)}))}),r.callback(n,r.observer)},this.observe=function(n,a){r.init=a,r.observeChildList(n),r.observer.observe(n,jt(jt({},r.init),{subtree:!1,childList:!0,characterData:!1,characterDataOldValue:!1,attributeOldValue:!1}))},this.disconnect=function(){r.observer.disconnect()},this.callback=t,this.observer=new MutationObserver(this.handler)}return e.prototype.observeChildList=function(t){var r=this;Array.from(t.children).forEach(function(n){r.addObserver(n)})},e.prototype.addObserver=function(t){var r=this,n=this.childList.find(function(o){return o.element===t});if(!n){var a=this.childList.length,i={element:t,observer:new MutationObserver(this.callback),dispose:function(){i.observer&&(i.observer.disconnect(),delete i.observer,r.childList.splice(a,1))}};i.observer.observe(i.element,jt(jt({},this.init),{subtree:!1,childList:!1,characterData:!1,characterDataOldValue:!1,attributeOldValue:!1})),this.childList.push(i)}},e.prototype.removeObserver=function(t){var r,n=this.childList.find(function(a){return a.element===t});n&&((r=n.dispose)===null||r===void 0||r.call(n))},e}(),_n=globalThis&&globalThis.__assign||function(){return _n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_n.apply(this,arguments)},Gh=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Hh=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},qh=/span\s*(\d+)/,Wh=function(e){return e!=null},Kh=function(e,t){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t<=e[r])return r}return-1},Xh=function(e,t){var r;return Array.isArray(e)?t===-1?e[0]:(r=e[t])!==null&&r!==void 0?r:e[e.length-1]:e},Yh=function(e){return Array.from(e).reduce(function(t,r,n){var a,i=getComputedStyle(r),o=i.display!=="none",l=r.getAttribute("data-grid-span"),s=(a=Qh(i.gridColumnStart))!==null&&a!==void 0?a:1,u=Number(l??s),c={index:n,span:s,visible:o,originSpan:u,element:r};return l||r.setAttribute("data-grid-span",String(s)),t.concat(c)},[])},fo=function(e,t){return t===void 0&&(t=!1),e.reduce(function(r,n){var a;return!t&&!n.visible?r:n.originSpan===-1?r+((a=n.span)!==null&&a!==void 0?a:1):r+n.span},0)},vo=function(e,t){return t===void 0&&(t=!1),e.reduce(function(r,n){var a;return!t&&!n.visible?r:n.originSpan===-1?r+((a=n.span)!==null&&a!==void 0?a:1):r+n.originSpan},0)},Jh=function(e,t,r,n,a,i){for(var o=[],l=r;l<=t;l++){var s=e-(l-1)*i,u=s/l;u>=a&&u<=n?o.push(l):u<a?o.push(Math.min(Math.floor(s/a),t)):u>n&&o.push(Math.min(Math.floor(s/n),t))}return Math.max.apply(Math,Hh([],Gh(o),!1))},Qh=function(e){var t,r;return Number((r=(t=String(e).match(qh))===null||t===void 0?void 0:t[1])!==null&&r!==void 0?r:1)},ct=function(e,t){return Wh(e)?Xh(e,t.breakpoint):e},Zh=function(e){var t=0,r=0,n=0,a=0;e.ready&&(e.children=e.children.map(function(i){var o,l=t%e.columns,s=r%e.columns,u=e.columns-l,c=i.originSpan,f=c>e.columns?e.columns:c,h=e.options.strictAutoFit?f:f>u?u:f,v=c===-1?"span ".concat(u," / -1"):"span ".concat(h," / auto");return i.element.style.gridColumn!==v&&(i.element.style.gridColumn=v),i.visible&&(t+=h),r+=h,l===0&&n++,s==0&&a++,i.shadowRow=a,i.shadowColumn=s+1,i.visible&&(i.row=n,i.column=l+1),!((o=e.options)===null||o===void 0)&&o.shouldVisible&&(e.options.shouldVisible(i,e)?(i.visible||(i.element.style.display=""),i.visible=!0):(i.visible&&(i.element.style.display="none"),i.visible=!1)),i}))},ho=function(e){return Promise.resolve(0).then(e)},La=function(){function e(t){var r=this;this.width=0,this.height=0,this.children=[],this.childTotalColumns=0,this.shadowChildTotalColumns=0,this.childOriginTotalColumns=0,this.shadowChildOriginTotalColumns=0,this.ready=!1,this.connect=function(n){if(n){r.container=n;var a=j.bound(function(){i(),r.ready=!0}),i=j.bound(function(){r.children=Yh(r.container.children),r.childTotalColumns=fo(r.children),r.shadowChildTotalColumns=fo(r.children,!0),r.childOriginTotalColumns=vo(r.children),r.shadowChildOriginTotalColumns=vo(r.children,!0);var u=r.container.getBoundingClientRect();u.width&&u.height&&(r.width=u.width,r.height=u.height),Zh(r),ho(function(){var c,f;(f=(c=r.options)===null||c===void 0?void 0:c.onDigest)===null||f===void 0||f.call(c,r)}),r.ready||ho(function(){var c,f;(f=(c=r.options)===null||c===void 0?void 0:c.onInitialized)===null||f===void 0||f.call(c,r)})}),o=new zh(i),l=new Yu(i),s=gr(function(){return _n({},r.options)},i);return l.observe(r.container),o.observe(r.container,{attributeFilter:["data-grid-span"],attributes:!0}),a(),function(){l.unobserve(r.container),l.disconnect(),o.disconnect(),s(),r.children=[]}}return function(){}},this.options=_n({breakpoints:[720,1280,1920],columnGap:8,rowGap:4,minWidth:100,colWrap:!0,strictAutoFit:!1},t),qt(this,{options:_.shallow,width:_.ref,height:_.ref,ready:_.ref,children:_.ref,childOriginTotalColumns:_.ref,shadowChildOriginTotalColumns:_.ref,shadowChildTotalColumns:_.ref,childTotalColumns:_.ref,columns:_.computed,templateColumns:_.computed,gap:_.computed,maxColumns:_.computed,minColumns:_.computed,maxWidth:_.computed,minWidth:_.computed,breakpoints:_.computed,breakpoint:_.computed,rowGap:_.computed,columnGap:_.computed,colWrap:_.computed})}return Object.defineProperty(e.prototype,"breakpoints",{get:function(){return this.options.breakpoints},set:function(t){this.options.breakpoints=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakpoint",{get:function(){return Kh(this.options.breakpoints,this.width)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){var t;return(t=ct(this.options.maxWidth,this))!==null&&t!==void 0?t:1/0},set:function(t){this.options.maxWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){var t;return(t=ct(this.options.minWidth,this))!==null&&t!==void 0?t:100},set:function(t){this.options.minWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxColumns",{get:function(){var t;return(t=ct(this.options.maxColumns,this))!==null&&t!==void 0?t:1/0},set:function(t){this.options.maxColumns=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxRows",{get:function(){var t;return(t=this.options.maxRows)!==null&&t!==void 0?t:1/0},set:function(t){this.options.maxRows=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minColumns",{get:function(){var t;return(t=ct(this.options.minColumns,this))!==null&&t!==void 0?t:1},set:function(t){this.options.minColumns=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowGap",{get:function(){var t;return(t=ct(this.options.rowGap,this))!==null&&t!==void 0?t:5},set:function(t){this.options.rowGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnGap",{get:function(){var t;return(t=ct(this.options.columnGap,this))!==null&&t!==void 0?t:10},set:function(t){this.options.columnGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colWrap",{get:function(){var t;return(t=ct(this.options.colWrap,this))!==null&&t!==void 0?t:!0},set:function(t){this.options.colWrap=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){if(!this.ready)return 0;var t=this.childOriginTotalColumns;if(this.colWrap===!1)return t;var r=this.childSize,n=Math.round(this.width/(this.maxWidth+this.columnGap)),a=Math.min(t,n),i=this.options.strictAutoFit?n:a,o=Math.round(this.width/(this.minWidth+this.columnGap)),l=Math.min(t,o),s=this.options.strictAutoFit?o:l,u=Math.min(r,t,i,s),c=Math.max(r,t,i,s),f=Jh(this.width,c,u,this.maxWidth,this.minWidth,this.columnGap);return f>=this.maxColumns?this.maxColumns:f<=this.minColumns?this.minColumns:f},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return Math.ceil(this.childTotalColumns/this.columns)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowRows",{get:function(){return Math.ceil(this.shadowChildTotalColumns/this.columns)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateColumns",{get:function(){if(!this.width)return"";if(this.maxWidth===1/0)return"repeat(".concat(this.columns,",minmax(0,1fr))");if(this.options.strictAutoFit!==!0){var t=(this.width-(this.columns-1)*this.columnGap)/this.columns;if(t<this.minWidth||t>this.maxWidth)return"repeat(".concat(this.columns,",minmax(0,1fr))")}return"repeat(".concat(this.columns,",minmax(").concat(this.minWidth,"px,").concat(this.maxWidth,"px))")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return"".concat(this.rowGap,"px ").concat(this.columnGap,"px")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childSize",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullnessLastColumn",{get:function(){var t;return this.columns===((t=this.children[this.childSize-1])===null||t===void 0?void 0:t.span)},enumerable:!1,configurable:!0}),e.id=function(t){return t===void 0&&(t={}),JSON.stringify(["maxRows","maxColumns","minColumns","maxWidth","minWidth","breakpoints","columnGap","rowGap","colWrap","strictAutoFit"].map(function(r){return t[r]}))},e}();const ep=lt("form-grid",function(e){var t,r=e.componentCls;return t={},t["".concat(r,"-layout")]={display:"grid"},t});var vt=globalThis&&globalThis.__assign||function(){return vt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vt.apply(this,arguments)},Au=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},tp=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Fu=d.createContext(null),rp=function(e){return Nn(new La(e))},np=function(){return E.useContext(Fu)},ap=U(function(e){var t,r,n=e.children,a=e.className,i=e.style,o=Au(e,["children","className","style"]),l=Pr(),s=vt({columnGap:(t=l==null?void 0:l.gridColumnGap)!==null&&t!==void 0?t:8,rowGap:(r=l==null?void 0:l.gridRowGap)!==null&&r!==void 0?r:4},o),u=E.useMemo(function(){return Nn(s!=null&&s.grid?s.grid:new La(s))},[La.id(s)]),c=E.useRef(null),f=L("formily-grid",o),h=tp(ep(f),2),v=h[0],p=h[1],b=ou(o);return E.useLayoutEffect(function(){if(c.current)return u.connect(c.current)},[u]),d.createElement(Fu.Provider,{value:u},v(d.createElement("div",vt({},b,{className:C("".concat(f,"-layout"),p,a),style:vt(vt({},i),{gridTemplateColumns:u.templateColumns,gap:u.gap}),ref:c}),n)))},{forwardRef:!0}),Nu=U(function(e){var t=e.gridSpan,r=e.children,n=Au(e,["gridSpan","children"]);return d.createElement("div",vt({},n,{style:n.style,"data-grid-span":t}),r)});Nu.defaultProps={gridSpan:1};var Hp=Object.assign(ap,{createFormGrid:rp,useFormGrid:np,GridColumn:Nu}),Vt=globalThis&&globalThis.__assign||function(){return Vt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Vt.apply(this,arguments)},ip=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},op=function(){var e=$(),t=ot(),r=[];return t.mapProperties(function(n,a){var i,o,l=e.query(e.address.concat(a)).take();(l==null?void 0:l.display)==="none"||(l==null?void 0:l.display)==="hidden"||((i=n["x-component"])===null||i===void 0?void 0:i.indexOf("TabPane"))>-1&&r.push({name:a,props:Vt({key:((o=n==null?void 0:n["x-component-props"])===null||o===void 0?void 0:o.key)||a},n==null?void 0:n["x-component-props"]),schema:n})}),r},lp=U(function(e){var t=$(),r=t.form.queryFeedbacks({type:"error",address:"".concat(t.address.concat(e.name),".*")});return r.length?d.createElement(Ga,{size:"small",className:"errors-badge",count:r.length},e.tab):d.createElement(E.Fragment,null,e.tab)}),Ru=function(e){var t=Zo({activeKey:e,setActiveKey:function(r){t.activeKey=r}});return Nn(t)},ju=U(function(e){var t=e.formTab,r=ip(e,["formTab"]),n=op(),a=E.useMemo(function(){return t||Ru()},[]),i=L("formily-tab",r),o=r.activeKey||(a==null?void 0:a.activeKey);return d.createElement(rs,Vt({},r,{className:C(i,r.className),activeKey:o,onChange:function(l){var s,u;(s=r.onChange)===null||s===void 0||s.call(r,l),(u=a==null?void 0:a.setActiveKey)===null||u===void 0||u.call(a,l)},items:n.map(function(l,s){var u=l.props,c=l.schema,f=l.name;return Vt(Vt({key:s,label:d.createElement(lp,{name:f,tab:u.tab})},u),{children:d.createElement(ye,{schema:c,name:f})})})}))}),up=function(e){var t=e.children;return d.createElement(E.Fragment,null,t)};ju.TabPane=up;ju.createFormTab=Ru;var xn=globalThis&&globalThis.__assign||function(){return xn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xn.apply(this,arguments)},sp=W(Ha,te(function(e,t){return xn(xn({},e),{suffix:d.createElement("span",null,t!=null&&t.loading||t!=null&&t.validating?d.createElement(Cn,null):e.suffix)})}),_e(he.Input)),cp=W(Ha.TextArea,_e(he.Input)),qp=Object.assign(sp,{TextArea:cp}),Wp=W(ns,_e(he.NumberPicker)),Ft=function(e){return e>=48&&e<=57},On=function(e){return e>=97&&e<=122},Sn=function(e){return e>=65&&e<=90},po=function(e){return!(On(e)||Sn(e)||Ft(e))},da=function(e){return On(e)||Sn(e)},fp=function(e){if(!e)return 0;for(var t=0,r=0,n=0,a=0,i=0,o=0,l=0,s=0,u=0,c=function(){return t+r+n+a},f=function(){var oe=t>0?1:0;return oe+=r>0?1:0,oe+=n>0?1:0,oe+=a>0?1:0,oe>2&&c()>=8?oe+1:0},h=0;h<e.length;h++){var v=e.charCodeAt(h);Ft(v)?(t++,h!==0&&h!==e.length-1&&i++,h>0&&Ft(e.charCodeAt(h-1))&&s++):On(v)?(r++,h>0&&On(e.charCodeAt(h-1))&&s++):Sn(v)?(n++,h>0&&Sn(e.charCodeAt(h-1))&&s++):(a++,h!==0&&h!==e.length-1&&i++);for(var p=!1,b=0;b<e.length;b++)e[h]===e[b]&&h!==b&&(p=!0,l+=Math.abs(e.length/(b-h)));if(p){o++;var x=e.length-o;l=Math.ceil(x?l/x:l)}if(h>1){var g=e.charCodeAt(h-1),y=e.charCodeAt(h-2);if(da(v)){if(da(g)&&da(y)){var O=e.toLowerCase(),w=O.charCodeAt(h),T=O.charCodeAt(h-1),V=O.charCodeAt(h-2);w-T===T-V&&Math.abs(w-T)===1&&u++}}else Ft(v)?Ft(g)&&Ft(y)&&v-g===g-y&&Math.abs(v-g)===1&&u++:po(g)&&po(y)&&v-g===g-y&&Math.abs(v-g)===1&&u++}}var D=0,M=c();return D+=4*M,r>0&&(D+=2*(M-r)),n>0&&(D+=2*(M-n)),t!==M&&(D+=4*t),D+=6*a,D+=2*i,D+=2*f(),M===r+n&&(D-=M),M===t&&(D-=t),D-=l,D-=2*s,D-=3*u,D=D<0?0:D,D=D>100?100:D,D>=80?100:D>=60?80:D>=40?60:D>=20?40:20},dp=function(e){return I(e.children)?e.children(fp(String(e.value))):d.createElement(E.Fragment,null,e.children)},Ce=globalThis&&globalThis.__assign||function(){return Ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ce.apply(this,arguments)},vp=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Kp=W(function(e){var t=e.value,r=e.className,n=e.checkStrength,a=vp(e,["value","className","checkStrength"]),i={position:"absolute",zIndex:1,height:8,top:0,background:"#fff",width:1,transform:"translate(-50%, 0)"};return d.createElement("span",{className:r},d.createElement(Ha.Password,Ce({},a,{value:t})),n&&d.createElement(dp,{value:String(t)},function(o){return d.createElement("div",{style:{background:"#e0e0e0",marginBottom:3,position:"relative"}},d.createElement("div",{style:Ce(Ce({},i),{left:"20%"})}),d.createElement("div",{style:Ce(Ce({},i),{left:"40%"})}),d.createElement("div",{style:Ce(Ce({},i),{left:"60%"})}),d.createElement("div",{style:Ce(Ce({},i),{left:"80%"})}),d.createElement("div",{style:{position:"relative",backgroundImage:"-webkit-linear-gradient(left, #ff5500, #ff9300)",transition:"all 0.35s ease-in-out",height:8,width:"100%",marginTop:5,clipPath:"polygon(0 0,".concat(o,"% 0,").concat(o,"% 100%,0 100%)")}}))}))},_e(he.Input)),hp=W(Po,te({value:"checked",onInput:"onChange"})),pp=W(Po.Group,te({dataSource:"options"}),_e(he.Select)),Xp=Object.assign(hp,{__ANT_RADIO:!0,Group:pp}),$a=globalThis&&globalThis.__assign||function(){return $a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$a.apply(this,arguments)},mp=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Yp=function(e){var t=e.forceClear,r=e.validate,n=e.onResetValidateSuccess,a=e.onResetValidateFailed,i=mp(e,["forceClear","validate","onResetValidateSuccess","onResetValidateFailed"]),o=mi();return d.createElement(In,$a({},i,{onClick:function(l){I(i.onClick)&&i.onClick(l)===!1||o.reset("*",{forceClear:t,validate:r}).then(n).catch(a)}}),i.children)},En=globalThis&&globalThis.__assign||function(){return En=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},En.apply(this,arguments)},Jp=W(Oo,te({dataSource:"options",loading:!0},function(e,t){return En(En({},e),{suffixIcon:t!=null&&t.loading||t!=null&&t.validating?d.createElement(Cn,null):e.suffixIcon})}),_e(he.Select)),Ba=globalThis&&globalThis.__assign||function(){return Ba=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ba.apply(this,arguments)},Qp=function(e){var t,r=Pr();return d.createElement(Tn,Ba({size:(t=e.size)!==null&&t!==void 0?t:r==null?void 0:r.spaceGap},e))},Ua=globalThis&&globalThis.__assign||function(){return Ua=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ua.apply(this,arguments)},gp=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Zp=U(function(e){var t=e.onSubmit,r=e.onSubmitFailed,n=e.onSubmitSuccess,a=gp(e,["onSubmit","onSubmitFailed","onSubmitSuccess"]),i=mi();return d.createElement(In,Ua({htmlType:t?"button":"submit",type:"primary"},a,{loading:a.loading!==void 0?a.loading:i.submitting,onClick:function(o){a.onClick&&a.onClick(o)===!1||t&&i.submit(t).then(n).catch(r)}}),a.children)},{forwardRef:!0}),za=globalThis&&globalThis.__assign||function(){return za=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},za.apply(this,arguments)},em=W(as,te({value:"checked"},function(e){return delete e.value,za({},e)})),wn=globalThis&&globalThis.__assign||function(){return wn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},wn.apply(this,arguments)},Mu=function(){return function(e){var t=e.format||"HH:mm:ss",r=e.onChange;return wn(wn({},e),{format:t,value:iu(e.value,t),onChange:function(n){r&&r(Qt(n,t))}})}},bp=W(Io,te(Mu()),_e(he.TimePicker)),yp=W(Io.RangePicker,te(Mu()),_e(he.TimeRangePicker)),tm=Object.assign(bp,{RangePicker:yp}),Mt=globalThis&&globalThis.__assign||function(){return Mt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Mt.apply(this,arguments)},_p=W(is,te({value:"targetKeys"},function(e,t){var r;return Y(t)?e:Mt(Mt({},e),{dataSource:((r=t.dataSource)===null||r===void 0?void 0:r.map(function(n){return Mt(Mt({},n),{title:n.title||n.label,key:n.key||n.value})}))||[]})}));_p.defaultProps={render:function(e){var t;return(t=e.title)!==null&&t!==void 0?t:null}};var Pn=globalThis&&globalThis.__assign||function(){return Pn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Pn.apply(this,arguments)},rm=W(os,te({dataSource:"treeData"},function(e,t){return Pn(Pn({},e),{suffixIcon:t!=null&&t.loading||t!=null&&t.validating?d.createElement(Cn,null):e.suffixIcon})}),_e(he.TreeSelect)),Gr=[{ext:/\.docx/i,icon:"//img.alicdn.com/tfs/TB1n8jfr1uSBuNjy1XcXXcYjFXa-200-200.png"},{ext:/\.pptx/i,icon:"//img.alicdn.com/tfs/TB1ItgWr_tYBeNjy1XdXXXXyVXa-200-200.png"},{ext:/\.jpe?g/i,icon:"//img.alicdn.com/tfs/TB1wrT5r9BYBeNjy0FeXXbnmFXa-200-200.png"},{ext:/\.pdf/i,icon:"//img.alicdn.com/tfs/TB1GwD8r9BYBeNjy0FeXXbnmFXa-200-200.png"},{ext:/\.png/i,icon:"//img.alicdn.com/tfs/TB1BHT5r9BYBeNjy0FeXXbnmFXa-200-200.png"},{ext:/\.eps/i,icon:"//img.alicdn.com/tfs/TB1G_iGrVOWBuNjy0FiXXXFxVXa-200-200.png"},{ext:/\.ai/i,icon:"//img.alicdn.com/tfs/TB1B2cVr_tYBeNjy1XdXXXXyVXa-200-200.png"},{ext:/\.gif/i,icon:"//img.alicdn.com/tfs/TB1DTiGrVOWBuNjy0FiXXXFxVXa-200-200.png"},{ext:/\.svg/i,icon:"//img.alicdn.com/tfs/TB1uUm9rY9YBuNjy0FgXXcxcXXa-200-200.png"},{ext:/\.xlsx?/i,icon:"//img.alicdn.com/tfs/TB1any1r1OSBuNjy0FdXXbDnVXa-200-200.png"},{ext:/\.psd?/i,icon:"//img.alicdn.com/tfs/TB1_nu1r1OSBuNjy0FdXXbDnVXa-200-200.png"},{ext:/\.(wav|aif|aiff|au|mp1|mp2|mp3|ra|rm|ram|mid|rmi)/i,icon:"//img.alicdn.com/tfs/TB1jPvwr49YBuNjy0FfXXXIsVXa-200-200.png"},{ext:/\.(avi|wmv|mpg|mpeg|vob|dat|3gp|mp4|mkv|rm|rmvb|mov|flv)/i,icon:"//img.alicdn.com/tfs/TB1FrT5r9BYBeNjy0FeXXbnmFXa-200-200.png"},{ext:/\.(zip|rar|arj|z|gz|iso|jar|ace|tar|uue|dmg|pkg|lzh|cab)/i,icon:"//img.alicdn.com/tfs/TB10jmfr29TBuNjy0FcXXbeiFXa-200-200.png"},{ext:/\.[^.]+/i,icon:"//img.alicdn.com/tfs/TB10.R4r3mTBuNjy1XbXXaMrVXa-200-200.png"}],nt=globalThis&&globalThis.__assign||function(){return nt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},nt.apply(this,arguments)},xp=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Op=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Sp=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Ep=function(e,t){return t&&N(t.include)?t.include.some(function(r){return e.test(r)}):t&&N(t.exclude)?!t.exclude.some(function(r){return e.test(r)}):!0},wp=function(e,t){for(var r=0;r<Gr.length;r++)if(Gr[r].ext.test(e)&&Ep(Gr[r].ext,t))return Gr[r].icon||e;return e},mo=function(e){return(e==null?void 0:e.url)||(e==null?void 0:e.downloadURL)||(e==null?void 0:e.imgURL)},go=function(e){return(e==null?void 0:e.thumbUrl)||(e==null?void 0:e.url)||(e==null?void 0:e.downloadURL)||(e==null?void 0:e.imgURL)},bo=function(e){return(e==null?void 0:e.errorMessage)||(e==null?void 0:e.errMsg)||(e==null?void 0:e.errorMsg)||(e==null?void 0:e.message)||(typeof(e==null?void 0:e.error)=="string"?e.error:"")},yo=function(e){return(e==null?void 0:e.success)===!1||(e==null?void 0:e.failed)===!0||e!=null&&e.error?"error":(e==null?void 0:e.state)||(e==null?void 0:e.status)},_o=function(e){return e&&e.length?e.map(function(t,r){return nt(nt({},t),{uid:t.uid||"".concat(r),status:yo(t.response)||yo(t),url:mo(t)||mo(t==null?void 0:t.response),thumbUrl:wp(go(t)||go(t==null?void 0:t.response),{exclude:[".png",".jpg",".jpeg",".gif"]})})}):[]},Pp=function(e){var t=$();E.useEffect(function(){var r=gr(function(){return t.value},function(n){var a=e(n);t.setFeedback({type:"error",code:"UploadError",messages:a?[a]:[]})});return function(){r()}},[])},Ip=function(e){e===void 0&&(e="Upload Service Error"),Pp(function(t){for(var r,n,a=ce(t),i=0;i<a.length;i++)if(((r=a[i])===null||r===void 0?void 0:r.status)==="error")return bo((n=a[i])===null||n===void 0?void 0:n.response)||bo(a[i])||e})};function ku(e){var t=e.serviceErrorMessage,r=xp(e,["serviceErrorMessage"]);Ip(t);var n=function(a){var i;(i=r.onChange)===null||i===void 0||i.call(r,_o(Sp([],Op(a.fileList),!1)))};return nt(nt({},r),{fileList:_o(r.fileList),onChange:n})}var Tp=function(e){return e.listType!=="picture-card"?d.createElement(In,null,d.createElement(Ii,null),e.textContent):d.createElement(Ii,{style:{fontSize:20}})},Cp=W(function(e){return d.createElement(To,nt({},ku(e)),e.children||Tp(e))},te({value:"fileList"})),Ap=W(function(e){return d.createElement("div",{className:L("upload-dragger")},d.createElement(To.Dragger,nt({},ku(e)),e.children||d.createElement(d.Fragment,null,d.createElement("p",{className:"ant-upload-drag-icon"},d.createElement(bs,null)),e.textContent&&d.createElement("p",{className:"ant-upload-text"},e.textContent))))},te({value:"fileList"}));Cp.Dragger=Ap;export{Yp as $,jv as A,J as B,vl as C,Bp as D,N as E,Ir as F,ze as G,af as H,qp as I,ce as J,we as K,hi as L,W as M,Wp as N,eu as O,A as P,_e as Q,Xp as R,Jp as S,tm as T,Iv as U,tu as V,Lp as W,$p as X,zp as Y,Kp as Z,he as _,P as a,Zp as a0,_p as a1,rm as a2,Cp as a3,qe as a4,Ne as a5,U as b,Ze as c,qt as d,$ as e,Up as f,ru as g,Vp as h,em as i,Qp as j,Kv as k,Gp as l,Hp as m,ju as n,_ as o,Dp as p,Y as q,gr as r,Fd as s,Be as t,jn as u,kp as v,Vh as w,dr as x,Zl as y,B as z};
